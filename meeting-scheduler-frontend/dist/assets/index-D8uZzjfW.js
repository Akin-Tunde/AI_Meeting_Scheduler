const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BXNzpq3A.js","assets/hooks.module-Cs1IMlRD.js","assets/index-NzZyJS_h.js","assets/browser-CE8oubu2.js","assets/metamask-sdk-DYNMv1FF.js"])))=>i.map(i=>d[i]);
var _0=Object.defineProperty;var Rp=e=>{throw TypeError(e)};var R0=(e,s,o)=>s in e?_0(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o;var po=(e,s,o)=>R0(e,typeof s!="symbol"?s+"":s,o),Kd=(e,s,o)=>s.has(e)||Rp("Cannot "+o);var Pr=(e,s,o)=>(Kd(e,s,"read from private field"),o?o.call(e):s.get(e)),sn=(e,s,o)=>s.has(e)?Rp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,o),Yr=(e,s,o,a)=>(Kd(e,s,"write to private field"),a?a.call(e,o):s.set(e,o),o),mn=(e,s,o)=>(Kd(e,s,"access private method"),o);var al=(e,s,o,a)=>({set _(c){Yr(e,s,c,o)},get _(){return Pr(e,s,a)}});function _mergeNamespaces(e,s){for(var o=0;o<s.length;o++){const a=s[o];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const u=Object.getOwnPropertyDescriptor(a,c);u&&Object.defineProperty(e,c,u.get?u:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function o(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(c){if(c.ep)return;c.ep=!0;const u=o(c);fetch(c.href,u)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var s=e.default;if(typeof s=="function"){var o=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var c=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(o,a,c.get?c:{enumerable:!0,get:function(){return e[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={},hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(fr){return fr===null||typeof fr!="object"?null:(fr=b&&fr[b]||fr["@@iterator"],typeof fr=="function"?fr:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,R={};function T(fr,Ar,Or){this.props=fr,this.context=Ar,this.refs=R,this.updater=Or||S}T.prototype.isReactComponent={},T.prototype.setState=function(fr,Ar){if(typeof fr!="object"&&typeof fr!="function"&&fr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,fr,Ar,"setState")},T.prototype.forceUpdate=function(fr){this.updater.enqueueForceUpdate(this,fr,"forceUpdate")};function k(){}k.prototype=T.prototype;function or(fr,Ar,Or){this.props=fr,this.context=Ar,this.refs=R,this.updater=Or||S}var dr=or.prototype=new k;dr.constructor=or,P(dr,T.prototype),dr.isPureReactComponent=!0;var yr=Array.isArray,lr=Object.prototype.hasOwnProperty,br={current:null},wr={key:!0,ref:!0,__self:!0,__source:!0};function Sr(fr,Ar,Or){var jr,Ur={},qr=null,Lr=null;if(Ar!=null)for(jr in Ar.ref!==void 0&&(Lr=Ar.ref),Ar.key!==void 0&&(qr=""+Ar.key),Ar)lr.call(Ar,jr)&&!wr.hasOwnProperty(jr)&&(Ur[jr]=Ar[jr]);var Wr=arguments.length-2;if(Wr===1)Ur.children=Or;else if(1<Wr){for(var Vr=Array(Wr),Gr=0;Gr<Wr;Gr++)Vr[Gr]=arguments[Gr+2];Ur.children=Vr}if(fr&&fr.defaultProps)for(jr in Wr=fr.defaultProps,Wr)Ur[jr]===void 0&&(Ur[jr]=Wr[jr]);return{$$typeof:e,type:fr,key:qr,ref:Lr,props:Ur,_owner:br.current}}function Rr(fr,Ar){return{$$typeof:e,type:fr.type,key:Ar,ref:fr.ref,props:fr.props,_owner:fr._owner}}function Ir(fr){return typeof fr=="object"&&fr!==null&&fr.$$typeof===e}function xr(fr){var Ar={"=":"=0",":":"=2"};return"$"+fr.replace(/[=:]/g,function(Or){return Ar[Or]})}var C=/\/+/g;function B(fr,Ar){return typeof fr=="object"&&fr!==null&&fr.key!=null?xr(""+fr.key):Ar.toString(36)}function ur(fr,Ar,Or,jr,Ur){var qr=typeof fr;(qr==="undefined"||qr==="boolean")&&(fr=null);var Lr=!1;if(fr===null)Lr=!0;else switch(qr){case"string":case"number":Lr=!0;break;case"object":switch(fr.$$typeof){case e:case s:Lr=!0}}if(Lr)return Lr=fr,Ur=Ur(Lr),fr=jr===""?"."+B(Lr,0):jr,yr(Ur)?(Or="",fr!=null&&(Or=fr.replace(C,"$&/")+"/"),ur(Ur,Ar,Or,"",function(Gr){return Gr})):Ur!=null&&(Ir(Ur)&&(Ur=Rr(Ur,Or+(!Ur.key||Lr&&Lr.key===Ur.key?"":(""+Ur.key).replace(C,"$&/")+"/")+fr)),Ar.push(Ur)),1;if(Lr=0,jr=jr===""?".":jr+":",yr(fr))for(var Wr=0;Wr<fr.length;Wr++){qr=fr[Wr];var Vr=jr+B(qr,Wr);Lr+=ur(qr,Ar,Or,Vr,Ur)}else if(Vr=w(fr),typeof Vr=="function")for(fr=Vr.call(fr),Wr=0;!(qr=fr.next()).done;)qr=qr.value,Vr=jr+B(qr,Wr++),Lr+=ur(qr,Ar,Or,Vr,Ur);else if(qr==="object")throw Ar=String(fr),Error("Objects are not valid as a React child (found: "+(Ar==="[object Object]"?"object with keys {"+Object.keys(fr).join(", ")+"}":Ar)+"). If you meant to render a collection of children, use an array instead.");return Lr}function er(fr,Ar,Or){if(fr==null)return fr;var jr=[],Ur=0;return ur(fr,jr,"","",function(qr){return Ar.call(Or,qr,Ur++)}),jr}function H(fr){if(fr._status===-1){var Ar=fr._result;Ar=Ar(),Ar.then(function(Or){(fr._status===0||fr._status===-1)&&(fr._status=1,fr._result=Or)},function(Or){(fr._status===0||fr._status===-1)&&(fr._status=2,fr._result=Or)}),fr._status===-1&&(fr._status=0,fr._result=Ar)}if(fr._status===1)return fr._result.default;throw fr._result}var pr={current:null},hr={transition:null},mr={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:hr,ReactCurrentOwner:br};function $(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:er,forEach:function(fr,Ar,Or){er(fr,function(){Ar.apply(this,arguments)},Or)},count:function(fr){var Ar=0;return er(fr,function(){Ar++}),Ar},toArray:function(fr){return er(fr,function(Ar){return Ar})||[]},only:function(fr){if(!Ir(fr))throw Error("React.Children.only expected to receive a single React element child.");return fr}},react_production_min.Component=T,react_production_min.Fragment=o,react_production_min.Profiler=c,react_production_min.PureComponent=or,react_production_min.StrictMode=a,react_production_min.Suspense=m,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mr,react_production_min.act=$,react_production_min.cloneElement=function(fr,Ar,Or){if(fr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+fr+".");var jr=P({},fr.props),Ur=fr.key,qr=fr.ref,Lr=fr._owner;if(Ar!=null){if(Ar.ref!==void 0&&(qr=Ar.ref,Lr=br.current),Ar.key!==void 0&&(Ur=""+Ar.key),fr.type&&fr.type.defaultProps)var Wr=fr.type.defaultProps;for(Vr in Ar)lr.call(Ar,Vr)&&!wr.hasOwnProperty(Vr)&&(jr[Vr]=Ar[Vr]===void 0&&Wr!==void 0?Wr[Vr]:Ar[Vr])}var Vr=arguments.length-2;if(Vr===1)jr.children=Or;else if(1<Vr){Wr=Array(Vr);for(var Gr=0;Gr<Vr;Gr++)Wr[Gr]=arguments[Gr+2];jr.children=Wr}return{$$typeof:e,type:fr.type,key:Ur,ref:qr,props:jr,_owner:Lr}},react_production_min.createContext=function(fr){return fr={$$typeof:h,_currentValue:fr,_currentValue2:fr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},fr.Provider={$$typeof:u,_context:fr},fr.Consumer=fr},react_production_min.createElement=Sr,react_production_min.createFactory=function(fr){var Ar=Sr.bind(null,fr);return Ar.type=fr,Ar},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(fr){return{$$typeof:p,render:fr}},react_production_min.isValidElement=Ir,react_production_min.lazy=function(fr){return{$$typeof:v,_payload:{_status:-1,_result:fr},_init:H}},react_production_min.memo=function(fr,Ar){return{$$typeof:y,type:fr,compare:Ar===void 0?null:Ar}},react_production_min.startTransition=function(fr){var Ar=hr.transition;hr.transition={};try{fr()}finally{hr.transition=Ar}},react_production_min.unstable_act=$,react_production_min.useCallback=function(fr,Ar){return pr.current.useCallback(fr,Ar)},react_production_min.useContext=function(fr){return pr.current.useContext(fr)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(fr){return pr.current.useDeferredValue(fr)},react_production_min.useEffect=function(fr,Ar){return pr.current.useEffect(fr,Ar)},react_production_min.useId=function(){return pr.current.useId()},react_production_min.useImperativeHandle=function(fr,Ar,Or){return pr.current.useImperativeHandle(fr,Ar,Or)},react_production_min.useInsertionEffect=function(fr,Ar){return pr.current.useInsertionEffect(fr,Ar)},react_production_min.useLayoutEffect=function(fr,Ar){return pr.current.useLayoutEffect(fr,Ar)},react_production_min.useMemo=function(fr,Ar){return pr.current.useMemo(fr,Ar)},react_production_min.useReducer=function(fr,Ar,Or){return pr.current.useReducer(fr,Ar,Or)},react_production_min.useRef=function(fr){return pr.current.useRef(fr)},react_production_min.useState=function(fr){return pr.current.useState(fr)},react_production_min.useSyncExternalStore=function(fr,Ar,Or){return pr.current.useSyncExternalStore(fr,Ar,Or)},react_production_min.useTransition=function(){return pr.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var e=requireReact(),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,y){var v,b={},w=null,S=null;y!==void 0&&(w=""+y),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(S=m.ref);for(v in m)a.call(m,v)&&!u.hasOwnProperty(v)&&(b[v]=m[v]);if(p&&p.defaultProps)for(v in m=p.defaultProps,m)b[v]===void 0&&(b[v]=m[v]);return{$$typeof:s,type:p,key:w,ref:S,props:b,_owner:c.current}}return reactJsxRuntime_production_min.Fragment=o,reactJsxRuntime_production_min.jsx=h,reactJsxRuntime_production_min.jsxs=h,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),buffer$2={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=p,base64Js.toByteArray=y,base64Js.fromByteArray=w;for(var e=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=a.length;c<u;++c)e[c]=a[c],s[a.charCodeAt(c)]=c;s[45]=62,s[95]=63;function h(S){var P=S.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");R===-1&&(R=P);var T=R===P?0:4-R%4;return[R,T]}function p(S){var P=h(S),R=P[0],T=P[1];return(R+T)*3/4-T}function m(S,P,R){return(P+R)*3/4-R}function y(S){var P,R=h(S),T=R[0],k=R[1],or=new o(m(S,T,k)),dr=0,yr=k>0?T-4:T,lr;for(lr=0;lr<yr;lr+=4)P=s[S.charCodeAt(lr)]<<18|s[S.charCodeAt(lr+1)]<<12|s[S.charCodeAt(lr+2)]<<6|s[S.charCodeAt(lr+3)],or[dr++]=P>>16&255,or[dr++]=P>>8&255,or[dr++]=P&255;return k===2&&(P=s[S.charCodeAt(lr)]<<2|s[S.charCodeAt(lr+1)]>>4,or[dr++]=P&255),k===1&&(P=s[S.charCodeAt(lr)]<<10|s[S.charCodeAt(lr+1)]<<4|s[S.charCodeAt(lr+2)]>>2,or[dr++]=P>>8&255,or[dr++]=P&255),or}function v(S){return e[S>>18&63]+e[S>>12&63]+e[S>>6&63]+e[S&63]}function b(S,P,R){for(var T,k=[],or=P;or<R;or+=3)T=(S[or]<<16&16711680)+(S[or+1]<<8&65280)+(S[or+2]&255),k.push(v(T));return k.join("")}function w(S){for(var P,R=S.length,T=R%3,k=[],or=16383,dr=0,yr=R-T;dr<yr;dr+=or)k.push(b(S,dr,dr+or>yr?yr:dr+or));return T===1?(P=S[R-1],k.push(e[P>>2]+e[P<<4&63]+"==")):T===2&&(P=(S[R-2]<<8)+S[R-1],k.push(e[P>>10]+e[P>>4&63]+e[P<<2&63]+"=")),k.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(e,s,o,a,c){var u,h,p=c*8-a-1,m=(1<<p)-1,y=m>>1,v=-7,b=o?c-1:0,w=o?-1:1,S=e[s+b];for(b+=w,u=S&(1<<-v)-1,S>>=-v,v+=p;v>0;u=u*256+e[s+b],b+=w,v-=8);for(h=u&(1<<-v)-1,u>>=-v,v+=a;v>0;h=h*256+e[s+b],b+=w,v-=8);if(u===0)u=1-y;else{if(u===m)return h?NaN:(S?-1:1)*(1/0);h=h+Math.pow(2,a),u=u-y}return(S?-1:1)*h*Math.pow(2,u-a)},ieee754.write=function(e,s,o,a,c,u){var h,p,m,y=u*8-c-1,v=(1<<y)-1,b=v>>1,w=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=a?0:u-1,P=a?1:-1,R=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(p=isNaN(s)?1:0,h=v):(h=Math.floor(Math.log(s)/Math.LN2),s*(m=Math.pow(2,-h))<1&&(h--,m*=2),h+b>=1?s+=w/m:s+=w*Math.pow(2,1-b),s*m>=2&&(h++,m/=2),h+b>=v?(p=0,h=v):h+b>=1?(p=(s*m-1)*Math.pow(2,c),h=h+b):(p=s*Math.pow(2,b-1)*Math.pow(2,c),h=0));c>=8;e[o+S]=p&255,S+=P,p/=256,c-=8);for(h=h<<c|p,y+=c;y>0;e[o+S]=h&255,S+=P,h/=256,y-=8);e[o+S-P]|=R*128}),ieee754}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(e){const s=requireBase64Js(),o=requireIeee754(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=p,e.SlowBuffer=or,e.INSPECT_MAX_BYTES=50;const c=2147483647;e.kMaxLength=c,p.TYPED_ARRAY_SUPPORT=u(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const vr=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(vr,K),vr.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function h(vr){if(vr>c)throw new RangeError('The value "'+vr+'" is invalid for option "size"');const K=new Uint8Array(vr);return Object.setPrototypeOf(K,p.prototype),K}function p(vr,K,cr){if(typeof vr=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(vr)}return m(vr,K,cr)}p.poolSize=8192;function m(vr,K,cr){if(typeof vr=="string")return w(vr,K);if(ArrayBuffer.isView(vr))return P(vr);if(vr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof vr);if(yn(vr,ArrayBuffer)||vr&&yn(vr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yn(vr,SharedArrayBuffer)||vr&&yn(vr.buffer,SharedArrayBuffer)))return R(vr,K,cr);if(typeof vr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Er=vr.valueOf&&vr.valueOf();if(Er!=null&&Er!==vr)return p.from(Er,K,cr);const Nr=T(vr);if(Nr)return Nr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof vr[Symbol.toPrimitive]=="function")return p.from(vr[Symbol.toPrimitive]("string"),K,cr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof vr)}p.from=function(vr,K,cr){return m(vr,K,cr)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function y(vr){if(typeof vr!="number")throw new TypeError('"size" argument must be of type number');if(vr<0)throw new RangeError('The value "'+vr+'" is invalid for option "size"')}function v(vr,K,cr){return y(vr),vr<=0?h(vr):K!==void 0?typeof cr=="string"?h(vr).fill(K,cr):h(vr).fill(K):h(vr)}p.alloc=function(vr,K,cr){return v(vr,K,cr)};function b(vr){return y(vr),h(vr<0?0:k(vr)|0)}p.allocUnsafe=function(vr){return b(vr)},p.allocUnsafeSlow=function(vr){return b(vr)};function w(vr,K){if((typeof K!="string"||K==="")&&(K="utf8"),!p.isEncoding(K))throw new TypeError("Unknown encoding: "+K);const cr=dr(vr,K)|0;let Er=h(cr);const Nr=Er.write(vr,K);return Nr!==cr&&(Er=Er.slice(0,Nr)),Er}function S(vr){const K=vr.length<0?0:k(vr.length)|0,cr=h(K);for(let Er=0;Er<K;Er+=1)cr[Er]=vr[Er]&255;return cr}function P(vr){if(yn(vr,Uint8Array)){const K=new Uint8Array(vr);return R(K.buffer,K.byteOffset,K.byteLength)}return S(vr)}function R(vr,K,cr){if(K<0||vr.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(vr.byteLength<K+(cr||0))throw new RangeError('"length" is outside of buffer bounds');let Er;return K===void 0&&cr===void 0?Er=new Uint8Array(vr):cr===void 0?Er=new Uint8Array(vr,K):Er=new Uint8Array(vr,K,cr),Object.setPrototypeOf(Er,p.prototype),Er}function T(vr){if(p.isBuffer(vr)){const K=k(vr.length)|0,cr=h(K);return cr.length===0||vr.copy(cr,0,0,K),cr}if(vr.length!==void 0)return typeof vr.length!="number"||Bi(vr.length)?h(0):S(vr);if(vr.type==="Buffer"&&Array.isArray(vr.data))return S(vr.data)}function k(vr){if(vr>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return vr|0}function or(vr){return+vr!=vr&&(vr=0),p.alloc(+vr)}p.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==p.prototype},p.compare=function(K,cr){if(yn(K,Uint8Array)&&(K=p.from(K,K.offset,K.byteLength)),yn(cr,Uint8Array)&&(cr=p.from(cr,cr.offset,cr.byteLength)),!p.isBuffer(K)||!p.isBuffer(cr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===cr)return 0;let Er=K.length,Nr=cr.length;for(let $r=0,Dr=Math.min(Er,Nr);$r<Dr;++$r)if(K[$r]!==cr[$r]){Er=K[$r],Nr=cr[$r];break}return Er<Nr?-1:Nr<Er?1:0},p.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(K,cr){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return p.alloc(0);let Er;if(cr===void 0)for(cr=0,Er=0;Er<K.length;++Er)cr+=K[Er].length;const Nr=p.allocUnsafe(cr);let $r=0;for(Er=0;Er<K.length;++Er){let Dr=K[Er];if(yn(Dr,Uint8Array))$r+Dr.length>Nr.length?(p.isBuffer(Dr)||(Dr=p.from(Dr)),Dr.copy(Nr,$r)):Uint8Array.prototype.set.call(Nr,Dr,$r);else if(p.isBuffer(Dr))Dr.copy(Nr,$r);else throw new TypeError('"list" argument must be an Array of Buffers');$r+=Dr.length}return Nr};function dr(vr,K){if(p.isBuffer(vr))return vr.length;if(ArrayBuffer.isView(vr)||yn(vr,ArrayBuffer))return vr.byteLength;if(typeof vr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof vr);const cr=vr.length,Er=arguments.length>2&&arguments[2]===!0;if(!Er&&cr===0)return 0;let Nr=!1;for(;;)switch(K){case"ascii":case"latin1":case"binary":return cr;case"utf8":case"utf-8":return Xn(vr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cr*2;case"hex":return cr>>>1;case"base64":return xi(vr).length;default:if(Nr)return Er?-1:Xn(vr).length;K=(""+K).toLowerCase(),Nr=!0}}p.byteLength=dr;function yr(vr,K,cr){let Er=!1;if((K===void 0||K<0)&&(K=0),K>this.length||((cr===void 0||cr>this.length)&&(cr=this.length),cr<=0)||(cr>>>=0,K>>>=0,cr<=K))return"";for(vr||(vr="utf8");;)switch(vr){case"hex":return mr(this,K,cr);case"utf8":case"utf-8":return ur(this,K,cr);case"ascii":return pr(this,K,cr);case"latin1":case"binary":return hr(this,K,cr);case"base64":return B(this,K,cr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,K,cr);default:if(Er)throw new TypeError("Unknown encoding: "+vr);vr=(vr+"").toLowerCase(),Er=!0}}p.prototype._isBuffer=!0;function lr(vr,K,cr){const Er=vr[K];vr[K]=vr[cr],vr[cr]=Er}p.prototype.swap16=function(){const K=this.length;if(K%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let cr=0;cr<K;cr+=2)lr(this,cr,cr+1);return this},p.prototype.swap32=function(){const K=this.length;if(K%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let cr=0;cr<K;cr+=4)lr(this,cr,cr+3),lr(this,cr+1,cr+2);return this},p.prototype.swap64=function(){const K=this.length;if(K%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let cr=0;cr<K;cr+=8)lr(this,cr,cr+7),lr(this,cr+1,cr+6),lr(this,cr+2,cr+5),lr(this,cr+3,cr+4);return this},p.prototype.toString=function(){const K=this.length;return K===0?"":arguments.length===0?ur(this,0,K):yr.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(K){if(!p.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K?!0:p.compare(this,K)===0},p.prototype.inspect=function(){let K="";const cr=e.INSPECT_MAX_BYTES;return K=this.toString("hex",0,cr).replace(/(.{2})/g,"$1 ").trim(),this.length>cr&&(K+=" ... "),"<Buffer "+K+">"},a&&(p.prototype[a]=p.prototype.inspect),p.prototype.compare=function(K,cr,Er,Nr,$r){if(yn(K,Uint8Array)&&(K=p.from(K,K.offset,K.byteLength)),!p.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(cr===void 0&&(cr=0),Er===void 0&&(Er=K?K.length:0),Nr===void 0&&(Nr=0),$r===void 0&&($r=this.length),cr<0||Er>K.length||Nr<0||$r>this.length)throw new RangeError("out of range index");if(Nr>=$r&&cr>=Er)return 0;if(Nr>=$r)return-1;if(cr>=Er)return 1;if(cr>>>=0,Er>>>=0,Nr>>>=0,$r>>>=0,this===K)return 0;let Dr=$r-Nr,rn=Er-cr;const In=Math.min(Dr,rn),ln=this.slice(Nr,$r),dn=K.slice(cr,Er);for(let Sn=0;Sn<In;++Sn)if(ln[Sn]!==dn[Sn]){Dr=ln[Sn],rn=dn[Sn];break}return Dr<rn?-1:rn<Dr?1:0};function br(vr,K,cr,Er,Nr){if(vr.length===0)return-1;if(typeof cr=="string"?(Er=cr,cr=0):cr>2147483647?cr=2147483647:cr<-2147483648&&(cr=-2147483648),cr=+cr,Bi(cr)&&(cr=Nr?0:vr.length-1),cr<0&&(cr=vr.length+cr),cr>=vr.length){if(Nr)return-1;cr=vr.length-1}else if(cr<0)if(Nr)cr=0;else return-1;if(typeof K=="string"&&(K=p.from(K,Er)),p.isBuffer(K))return K.length===0?-1:wr(vr,K,cr,Er,Nr);if(typeof K=="number")return K=K&255,typeof Uint8Array.prototype.indexOf=="function"?Nr?Uint8Array.prototype.indexOf.call(vr,K,cr):Uint8Array.prototype.lastIndexOf.call(vr,K,cr):wr(vr,[K],cr,Er,Nr);throw new TypeError("val must be string, number or Buffer")}function wr(vr,K,cr,Er,Nr){let $r=1,Dr=vr.length,rn=K.length;if(Er!==void 0&&(Er=String(Er).toLowerCase(),Er==="ucs2"||Er==="ucs-2"||Er==="utf16le"||Er==="utf-16le")){if(vr.length<2||K.length<2)return-1;$r=2,Dr/=2,rn/=2,cr/=2}function In(dn,Sn){return $r===1?dn[Sn]:dn.readUInt16BE(Sn*$r)}let ln;if(Nr){let dn=-1;for(ln=cr;ln<Dr;ln++)if(In(vr,ln)===In(K,dn===-1?0:ln-dn)){if(dn===-1&&(dn=ln),ln-dn+1===rn)return dn*$r}else dn!==-1&&(ln-=ln-dn),dn=-1}else for(cr+rn>Dr&&(cr=Dr-rn),ln=cr;ln>=0;ln--){let dn=!0;for(let Sn=0;Sn<rn;Sn++)if(In(vr,ln+Sn)!==In(K,Sn)){dn=!1;break}if(dn)return ln}return-1}p.prototype.includes=function(K,cr,Er){return this.indexOf(K,cr,Er)!==-1},p.prototype.indexOf=function(K,cr,Er){return br(this,K,cr,Er,!0)},p.prototype.lastIndexOf=function(K,cr,Er){return br(this,K,cr,Er,!1)};function Sr(vr,K,cr,Er){cr=Number(cr)||0;const Nr=vr.length-cr;Er?(Er=Number(Er),Er>Nr&&(Er=Nr)):Er=Nr;const $r=K.length;Er>$r/2&&(Er=$r/2);let Dr;for(Dr=0;Dr<Er;++Dr){const rn=parseInt(K.substr(Dr*2,2),16);if(Bi(rn))return Dr;vr[cr+Dr]=rn}return Dr}function Rr(vr,K,cr,Er){return xn(Xn(K,vr.length-cr),vr,cr,Er)}function Ir(vr,K,cr,Er){return xn(An(K),vr,cr,Er)}function xr(vr,K,cr,Er){return xn(xi(K),vr,cr,Er)}function C(vr,K,cr,Er){return xn(En(K,vr.length-cr),vr,cr,Er)}p.prototype.write=function(K,cr,Er,Nr){if(cr===void 0)Nr="utf8",Er=this.length,cr=0;else if(Er===void 0&&typeof cr=="string")Nr=cr,Er=this.length,cr=0;else if(isFinite(cr))cr=cr>>>0,isFinite(Er)?(Er=Er>>>0,Nr===void 0&&(Nr="utf8")):(Nr=Er,Er=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $r=this.length-cr;if((Er===void 0||Er>$r)&&(Er=$r),K.length>0&&(Er<0||cr<0)||cr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Nr||(Nr="utf8");let Dr=!1;for(;;)switch(Nr){case"hex":return Sr(this,K,cr,Er);case"utf8":case"utf-8":return Rr(this,K,cr,Er);case"ascii":case"latin1":case"binary":return Ir(this,K,cr,Er);case"base64":return xr(this,K,cr,Er);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,K,cr,Er);default:if(Dr)throw new TypeError("Unknown encoding: "+Nr);Nr=(""+Nr).toLowerCase(),Dr=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(vr,K,cr){return K===0&&cr===vr.length?s.fromByteArray(vr):s.fromByteArray(vr.slice(K,cr))}function ur(vr,K,cr){cr=Math.min(vr.length,cr);const Er=[];let Nr=K;for(;Nr<cr;){const $r=vr[Nr];let Dr=null,rn=$r>239?4:$r>223?3:$r>191?2:1;if(Nr+rn<=cr){let In,ln,dn,Sn;switch(rn){case 1:$r<128&&(Dr=$r);break;case 2:In=vr[Nr+1],(In&192)===128&&(Sn=($r&31)<<6|In&63,Sn>127&&(Dr=Sn));break;case 3:In=vr[Nr+1],ln=vr[Nr+2],(In&192)===128&&(ln&192)===128&&(Sn=($r&15)<<12|(In&63)<<6|ln&63,Sn>2047&&(Sn<55296||Sn>57343)&&(Dr=Sn));break;case 4:In=vr[Nr+1],ln=vr[Nr+2],dn=vr[Nr+3],(In&192)===128&&(ln&192)===128&&(dn&192)===128&&(Sn=($r&15)<<18|(In&63)<<12|(ln&63)<<6|dn&63,Sn>65535&&Sn<1114112&&(Dr=Sn))}}Dr===null?(Dr=65533,rn=1):Dr>65535&&(Dr-=65536,Er.push(Dr>>>10&1023|55296),Dr=56320|Dr&1023),Er.push(Dr),Nr+=rn}return H(Er)}const er=4096;function H(vr){const K=vr.length;if(K<=er)return String.fromCharCode.apply(String,vr);let cr="",Er=0;for(;Er<K;)cr+=String.fromCharCode.apply(String,vr.slice(Er,Er+=er));return cr}function pr(vr,K,cr){let Er="";cr=Math.min(vr.length,cr);for(let Nr=K;Nr<cr;++Nr)Er+=String.fromCharCode(vr[Nr]&127);return Er}function hr(vr,K,cr){let Er="";cr=Math.min(vr.length,cr);for(let Nr=K;Nr<cr;++Nr)Er+=String.fromCharCode(vr[Nr]);return Er}function mr(vr,K,cr){const Er=vr.length;(!K||K<0)&&(K=0),(!cr||cr<0||cr>Er)&&(cr=Er);let Nr="";for(let $r=K;$r<cr;++$r)Nr+=Pn[vr[$r]];return Nr}function $(vr,K,cr){const Er=vr.slice(K,cr);let Nr="";for(let $r=0;$r<Er.length-1;$r+=2)Nr+=String.fromCharCode(Er[$r]+Er[$r+1]*256);return Nr}p.prototype.slice=function(K,cr){const Er=this.length;K=~~K,cr=cr===void 0?Er:~~cr,K<0?(K+=Er,K<0&&(K=0)):K>Er&&(K=Er),cr<0?(cr+=Er,cr<0&&(cr=0)):cr>Er&&(cr=Er),cr<K&&(cr=K);const Nr=this.subarray(K,cr);return Object.setPrototypeOf(Nr,p.prototype),Nr};function fr(vr,K,cr){if(vr%1!==0||vr<0)throw new RangeError("offset is not uint");if(vr+K>cr)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(K,cr,Er){K=K>>>0,cr=cr>>>0,Er||fr(K,cr,this.length);let Nr=this[K],$r=1,Dr=0;for(;++Dr<cr&&($r*=256);)Nr+=this[K+Dr]*$r;return Nr},p.prototype.readUintBE=p.prototype.readUIntBE=function(K,cr,Er){K=K>>>0,cr=cr>>>0,Er||fr(K,cr,this.length);let Nr=this[K+--cr],$r=1;for(;cr>0&&($r*=256);)Nr+=this[K+--cr]*$r;return Nr},p.prototype.readUint8=p.prototype.readUInt8=function(K,cr){return K=K>>>0,cr||fr(K,1,this.length),this[K]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(K,cr){return K=K>>>0,cr||fr(K,2,this.length),this[K]|this[K+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(K,cr){return K=K>>>0,cr||fr(K,2,this.length),this[K]<<8|this[K+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(K,cr){return K=K>>>0,cr||fr(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+this[K+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(K,cr){return K=K>>>0,cr||fr(K,4,this.length),this[K]*16777216+(this[K+1]<<16|this[K+2]<<8|this[K+3])},p.prototype.readBigUInt64LE=gn(function(K){K=K>>>0,Qr(K,"offset");const cr=this[K],Er=this[K+7];(cr===void 0||Er===void 0)&&vn(K,this.length-8);const Nr=cr+this[++K]*2**8+this[++K]*2**16+this[++K]*2**24,$r=this[++K]+this[++K]*2**8+this[++K]*2**16+Er*2**24;return BigInt(Nr)+(BigInt($r)<<BigInt(32))}),p.prototype.readBigUInt64BE=gn(function(K){K=K>>>0,Qr(K,"offset");const cr=this[K],Er=this[K+7];(cr===void 0||Er===void 0)&&vn(K,this.length-8);const Nr=cr*2**24+this[++K]*2**16+this[++K]*2**8+this[++K],$r=this[++K]*2**24+this[++K]*2**16+this[++K]*2**8+Er;return(BigInt(Nr)<<BigInt(32))+BigInt($r)}),p.prototype.readIntLE=function(K,cr,Er){K=K>>>0,cr=cr>>>0,Er||fr(K,cr,this.length);let Nr=this[K],$r=1,Dr=0;for(;++Dr<cr&&($r*=256);)Nr+=this[K+Dr]*$r;return $r*=128,Nr>=$r&&(Nr-=Math.pow(2,8*cr)),Nr},p.prototype.readIntBE=function(K,cr,Er){K=K>>>0,cr=cr>>>0,Er||fr(K,cr,this.length);let Nr=cr,$r=1,Dr=this[K+--Nr];for(;Nr>0&&($r*=256);)Dr+=this[K+--Nr]*$r;return $r*=128,Dr>=$r&&(Dr-=Math.pow(2,8*cr)),Dr},p.prototype.readInt8=function(K,cr){return K=K>>>0,cr||fr(K,1,this.length),this[K]&128?(255-this[K]+1)*-1:this[K]},p.prototype.readInt16LE=function(K,cr){K=K>>>0,cr||fr(K,2,this.length);const Er=this[K]|this[K+1]<<8;return Er&32768?Er|4294901760:Er},p.prototype.readInt16BE=function(K,cr){K=K>>>0,cr||fr(K,2,this.length);const Er=this[K+1]|this[K]<<8;return Er&32768?Er|4294901760:Er},p.prototype.readInt32LE=function(K,cr){return K=K>>>0,cr||fr(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},p.prototype.readInt32BE=function(K,cr){return K=K>>>0,cr||fr(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},p.prototype.readBigInt64LE=gn(function(K){K=K>>>0,Qr(K,"offset");const cr=this[K],Er=this[K+7];(cr===void 0||Er===void 0)&&vn(K,this.length-8);const Nr=this[K+4]+this[K+5]*2**8+this[K+6]*2**16+(Er<<24);return(BigInt(Nr)<<BigInt(32))+BigInt(cr+this[++K]*2**8+this[++K]*2**16+this[++K]*2**24)}),p.prototype.readBigInt64BE=gn(function(K){K=K>>>0,Qr(K,"offset");const cr=this[K],Er=this[K+7];(cr===void 0||Er===void 0)&&vn(K,this.length-8);const Nr=(cr<<24)+this[++K]*2**16+this[++K]*2**8+this[++K];return(BigInt(Nr)<<BigInt(32))+BigInt(this[++K]*2**24+this[++K]*2**16+this[++K]*2**8+Er)}),p.prototype.readFloatLE=function(K,cr){return K=K>>>0,cr||fr(K,4,this.length),o.read(this,K,!0,23,4)},p.prototype.readFloatBE=function(K,cr){return K=K>>>0,cr||fr(K,4,this.length),o.read(this,K,!1,23,4)},p.prototype.readDoubleLE=function(K,cr){return K=K>>>0,cr||fr(K,8,this.length),o.read(this,K,!0,52,8)},p.prototype.readDoubleBE=function(K,cr){return K=K>>>0,cr||fr(K,8,this.length),o.read(this,K,!1,52,8)};function Ar(vr,K,cr,Er,Nr,$r){if(!p.isBuffer(vr))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>Nr||K<$r)throw new RangeError('"value" argument is out of bounds');if(cr+Er>vr.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(K,cr,Er,Nr){if(K=+K,cr=cr>>>0,Er=Er>>>0,!Nr){const rn=Math.pow(2,8*Er)-1;Ar(this,K,cr,Er,rn,0)}let $r=1,Dr=0;for(this[cr]=K&255;++Dr<Er&&($r*=256);)this[cr+Dr]=K/$r&255;return cr+Er},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(K,cr,Er,Nr){if(K=+K,cr=cr>>>0,Er=Er>>>0,!Nr){const rn=Math.pow(2,8*Er)-1;Ar(this,K,cr,Er,rn,0)}let $r=Er-1,Dr=1;for(this[cr+$r]=K&255;--$r>=0&&(Dr*=256);)this[cr+$r]=K/Dr&255;return cr+Er},p.prototype.writeUint8=p.prototype.writeUInt8=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,1,255,0),this[cr]=K&255,cr+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,2,65535,0),this[cr]=K&255,this[cr+1]=K>>>8,cr+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,2,65535,0),this[cr]=K>>>8,this[cr+1]=K&255,cr+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,4,4294967295,0),this[cr+3]=K>>>24,this[cr+2]=K>>>16,this[cr+1]=K>>>8,this[cr]=K&255,cr+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,4,4294967295,0),this[cr]=K>>>24,this[cr+1]=K>>>16,this[cr+2]=K>>>8,this[cr+3]=K&255,cr+4};function Or(vr,K,cr,Er,Nr){Jr(K,Er,Nr,vr,cr,7);let $r=Number(K&BigInt(4294967295));vr[cr++]=$r,$r=$r>>8,vr[cr++]=$r,$r=$r>>8,vr[cr++]=$r,$r=$r>>8,vr[cr++]=$r;let Dr=Number(K>>BigInt(32)&BigInt(4294967295));return vr[cr++]=Dr,Dr=Dr>>8,vr[cr++]=Dr,Dr=Dr>>8,vr[cr++]=Dr,Dr=Dr>>8,vr[cr++]=Dr,cr}function jr(vr,K,cr,Er,Nr){Jr(K,Er,Nr,vr,cr,7);let $r=Number(K&BigInt(4294967295));vr[cr+7]=$r,$r=$r>>8,vr[cr+6]=$r,$r=$r>>8,vr[cr+5]=$r,$r=$r>>8,vr[cr+4]=$r;let Dr=Number(K>>BigInt(32)&BigInt(4294967295));return vr[cr+3]=Dr,Dr=Dr>>8,vr[cr+2]=Dr,Dr=Dr>>8,vr[cr+1]=Dr,Dr=Dr>>8,vr[cr]=Dr,cr+8}p.prototype.writeBigUInt64LE=gn(function(K,cr=0){return Or(this,K,cr,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=gn(function(K,cr=0){return jr(this,K,cr,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(K,cr,Er,Nr){if(K=+K,cr=cr>>>0,!Nr){const In=Math.pow(2,8*Er-1);Ar(this,K,cr,Er,In-1,-In)}let $r=0,Dr=1,rn=0;for(this[cr]=K&255;++$r<Er&&(Dr*=256);)K<0&&rn===0&&this[cr+$r-1]!==0&&(rn=1),this[cr+$r]=(K/Dr>>0)-rn&255;return cr+Er},p.prototype.writeIntBE=function(K,cr,Er,Nr){if(K=+K,cr=cr>>>0,!Nr){const In=Math.pow(2,8*Er-1);Ar(this,K,cr,Er,In-1,-In)}let $r=Er-1,Dr=1,rn=0;for(this[cr+$r]=K&255;--$r>=0&&(Dr*=256);)K<0&&rn===0&&this[cr+$r+1]!==0&&(rn=1),this[cr+$r]=(K/Dr>>0)-rn&255;return cr+Er},p.prototype.writeInt8=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,1,127,-128),K<0&&(K=255+K+1),this[cr]=K&255,cr+1},p.prototype.writeInt16LE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,2,32767,-32768),this[cr]=K&255,this[cr+1]=K>>>8,cr+2},p.prototype.writeInt16BE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,2,32767,-32768),this[cr]=K>>>8,this[cr+1]=K&255,cr+2},p.prototype.writeInt32LE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,4,2147483647,-2147483648),this[cr]=K&255,this[cr+1]=K>>>8,this[cr+2]=K>>>16,this[cr+3]=K>>>24,cr+4},p.prototype.writeInt32BE=function(K,cr,Er){return K=+K,cr=cr>>>0,Er||Ar(this,K,cr,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[cr]=K>>>24,this[cr+1]=K>>>16,this[cr+2]=K>>>8,this[cr+3]=K&255,cr+4},p.prototype.writeBigInt64LE=gn(function(K,cr=0){return Or(this,K,cr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=gn(function(K,cr=0){return jr(this,K,cr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ur(vr,K,cr,Er,Nr,$r){if(cr+Er>vr.length)throw new RangeError("Index out of range");if(cr<0)throw new RangeError("Index out of range")}function qr(vr,K,cr,Er,Nr){return K=+K,cr=cr>>>0,Nr||Ur(vr,K,cr,4),o.write(vr,K,cr,Er,23,4),cr+4}p.prototype.writeFloatLE=function(K,cr,Er){return qr(this,K,cr,!0,Er)},p.prototype.writeFloatBE=function(K,cr,Er){return qr(this,K,cr,!1,Er)};function Lr(vr,K,cr,Er,Nr){return K=+K,cr=cr>>>0,Nr||Ur(vr,K,cr,8),o.write(vr,K,cr,Er,52,8),cr+8}p.prototype.writeDoubleLE=function(K,cr,Er){return Lr(this,K,cr,!0,Er)},p.prototype.writeDoubleBE=function(K,cr,Er){return Lr(this,K,cr,!1,Er)},p.prototype.copy=function(K,cr,Er,Nr){if(!p.isBuffer(K))throw new TypeError("argument should be a Buffer");if(Er||(Er=0),!Nr&&Nr!==0&&(Nr=this.length),cr>=K.length&&(cr=K.length),cr||(cr=0),Nr>0&&Nr<Er&&(Nr=Er),Nr===Er||K.length===0||this.length===0)return 0;if(cr<0)throw new RangeError("targetStart out of bounds");if(Er<0||Er>=this.length)throw new RangeError("Index out of range");if(Nr<0)throw new RangeError("sourceEnd out of bounds");Nr>this.length&&(Nr=this.length),K.length-cr<Nr-Er&&(Nr=K.length-cr+Er);const $r=Nr-Er;return this===K&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(cr,Er,Nr):Uint8Array.prototype.set.call(K,this.subarray(Er,Nr),cr),$r},p.prototype.fill=function(K,cr,Er,Nr){if(typeof K=="string"){if(typeof cr=="string"?(Nr=cr,cr=0,Er=this.length):typeof Er=="string"&&(Nr=Er,Er=this.length),Nr!==void 0&&typeof Nr!="string")throw new TypeError("encoding must be a string");if(typeof Nr=="string"&&!p.isEncoding(Nr))throw new TypeError("Unknown encoding: "+Nr);if(K.length===1){const Dr=K.charCodeAt(0);(Nr==="utf8"&&Dr<128||Nr==="latin1")&&(K=Dr)}}else typeof K=="number"?K=K&255:typeof K=="boolean"&&(K=Number(K));if(cr<0||this.length<cr||this.length<Er)throw new RangeError("Out of range index");if(Er<=cr)return this;cr=cr>>>0,Er=Er===void 0?this.length:Er>>>0,K||(K=0);let $r;if(typeof K=="number")for($r=cr;$r<Er;++$r)this[$r]=K;else{const Dr=p.isBuffer(K)?K:p.from(K,Nr),rn=Dr.length;if(rn===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for($r=0;$r<Er-cr;++$r)this[$r+cr]=Dr[$r%rn]}return this};const Wr={};function Vr(vr,K,cr){Wr[vr]=class extends cr{constructor(){super(),Object.defineProperty(this,"message",{value:K.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${vr}]`,this.stack,delete this.name}get code(){return vr}set code(Nr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Nr,writable:!0})}toString(){return`${this.name} [${vr}]: ${this.message}`}}}Vr("ERR_BUFFER_OUT_OF_BOUNDS",function(vr){return vr?`${vr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Vr("ERR_INVALID_ARG_TYPE",function(vr,K){return`The "${vr}" argument must be of type number. Received type ${typeof K}`},TypeError),Vr("ERR_OUT_OF_RANGE",function(vr,K,cr){let Er=`The value of "${vr}" is out of range.`,Nr=cr;return Number.isInteger(cr)&&Math.abs(cr)>2**32?Nr=Gr(String(cr)):typeof cr=="bigint"&&(Nr=String(cr),(cr>BigInt(2)**BigInt(32)||cr<-(BigInt(2)**BigInt(32)))&&(Nr=Gr(Nr)),Nr+="n"),Er+=` It must be ${K}. Received ${Nr}`,Er},RangeError);function Gr(vr){let K="",cr=vr.length;const Er=vr[0]==="-"?1:0;for(;cr>=Er+4;cr-=3)K=`_${vr.slice(cr-3,cr)}${K}`;return`${vr.slice(0,cr)}${K}`}function un(vr,K,cr){Qr(K,"offset"),(vr[K]===void 0||vr[K+cr]===void 0)&&vn(K,vr.length-(cr+1))}function Jr(vr,K,cr,Er,Nr,$r){if(vr>cr||vr<K){const Dr=typeof K=="bigint"?"n":"";let rn;throw K===0||K===BigInt(0)?rn=`>= 0${Dr} and < 2${Dr} ** ${($r+1)*8}${Dr}`:rn=`>= -(2${Dr} ** ${($r+1)*8-1}${Dr}) and < 2 ** ${($r+1)*8-1}${Dr}`,new Wr.ERR_OUT_OF_RANGE("value",rn,vr)}un(Er,Nr,$r)}function Qr(vr,K){if(typeof vr!="number")throw new Wr.ERR_INVALID_ARG_TYPE(K,"number",vr)}function vn(vr,K,cr){throw Math.floor(vr)!==vr?(Qr(vr,cr),new Wr.ERR_OUT_OF_RANGE("offset","an integer",vr)):K<0?new Wr.ERR_BUFFER_OUT_OF_BOUNDS:new Wr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${K}`,vr)}const hn=/[^+/0-9A-Za-z-_]/g;function pn(vr){if(vr=vr.split("=")[0],vr=vr.trim().replace(hn,""),vr.length<2)return"";for(;vr.length%4!==0;)vr=vr+"=";return vr}function Xn(vr,K){K=K||1/0;let cr;const Er=vr.length;let Nr=null;const $r=[];for(let Dr=0;Dr<Er;++Dr){if(cr=vr.charCodeAt(Dr),cr>55295&&cr<57344){if(!Nr){if(cr>56319){(K-=3)>-1&&$r.push(239,191,189);continue}else if(Dr+1===Er){(K-=3)>-1&&$r.push(239,191,189);continue}Nr=cr;continue}if(cr<56320){(K-=3)>-1&&$r.push(239,191,189),Nr=cr;continue}cr=(Nr-55296<<10|cr-56320)+65536}else Nr&&(K-=3)>-1&&$r.push(239,191,189);if(Nr=null,cr<128){if((K-=1)<0)break;$r.push(cr)}else if(cr<2048){if((K-=2)<0)break;$r.push(cr>>6|192,cr&63|128)}else if(cr<65536){if((K-=3)<0)break;$r.push(cr>>12|224,cr>>6&63|128,cr&63|128)}else if(cr<1114112){if((K-=4)<0)break;$r.push(cr>>18|240,cr>>12&63|128,cr>>6&63|128,cr&63|128)}else throw new Error("Invalid code point")}return $r}function An(vr){const K=[];for(let cr=0;cr<vr.length;++cr)K.push(vr.charCodeAt(cr)&255);return K}function En(vr,K){let cr,Er,Nr;const $r=[];for(let Dr=0;Dr<vr.length&&!((K-=2)<0);++Dr)cr=vr.charCodeAt(Dr),Er=cr>>8,Nr=cr%256,$r.push(Nr),$r.push(Er);return $r}function xi(vr){return s.toByteArray(pn(vr))}function xn(vr,K,cr,Er){let Nr;for(Nr=0;Nr<Er&&!(Nr+cr>=K.length||Nr>=vr.length);++Nr)K[Nr+cr]=vr[Nr];return Nr}function yn(vr,K){return vr instanceof K||vr!=null&&vr.constructor!=null&&vr.constructor.name!=null&&vr.constructor.name===K.name}function Bi(vr){return vr!==vr}const Pn=function(){const vr="0123456789abcdef",K=new Array(256);for(let cr=0;cr<16;++cr){const Er=cr*16;for(let Nr=0;Nr<16;++Nr)K[Er+Nr]=vr[cr]+vr[Nr]}return K}();function gn(vr){return typeof BigInt>"u"?Zi:vr}function Zi(){throw new Error("BigInt not supported")}}(buffer$2)),buffer$2}var bufferExports=requireBuffer();typeof window<"u"&&(window.Buffer=bufferExports.Buffer,window.global=window.global||window);typeof globalThis<"u"&&(globalThis.Buffer=bufferExports.Buffer,globalThis.global=globalThis.global||globalThis);var reactExports=requireReact();const React2=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:React2},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(e){function s(hr,mr){var $=hr.length;hr.push(mr);e:for(;0<$;){var fr=$-1>>>1,Ar=hr[fr];if(0<c(Ar,mr))hr[fr]=mr,hr[$]=Ar,$=fr;else break e}}function o(hr){return hr.length===0?null:hr[0]}function a(hr){if(hr.length===0)return null;var mr=hr[0],$=hr.pop();if($!==mr){hr[0]=$;e:for(var fr=0,Ar=hr.length,Or=Ar>>>1;fr<Or;){var jr=2*(fr+1)-1,Ur=hr[jr],qr=jr+1,Lr=hr[qr];if(0>c(Ur,$))qr<Ar&&0>c(Lr,Ur)?(hr[fr]=Lr,hr[qr]=$,fr=qr):(hr[fr]=Ur,hr[jr]=$,fr=jr);else if(qr<Ar&&0>c(Lr,$))hr[fr]=Lr,hr[qr]=$,fr=qr;else break e}}return mr}function c(hr,mr){var $=hr.sortIndex-mr.sortIndex;return $!==0?$:hr.id-mr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();e.unstable_now=function(){return h.now()-p}}var m=[],y=[],v=1,b=null,w=3,S=!1,P=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,or=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dr(hr){for(var mr=o(y);mr!==null;){if(mr.callback===null)a(y);else if(mr.startTime<=hr)a(y),mr.sortIndex=mr.expirationTime,s(m,mr);else break;mr=o(y)}}function yr(hr){if(R=!1,dr(hr),!P)if(o(m)!==null)P=!0,H(lr);else{var mr=o(y);mr!==null&&pr(yr,mr.startTime-hr)}}function lr(hr,mr){P=!1,R&&(R=!1,k(Sr),Sr=-1),S=!0;var $=w;try{for(dr(mr),b=o(m);b!==null&&(!(b.expirationTime>mr)||hr&&!xr());){var fr=b.callback;if(typeof fr=="function"){b.callback=null,w=b.priorityLevel;var Ar=fr(b.expirationTime<=mr);mr=e.unstable_now(),typeof Ar=="function"?b.callback=Ar:b===o(m)&&a(m),dr(mr)}else a(m);b=o(m)}if(b!==null)var Or=!0;else{var jr=o(y);jr!==null&&pr(yr,jr.startTime-mr),Or=!1}return Or}finally{b=null,w=$,S=!1}}var br=!1,wr=null,Sr=-1,Rr=5,Ir=-1;function xr(){return!(e.unstable_now()-Ir<Rr)}function C(){if(wr!==null){var hr=e.unstable_now();Ir=hr;var mr=!0;try{mr=wr(!0,hr)}finally{mr?B():(br=!1,wr=null)}}else br=!1}var B;if(typeof or=="function")B=function(){or(C)};else if(typeof MessageChannel<"u"){var ur=new MessageChannel,er=ur.port2;ur.port1.onmessage=C,B=function(){er.postMessage(null)}}else B=function(){T(C,0)};function H(hr){wr=hr,br||(br=!0,B())}function pr(hr,mr){Sr=T(function(){hr(e.unstable_now())},mr)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(hr){hr.callback=null},e.unstable_continueExecution=function(){P||S||(P=!0,H(lr))},e.unstable_forceFrameRate=function(hr){0>hr||125<hr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rr=0<hr?Math.floor(1e3/hr):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return o(m)},e.unstable_next=function(hr){switch(w){case 1:case 2:case 3:var mr=3;break;default:mr=w}var $=w;w=mr;try{return hr()}finally{w=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(hr,mr){switch(hr){case 1:case 2:case 3:case 4:case 5:break;default:hr=3}var $=w;w=hr;try{return mr()}finally{w=$}},e.unstable_scheduleCallback=function(hr,mr,$){var fr=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?fr+$:fr):$=fr,hr){case 1:var Ar=-1;break;case 2:Ar=250;break;case 5:Ar=1073741823;break;case 4:Ar=1e4;break;default:Ar=5e3}return Ar=$+Ar,hr={id:v++,callback:mr,priorityLevel:hr,startTime:$,expirationTime:Ar,sortIndex:-1},$>fr?(hr.sortIndex=$,s(y,hr),o(m)===null&&hr===o(y)&&(R?(k(Sr),Sr=-1):R=!0,pr(yr,$-fr))):(hr.sortIndex=Ar,s(m,hr),P||S||(P=!0,H(lr))),hr},e.unstable_shouldYield=xr,e.unstable_wrapCallback=function(hr){var mr=w;return function(){var $=w;w=mr;try{return hr.apply(this,arguments)}finally{w=$}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var e=requireReact(),s=requireScheduler();function o(l){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function u(l,f){h(l,f),h(l+"Capture",f)}function h(l,f){for(c[l]=f,l=0;l<f.length;l++)a.add(f[l])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function w(l){return m.call(b,l)?!0:m.call(v,l)?!1:y.test(l)?b[l]=!0:(v[l]=!0,!1)}function S(l,f,g,E){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return E?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function P(l,f,g,E){if(f===null||typeof f>"u"||S(l,f,g,E))return!0;if(E)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function R(l,f,g,E,I,qe,gr){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=E,this.attributeNamespace=I,this.mustUseProperty=g,this.propertyName=l,this.type=f,this.sanitizeURL=qe,this.removeEmptyString=gr}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){T[l]=new R(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var f=l[0];T[f]=new R(f,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){T[l]=new R(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){T[l]=new R(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){T[l]=new R(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){T[l]=new R(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){T[l]=new R(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){T[l]=new R(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){T[l]=new R(l,5,!1,l.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function or(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var f=l.replace(k,or);T[f]=new R(f,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var f=l.replace(k,or);T[f]=new R(f,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var f=l.replace(k,or);T[f]=new R(f,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){T[l]=new R(l,1,!1,l.toLowerCase(),null,!1,!1)}),T.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){T[l]=new R(l,1,!1,l.toLowerCase(),null,!0,!0)});function dr(l,f,g,E){var I=T.hasOwnProperty(f)?T[f]:null;(I!==null?I.type!==0:E||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(P(f,g,I,E)&&(g=null),E||I===null?w(f)&&(g===null?l.removeAttribute(f):l.setAttribute(f,""+g)):I.mustUseProperty?l[I.propertyName]=g===null?I.type===3?!1:"":g:(f=I.attributeName,E=I.attributeNamespace,g===null?l.removeAttribute(f):(I=I.type,g=I===3||I===4&&g===!0?"":""+g,E?l.setAttributeNS(E,f,g):l.setAttribute(f,g))))}var yr=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lr=Symbol.for("react.element"),br=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),Sr=Symbol.for("react.strict_mode"),Rr=Symbol.for("react.profiler"),Ir=Symbol.for("react.provider"),xr=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ur=Symbol.for("react.suspense_list"),er=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),pr=Symbol.for("react.offscreen"),hr=Symbol.iterator;function mr(l){return l===null||typeof l!="object"?null:(l=hr&&l[hr]||l["@@iterator"],typeof l=="function"?l:null)}var $=Object.assign,fr;function Ar(l){if(fr===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);fr=f&&f[1]||""}return`
`+fr+l}var Or=!1;function jr(l,f){if(!l||Or)return"";Or=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Mr){var E=Mr}Reflect.construct(l,[],f)}else{try{f.call()}catch(Mr){E=Mr}l.call(f.prototype)}else{try{throw Error()}catch(Mr){E=Mr}l()}}catch(Mr){if(Mr&&E&&typeof Mr.stack=="string"){for(var I=Mr.stack.split(`
`),qe=E.stack.split(`
`),gr=I.length-1,_r=qe.length-1;1<=gr&&0<=_r&&I[gr]!==qe[_r];)_r--;for(;1<=gr&&0<=_r;gr--,_r--)if(I[gr]!==qe[_r]){if(gr!==1||_r!==1)do if(gr--,_r--,0>_r||I[gr]!==qe[_r]){var Cr=`
`+I[gr].replace(" at new "," at ");return l.displayName&&Cr.includes("<anonymous>")&&(Cr=Cr.replace("<anonymous>",l.displayName)),Cr}while(1<=gr&&0<=_r);break}}}finally{Or=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?Ar(l):""}function Ur(l){switch(l.tag){case 5:return Ar(l.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 2:case 15:return l=jr(l.type,!1),l;case 11:return l=jr(l.type.render,!1),l;case 1:return l=jr(l.type,!0),l;default:return""}}function qr(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case wr:return"Fragment";case br:return"Portal";case Rr:return"Profiler";case Sr:return"StrictMode";case B:return"Suspense";case ur:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case xr:return(l.displayName||"Context")+".Consumer";case Ir:return(l._context.displayName||"Context")+".Provider";case C:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case er:return f=l.displayName||null,f!==null?f:qr(l.type)||"Memo";case H:f=l._payload,l=l._init;try{return qr(l(f))}catch{}}return null}function Lr(l){var f=l.type;switch(l.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=f.render,l=l.displayName||l.name||"",f.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qr(f);case 8:return f===Sr?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Wr(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Vr(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Gr(l){var f=Vr(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,f),E=""+l[f];if(!l.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var I=g.get,qe=g.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return I.call(this)},set:function(gr){E=""+gr,qe.call(this,gr)}}),Object.defineProperty(l,f,{enumerable:g.enumerable}),{getValue:function(){return E},setValue:function(gr){E=""+gr},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function un(l){l._valueTracker||(l._valueTracker=Gr(l))}function Jr(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),E="";return l&&(E=Vr(l)?l.checked?"true":"false":l.value),l=E,l!==g?(f.setValue(l),!0):!1}function Qr(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function vn(l,f){var g=f.checked;return $({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function hn(l,f){var g=f.defaultValue==null?"":f.defaultValue,E=f.checked!=null?f.checked:f.defaultChecked;g=Wr(f.value!=null?f.value:g),l._wrapperState={initialChecked:E,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function pn(l,f){f=f.checked,f!=null&&dr(l,"checked",f,!1)}function Xn(l,f){pn(l,f);var g=Wr(f.value),E=f.type;if(g!=null)E==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(E==="submit"||E==="reset"){l.removeAttribute("value");return}f.hasOwnProperty("value")?En(l,f.type,g):f.hasOwnProperty("defaultValue")&&En(l,f.type,Wr(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(l.defaultChecked=!!f.defaultChecked)}function An(l,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var E=f.type;if(!(E!=="submit"&&E!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+l._wrapperState.initialValue,g||f===l.value||(l.value=f),l.defaultValue=f}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function En(l,f,g){(f!=="number"||Qr(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var xi=Array.isArray;function xn(l,f,g,E){if(l=l.options,f){f={};for(var I=0;I<g.length;I++)f["$"+g[I]]=!0;for(g=0;g<l.length;g++)I=f.hasOwnProperty("$"+l[g].value),l[g].selected!==I&&(l[g].selected=I),I&&E&&(l[g].defaultSelected=!0)}else{for(g=""+Wr(g),f=null,I=0;I<l.length;I++){if(l[I].value===g){l[I].selected=!0,E&&(l[I].defaultSelected=!0);return}f!==null||l[I].disabled||(f=l[I])}f!==null&&(f.selected=!0)}}function yn(l,f){if(f.dangerouslySetInnerHTML!=null)throw Error(o(91));return $({},f,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Bi(l,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(o(92));if(xi(g)){if(1<g.length)throw Error(o(93));g=g[0]}f=g}f==null&&(f=""),g=f}l._wrapperState={initialValue:Wr(g)}}function Pn(l,f){var g=Wr(f.value),E=Wr(f.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),f.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),E!=null&&(l.defaultValue=""+E)}function gn(l){var f=l.textContent;f===l._wrapperState.initialValue&&f!==""&&f!==null&&(l.value=f)}function Zi(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vr(l,f){return l==null||l==="http://www.w3.org/1999/xhtml"?Zi(f):l==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var K,cr=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,E,I){MSApp.execUnsafeLocalFunction(function(){return l(f,g,E,I)})}:l}(function(l,f){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=f;else{for(K=K||document.createElement("div"),K.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=K.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;f.firstChild;)l.appendChild(f.firstChild)}});function Er(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(l){$r.forEach(function(f){f=f+l.charAt(0).toUpperCase()+l.substring(1),Nr[f]=Nr[l]})});function Dr(l,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||Nr.hasOwnProperty(l)&&Nr[l]?(""+f).trim():f+"px"}function rn(l,f){l=l.style;for(var g in f)if(f.hasOwnProperty(g)){var E=g.indexOf("--")===0,I=Dr(g,f[g],E);g==="float"&&(g="cssFloat"),E?l.setProperty(g,I):l[g]=I}}var In=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(l,f){if(f){if(In[l]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(o(137,l));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(o(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(o(61))}if(f.style!=null&&typeof f.style!="object")throw Error(o(62))}}function dn(l,f){if(l.indexOf("-")===-1)return typeof f.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sn=null;function Un(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Fn=null,so=null,kn=null;function zn(l){if(l=Mc(l)){if(typeof Fn!="function")throw Error(o(280));var f=l.stateNode;f&&(f=Eu(f),Fn(l.stateNode,l.type,f))}}function lc(l){so?kn?kn.push(l):kn=[l]:so=l}function Gn(){if(so){var l=so,f=kn;if(kn=so=null,zn(l),f)for(l=0;l<f.length;l++)zn(f[l])}}function Wn(l,f){return l(f)}function dc(){}var Kn=!1;function Jn(l,f,g){if(Kn)return l(f,g);Kn=!0;try{return Wn(l,f,g)}finally{Kn=!1,(so!==null||kn!==null)&&(dc(),Gn())}}function bo(l,f){var g=l.stateNode;if(g===null)return null;var E=Eu(g);if(E===null)return null;g=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(l=l.type,E=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!E;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(o(231,f,typeof g));return g}var qn=!1;if(p)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{qn=!1}function ru(l,f,g,E,I,qe,gr,_r,Cr){var Mr=Array.prototype.slice.call(arguments,3);try{f.apply(g,Mr)}catch(Kr){this.onError(Kr)}}var On=!1,Mn=null,Xo=!1,Hn=null,Qn={onError:function(l){On=!0,Mn=l}};function nu(l,f,g,E,I,qe,gr,_r,Cr){On=!1,Mn=null,ru.apply(Qn,arguments)}function Is(l,f,g,E,I,qe,gr,_r,Cr){if(nu.apply(this,arguments),On){if(On){var Mr=Mn;On=!1,Mn=null}else throw Error(o(198));Xo||(Xo=!0,Hn=Mr)}}function Tn(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function xa(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function wa(l){if(Tn(l)!==l)throw Error(o(188))}function fc(l){var f=l.alternate;if(!f){if(f=Tn(l),f===null)throw Error(o(188));return f!==l?null:l}for(var g=l,E=f;;){var I=g.return;if(I===null)break;var qe=I.alternate;if(qe===null){if(E=I.return,E!==null){g=E;continue}break}if(I.child===qe.child){for(qe=I.child;qe;){if(qe===g)return wa(I),l;if(qe===E)return wa(I),f;qe=qe.sibling}throw Error(o(188))}if(g.return!==E.return)g=I,E=qe;else{for(var gr=!1,_r=I.child;_r;){if(_r===g){gr=!0,g=I,E=qe;break}if(_r===E){gr=!0,E=I,g=qe;break}_r=_r.sibling}if(!gr){for(_r=qe.child;_r;){if(_r===g){gr=!0,g=qe,E=I;break}if(_r===E){gr=!0,E=qe,g=I;break}_r=_r.sibling}if(!gr)throw Error(o(189))}}if(g.alternate!==E)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?l:f}function Ea(l){return l=fc(l),l!==null?Sa(l):null}function Sa(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var f=Sa(l);if(f!==null)return f;l=l.sibling}return null}var _a=s.unstable_scheduleCallback,Ra=s.unstable_cancelCallback,hc=s.unstable_shouldYield,pc=s.unstable_requestPaint,jn=s.unstable_now,mc=s.unstable_getCurrentPriorityLevel,Qo=s.unstable_ImmediatePriority,Aa=s.unstable_UserBlockingPriority,xo=s.unstable_NormalPriority,yc=s.unstable_LowPriority,Pa=s.unstable_IdlePriority,wo=null,wi=null;function gc(l){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(wo,l,void 0,(l.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:Kp,Lp=Math.log,Up=Math.LN2;function Kp(l){return l>>>=0,l===0?32:31-(Lp(l)/Up|0)|0}var su=64,iu=4194304;function vc(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ou(l,f){var g=l.pendingLanes;if(g===0)return 0;var E=0,I=l.suspendedLanes,qe=l.pingedLanes,gr=g&268435455;if(gr!==0){var _r=gr&~I;_r!==0?E=vc(_r):(qe&=gr,qe!==0&&(E=vc(qe)))}else gr=g&~I,gr!==0?E=vc(gr):qe!==0&&(E=vc(qe));if(E===0)return 0;if(f!==0&&f!==E&&(f&I)===0&&(I=E&-E,qe=f&-f,I>=qe||I===16&&(qe&4194240)!==0))return f;if((E&4)!==0&&(E|=g&16),f=l.entangledLanes,f!==0)for(l=l.entanglements,f&=E;0<f;)g=31-Fi(f),I=1<<g,E|=l[g],f&=~I;return E}function qp(l,f){switch(l){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hp(l,f){for(var g=l.suspendedLanes,E=l.pingedLanes,I=l.expirationTimes,qe=l.pendingLanes;0<qe;){var gr=31-Fi(qe),_r=1<<gr,Cr=I[gr];Cr===-1?((_r&g)===0||(_r&E)!==0)&&(I[gr]=qp(_r,f)):Cr<=f&&(l.expiredLanes|=_r),qe&=~_r}}function ul(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function tf(){var l=su;return su<<=1,(su&4194240)===0&&(su=64),l}function ll(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function bc(l,f,g){l.pendingLanes|=f,f!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,f=31-Fi(f),l[f]=g}function Vp(l,f){var g=l.pendingLanes&~f;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=f,l.mutableReadLanes&=f,l.entangledLanes&=f,f=l.entanglements;var E=l.eventTimes;for(l=l.expirationTimes;0<g;){var I=31-Fi(g),qe=1<<I;f[I]=0,E[I]=-1,l[I]=-1,g&=~qe}}function dl(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var E=31-Fi(g),I=1<<E;I&f|l[E]&f&&(l[E]|=f),g&=~I}}var Cn=0;function rf(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var nf,fl,sf,of,af,hl=!1,au=[],Eo=null,So=null,_o=null,xc=new Map,wc=new Map,Ro=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cf(l,f){switch(l){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":xc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(f.pointerId)}}function Ec(l,f,g,E,I,qe){return l===null||l.nativeEvent!==qe?(l={blockedOn:f,domEventName:g,eventSystemFlags:E,nativeEvent:qe,targetContainers:[I]},f!==null&&(f=Mc(f),f!==null&&fl(f)),l):(l.eventSystemFlags|=E,f=l.targetContainers,I!==null&&f.indexOf(I)===-1&&f.push(I),l)}function Gp(l,f,g,E,I){switch(f){case"focusin":return Eo=Ec(Eo,l,f,g,E,I),!0;case"dragenter":return So=Ec(So,l,f,g,E,I),!0;case"mouseover":return _o=Ec(_o,l,f,g,E,I),!0;case"pointerover":var qe=I.pointerId;return xc.set(qe,Ec(xc.get(qe)||null,l,f,g,E,I)),!0;case"gotpointercapture":return qe=I.pointerId,wc.set(qe,Ec(wc.get(qe)||null,l,f,g,E,I)),!0}return!1}function uf(l){var f=ea(l.target);if(f!==null){var g=Tn(f);if(g!==null){if(f=g.tag,f===13){if(f=xa(g),f!==null){l.blockedOn=f,af(l.priority,function(){sf(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function cu(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=ml(l.domEventName,l.eventSystemFlags,f[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var E=new g.constructor(g.type,g);Sn=E,g.target.dispatchEvent(E),Sn=null}else return f=Mc(g),f!==null&&fl(f),l.blockedOn=g,!1;f.shift()}return!0}function lf(l,f,g){cu(l)&&g.delete(f)}function Wp(){hl=!1,Eo!==null&&cu(Eo)&&(Eo=null),So!==null&&cu(So)&&(So=null),_o!==null&&cu(_o)&&(_o=null),xc.forEach(lf),wc.forEach(lf)}function Sc(l,f){l.blockedOn===f&&(l.blockedOn=null,hl||(hl=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Wp)))}function _c(l){function f(I){return Sc(I,l)}if(0<au.length){Sc(au[0],l);for(var g=1;g<au.length;g++){var E=au[g];E.blockedOn===l&&(E.blockedOn=null)}}for(Eo!==null&&Sc(Eo,l),So!==null&&Sc(So,l),_o!==null&&Sc(_o,l),xc.forEach(f),wc.forEach(f),g=0;g<Ro.length;g++)E=Ro[g],E.blockedOn===l&&(E.blockedOn=null);for(;0<Ro.length&&(g=Ro[0],g.blockedOn===null);)uf(g),g.blockedOn===null&&Ro.shift()}var Na=yr.ReactCurrentBatchConfig,uu=!0;function Jp(l,f,g,E){var I=Cn,qe=Na.transition;Na.transition=null;try{Cn=1,pl(l,f,g,E)}finally{Cn=I,Na.transition=qe}}function Zp(l,f,g,E){var I=Cn,qe=Na.transition;Na.transition=null;try{Cn=4,pl(l,f,g,E)}finally{Cn=I,Na.transition=qe}}function pl(l,f,g,E){if(uu){var I=ml(l,f,g,E);if(I===null)kl(l,f,E,lu,g),cf(l,E);else if(Gp(I,l,f,g,E))E.stopPropagation();else if(cf(l,E),f&4&&-1<zp.indexOf(l)){for(;I!==null;){var qe=Mc(I);if(qe!==null&&nf(qe),qe=ml(l,f,g,E),qe===null&&kl(l,f,E,lu,g),qe===I)break;I=qe}I!==null&&E.stopPropagation()}else kl(l,f,E,null,g)}}var lu=null;function ml(l,f,g,E){if(lu=null,l=Un(E),l=ea(l),l!==null)if(f=Tn(l),f===null)l=null;else if(g=f.tag,g===13){if(l=xa(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null);return lu=l,null}function df(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mc()){case Qo:return 1;case Aa:return 4;case xo:case yc:return 16;case Pa:return 536870912;default:return 16}default:return 16}}var Ao=null,yl=null,du=null;function ff(){if(du)return du;var l,f=yl,g=f.length,E,I="value"in Ao?Ao.value:Ao.textContent,qe=I.length;for(l=0;l<g&&f[l]===I[l];l++);var gr=g-l;for(E=1;E<=gr&&f[g-E]===I[qe-E];E++);return du=I.slice(l,1<E?1-E:void 0)}function fu(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function hu(){return!0}function hf(){return!1}function Ci(l){function f(g,E,I,qe,gr){this._reactName=g,this._targetInst=I,this.type=E,this.nativeEvent=qe,this.target=gr,this.currentTarget=null;for(var _r in l)l.hasOwnProperty(_r)&&(g=l[_r],this[_r]=g?g(qe):qe[_r]);return this.isDefaultPrevented=(qe.defaultPrevented!=null?qe.defaultPrevented:qe.returnValue===!1)?hu:hf,this.isPropagationStopped=hf,this}return $(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),f}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=Ci(Ca),Rc=$({},Ca,{view:0,detail:0}),Yp=Ci(Rc),vl,bl,Ac,pu=$({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ac&&(Ac&&l.type==="mousemove"?(vl=l.screenX-Ac.screenX,bl=l.screenY-Ac.screenY):bl=vl=0,Ac=l),vl)},movementY:function(l){return"movementY"in l?l.movementY:bl}}),pf=Ci(pu),Xp=$({},pu,{dataTransfer:0}),Qp=Ci(Xp),em=$({},Rc,{relatedTarget:0}),xl=Ci(em),tm=$({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=Ci(tm),nm=$({},Ca,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),sm=Ci(nm),im=$({},Ca,{data:0}),mf=Ci(im),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=cm[l])?!!f[l]:!1}function wl(){return um}var lm=$({},Rc,{key:function(l){if(l.key){var f=om[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=fu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?am[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(l){return l.type==="keypress"?fu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),dm=Ci(lm),fm=$({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Ci(fm),hm=$({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),pm=Ci(hm),mm=$({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),ym=Ci(mm),gm=$({},pu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=Ci(gm),bm=[9,13,27,32],El=p&&"CompositionEvent"in window,Pc=null;p&&"documentMode"in document&&(Pc=document.documentMode);var xm=p&&"TextEvent"in window&&!Pc,gf=p&&(!El||Pc&&8<Pc&&11>=Pc),vf=" ",bf=!1;function xf(l,f){switch(l){case"keyup":return bm.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ta=!1;function wm(l,f){switch(l){case"compositionend":return wf(f);case"keypress":return f.which!==32?null:(bf=!0,vf);case"textInput":return l=f.data,l===vf&&bf?null:l;default:return null}}function Em(l,f){if(Ta)return l==="compositionend"||!El&&xf(l,f)?(l=ff(),du=yl=Ao=null,Ta=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return gf&&f.locale!=="ko"?null:f.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!Sm[l.type]:f==="textarea"}function Sf(l,f,g,E){lc(E),f=bu(f,"onChange"),0<f.length&&(g=new gl("onChange","change",null,g,E),l.push({event:g,listeners:f}))}var Nc=null,Cc=null;function _m(l){Ff(l,0)}function mu(l){var f=$a(l);if(Jr(f))return l}function Rm(l,f){if(l==="change")return f}var _f=!1;if(p){var Sl;if(p){var _l="oninput"in document;if(!_l){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),_l=typeof Rf.oninput=="function"}Sl=_l}else Sl=!1;_f=Sl&&(!document.documentMode||9<document.documentMode)}function Af(){Nc&&(Nc.detachEvent("onpropertychange",Pf),Cc=Nc=null)}function Pf(l){if(l.propertyName==="value"&&mu(Cc)){var f=[];Sf(f,Cc,l,Un(l)),Jn(_m,f)}}function Am(l,f,g){l==="focusin"?(Af(),Nc=f,Cc=g,Nc.attachEvent("onpropertychange",Pf)):l==="focusout"&&Af()}function Pm(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return mu(Cc)}function Nm(l,f){if(l==="click")return mu(f)}function Cm(l,f){if(l==="input"||l==="change")return mu(f)}function Tm(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Ki=typeof Object.is=="function"?Object.is:Tm;function Tc(l,f){if(Ki(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),E=Object.keys(f);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var I=g[E];if(!m.call(f,I)||!Ki(l[I],f[I]))return!1}return!0}function Nf(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Cf(l,f){var g=Nf(l);l=0;for(var E;g;){if(g.nodeType===3){if(E=l+g.textContent.length,l<=f&&E>=f)return{node:g,offset:f-l};l=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Nf(g)}}function Tf(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?Tf(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function If(){for(var l=window,f=Qr();f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=Qr(l.document)}return f}function Rl(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}function Im(l){var f=If(),g=l.focusedElem,E=l.selectionRange;if(f!==g&&g&&g.ownerDocument&&Tf(g.ownerDocument.documentElement,g)){if(E!==null&&Rl(g)){if(f=E.start,l=E.end,l===void 0&&(l=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(l,g.value.length);else if(l=(f=g.ownerDocument||document)&&f.defaultView||window,l.getSelection){l=l.getSelection();var I=g.textContent.length,qe=Math.min(E.start,I);E=E.end===void 0?qe:Math.min(E.end,I),!l.extend&&qe>E&&(I=E,E=qe,qe=I),I=Cf(g,qe);var gr=Cf(g,E);I&&gr&&(l.rangeCount!==1||l.anchorNode!==I.node||l.anchorOffset!==I.offset||l.focusNode!==gr.node||l.focusOffset!==gr.offset)&&(f=f.createRange(),f.setStart(I.node,I.offset),l.removeAllRanges(),qe>E?(l.addRange(f),l.extend(gr.node,gr.offset)):(f.setEnd(gr.node,gr.offset),l.addRange(f)))}}for(f=[],l=g;l=l.parentNode;)l.nodeType===1&&f.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)l=f[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var km=p&&"documentMode"in document&&11>=document.documentMode,Ia=null,Al=null,Ic=null,Pl=!1;function kf(l,f,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Pl||Ia==null||Ia!==Qr(E)||(E=Ia,"selectionStart"in E&&Rl(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Ic&&Tc(Ic,E)||(Ic=E,E=bu(Al,"onSelect"),0<E.length&&(f=new gl("onSelect","select",null,f,g),l.push({event:f,listeners:E}),f.target=Ia)))}function yu(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var ka={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Nl={},Bf={};p&&(Bf=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function gu(l){if(Nl[l])return Nl[l];if(!ka[l])return l;var f=ka[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in Bf)return Nl[l]=f[g];return l}var Of=gu("animationend"),$f=gu("animationiteration"),Mf=gu("animationstart"),jf=gu("transitionend"),Df=new Map,Lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(l,f){Df.set(l,f),u(f,[l])}for(var Cl=0;Cl<Lf.length;Cl++){var Tl=Lf[Cl],Bm=Tl.toLowerCase(),Om=Tl[0].toUpperCase()+Tl.slice(1);Po(Bm,"on"+Om)}Po(Of,"onAnimationEnd"),Po($f,"onAnimationIteration"),Po(Mf,"onAnimationStart"),Po("dblclick","onDoubleClick"),Po("focusin","onFocus"),Po("focusout","onBlur"),Po(jf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$m=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function Uf(l,f,g){var E=l.type||"unknown-event";l.currentTarget=g,Is(E,f,void 0,l),l.currentTarget=null}function Ff(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var E=l[g],I=E.event;E=E.listeners;e:{var qe=void 0;if(f)for(var gr=E.length-1;0<=gr;gr--){var _r=E[gr],Cr=_r.instance,Mr=_r.currentTarget;if(_r=_r.listener,Cr!==qe&&I.isPropagationStopped())break e;Uf(I,_r,Mr),qe=Cr}else for(gr=0;gr<E.length;gr++){if(_r=E[gr],Cr=_r.instance,Mr=_r.currentTarget,_r=_r.listener,Cr!==qe&&I.isPropagationStopped())break e;Uf(I,_r,Mr),qe=Cr}}}if(Xo)throw l=Hn,Xo=!1,Hn=null,l}function Dn(l,f){var g=f[Dl];g===void 0&&(g=f[Dl]=new Set);var E=l+"__bubble";g.has(E)||(Kf(f,l,2,!1),g.add(E))}function Il(l,f,g){var E=0;f&&(E|=4),Kf(g,l,E,f)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Bc(l){if(!l[vu]){l[vu]=!0,a.forEach(function(g){g!=="selectionchange"&&($m.has(g)||Il(g,!1,l),Il(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[vu]||(f[vu]=!0,Il("selectionchange",!1,f))}}function Kf(l,f,g,E){switch(df(f)){case 1:var I=Jp;break;case 4:I=Zp;break;default:I=pl}g=I.bind(null,f,g,l),I=void 0,!qn||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(I=!0),E?I!==void 0?l.addEventListener(f,g,{capture:!0,passive:I}):l.addEventListener(f,g,!0):I!==void 0?l.addEventListener(f,g,{passive:I}):l.addEventListener(f,g,!1)}function kl(l,f,g,E,I){var qe=E;if((f&1)===0&&(f&2)===0&&E!==null)e:for(;;){if(E===null)return;var gr=E.tag;if(gr===3||gr===4){var _r=E.stateNode.containerInfo;if(_r===I||_r.nodeType===8&&_r.parentNode===I)break;if(gr===4)for(gr=E.return;gr!==null;){var Cr=gr.tag;if((Cr===3||Cr===4)&&(Cr=gr.stateNode.containerInfo,Cr===I||Cr.nodeType===8&&Cr.parentNode===I))return;gr=gr.return}for(;_r!==null;){if(gr=ea(_r),gr===null)return;if(Cr=gr.tag,Cr===5||Cr===6){E=qe=gr;continue e}_r=_r.parentNode}}E=E.return}Jn(function(){var Mr=qe,Kr=Un(g),Hr=[];e:{var Fr=Df.get(l);if(Fr!==void 0){var Zr=gl,en=l;switch(l){case"keypress":if(fu(g)===0)break e;case"keydown":case"keyup":Zr=dm;break;case"focusin":en="focus",Zr=xl;break;case"focusout":en="blur",Zr=xl;break;case"beforeblur":case"afterblur":Zr=xl;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zr=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zr=Qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zr=pm;break;case Of:case $f:case Mf:Zr=rm;break;case jf:Zr=ym;break;case"scroll":Zr=Yp;break;case"wheel":Zr=vm;break;case"copy":case"cut":case"paste":Zr=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zr=yf}var tn=(f&4)!==0,ri=!tn&&l==="scroll",kr=tn?Fr!==null?Fr+"Capture":null:Fr;tn=[];for(var Tr=Mr,Br;Tr!==null;){Br=Tr;var zr=Br.stateNode;if(Br.tag===5&&zr!==null&&(Br=zr,kr!==null&&(zr=bo(Tr,kr),zr!=null&&tn.push(Oc(Tr,zr,Br)))),ri)break;Tr=Tr.return}0<tn.length&&(Fr=new Zr(Fr,en,null,g,Kr),Hr.push({event:Fr,listeners:tn}))}}if((f&7)===0){e:{if(Fr=l==="mouseover"||l==="pointerover",Zr=l==="mouseout"||l==="pointerout",Fr&&g!==Sn&&(en=g.relatedTarget||g.fromElement)&&(ea(en)||en[io]))break e;if((Zr||Fr)&&(Fr=Kr.window===Kr?Kr:(Fr=Kr.ownerDocument)?Fr.defaultView||Fr.parentWindow:window,Zr?(en=g.relatedTarget||g.toElement,Zr=Mr,en=en?ea(en):null,en!==null&&(ri=Tn(en),en!==ri||en.tag!==5&&en.tag!==6)&&(en=null)):(Zr=null,en=Mr),Zr!==en)){if(tn=pf,zr="onMouseLeave",kr="onMouseEnter",Tr="mouse",(l==="pointerout"||l==="pointerover")&&(tn=yf,zr="onPointerLeave",kr="onPointerEnter",Tr="pointer"),ri=Zr==null?Fr:$a(Zr),Br=en==null?Fr:$a(en),Fr=new tn(zr,Tr+"leave",Zr,g,Kr),Fr.target=ri,Fr.relatedTarget=Br,zr=null,ea(Kr)===Mr&&(tn=new tn(kr,Tr+"enter",en,g,Kr),tn.target=Br,tn.relatedTarget=ri,zr=tn),ri=zr,Zr&&en)t:{for(tn=Zr,kr=en,Tr=0,Br=tn;Br;Br=Ba(Br))Tr++;for(Br=0,zr=kr;zr;zr=Ba(zr))Br++;for(;0<Tr-Br;)tn=Ba(tn),Tr--;for(;0<Br-Tr;)kr=Ba(kr),Br--;for(;Tr--;){if(tn===kr||kr!==null&&tn===kr.alternate)break t;tn=Ba(tn),kr=Ba(kr)}tn=null}else tn=null;Zr!==null&&qf(Hr,Fr,Zr,tn,!1),en!==null&&ri!==null&&qf(Hr,ri,en,tn,!0)}}e:{if(Fr=Mr?$a(Mr):window,Zr=Fr.nodeName&&Fr.nodeName.toLowerCase(),Zr==="select"||Zr==="input"&&Fr.type==="file")var nn=Rm;else if(Ef(Fr))if(_f)nn=Cm;else{nn=Pm;var on=Am}else(Zr=Fr.nodeName)&&Zr.toLowerCase()==="input"&&(Fr.type==="checkbox"||Fr.type==="radio")&&(nn=Nm);if(nn&&(nn=nn(l,Mr))){Sf(Hr,nn,g,Kr);break e}on&&on(l,Fr,Mr),l==="focusout"&&(on=Fr._wrapperState)&&on.controlled&&Fr.type==="number"&&En(Fr,"number",Fr.value)}switch(on=Mr?$a(Mr):window,l){case"focusin":(Ef(on)||on.contentEditable==="true")&&(Ia=on,Al=Mr,Ic=null);break;case"focusout":Ic=Al=Ia=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,kf(Hr,g,Kr);break;case"selectionchange":if(km)break;case"keydown":case"keyup":kf(Hr,g,Kr)}var an;if(El)e:{switch(l){case"compositionstart":var fn="onCompositionStart";break e;case"compositionend":fn="onCompositionEnd";break e;case"compositionupdate":fn="onCompositionUpdate";break e}fn=void 0}else Ta?xf(l,g)&&(fn="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(fn="onCompositionStart");fn&&(gf&&g.locale!=="ko"&&(Ta||fn!=="onCompositionStart"?fn==="onCompositionEnd"&&Ta&&(an=ff()):(Ao=Kr,yl="value"in Ao?Ao.value:Ao.textContent,Ta=!0)),on=bu(Mr,fn),0<on.length&&(fn=new mf(fn,l,null,g,Kr),Hr.push({event:fn,listeners:on}),an?fn.data=an:(an=wf(g),an!==null&&(fn.data=an)))),(an=xm?wm(l,g):Em(l,g))&&(Mr=bu(Mr,"onBeforeInput"),0<Mr.length&&(Kr=new mf("onBeforeInput","beforeinput",null,g,Kr),Hr.push({event:Kr,listeners:Mr}),Kr.data=an))}Ff(Hr,f)})}function Oc(l,f,g){return{instance:l,listener:f,currentTarget:g}}function bu(l,f){for(var g=f+"Capture",E=[];l!==null;){var I=l,qe=I.stateNode;I.tag===5&&qe!==null&&(I=qe,qe=bo(l,g),qe!=null&&E.unshift(Oc(l,qe,I)),qe=bo(l,f),qe!=null&&E.push(Oc(l,qe,I))),l=l.return}return E}function Ba(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function qf(l,f,g,E,I){for(var qe=f._reactName,gr=[];g!==null&&g!==E;){var _r=g,Cr=_r.alternate,Mr=_r.stateNode;if(Cr!==null&&Cr===E)break;_r.tag===5&&Mr!==null&&(_r=Mr,I?(Cr=bo(g,qe),Cr!=null&&gr.unshift(Oc(g,Cr,_r))):I||(Cr=bo(g,qe),Cr!=null&&gr.push(Oc(g,Cr,_r)))),g=g.return}gr.length!==0&&l.push({event:f,listeners:gr})}var Mm=/\r\n?/g,jm=/\u0000|\uFFFD/g;function Hf(l){return(typeof l=="string"?l:""+l).replace(Mm,`
`).replace(jm,"")}function xu(l,f,g){if(f=Hf(f),Hf(l)!==f&&g)throw Error(o(425))}function wu(){}var Bl=null,Ol=null;function $l(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,Dm=typeof clearTimeout=="function"?clearTimeout:void 0,Vf=typeof Promise=="function"?Promise:void 0,Lm=typeof queueMicrotask=="function"?queueMicrotask:typeof Vf<"u"?function(l){return Vf.resolve(null).then(l).catch(Um)}:Ml;function Um(l){setTimeout(function(){throw l})}function jl(l,f){var g=f,E=0;do{var I=g.nextSibling;if(l.removeChild(g),I&&I.nodeType===8)if(g=I.data,g==="/$"){if(E===0){l.removeChild(I),_c(f);return}E--}else g!=="$"&&g!=="$?"&&g!=="$!"||E++;g=I}while(g);_c(f)}function No(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return l}function zf(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return l;f--}else g==="/$"&&f++}l=l.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Oa,$c="__reactProps$"+Oa,io="__reactContainer$"+Oa,Dl="__reactEvents$"+Oa,Fm="__reactListeners$"+Oa,Km="__reactHandles$"+Oa;function ea(l){var f=l[Yi];if(f)return f;for(var g=l.parentNode;g;){if(f=g[io]||g[Yi]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=zf(l);l!==null;){if(g=l[Yi])return g;l=zf(l)}return f}l=g,g=l.parentNode}return null}function Mc(l){return l=l[Yi]||l[io],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function $a(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(o(33))}function Eu(l){return l[$c]||null}var Ll=[],Ma=-1;function Co(l){return{current:l}}function Ln(l){0>Ma||(l.current=Ll[Ma],Ll[Ma]=null,Ma--)}function $n(l,f){Ma++,Ll[Ma]=l.current,l.current=f}var To={},di=Co(To),Ei=Co(!1),ta=To;function ja(l,f){var g=l.type.contextTypes;if(!g)return To;var E=l.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===f)return E.__reactInternalMemoizedMaskedChildContext;var I={},qe;for(qe in g)I[qe]=f[qe];return E&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=f,l.__reactInternalMemoizedMaskedChildContext=I),I}function Si(l){return l=l.childContextTypes,l!=null}function Su(){Ln(Ei),Ln(di)}function Gf(l,f,g){if(di.current!==To)throw Error(o(168));$n(di,f),$n(Ei,g)}function Wf(l,f,g){var E=l.stateNode;if(f=f.childContextTypes,typeof E.getChildContext!="function")return g;E=E.getChildContext();for(var I in E)if(!(I in f))throw Error(o(108,Lr(l)||"Unknown",I));return $({},g,E)}function _u(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||To,ta=di.current,$n(di,l),$n(Ei,Ei.current),!0}function Jf(l,f,g){var E=l.stateNode;if(!E)throw Error(o(169));g?(l=Wf(l,f,ta),E.__reactInternalMemoizedMergedChildContext=l,Ln(Ei),Ln(di),$n(di,l)):Ln(Ei),$n(Ei,g)}var oo=null,Ru=!1,Ul=!1;function Zf(l){oo===null?oo=[l]:oo.push(l)}function qm(l){Ru=!0,Zf(l)}function Io(){if(!Ul&&oo!==null){Ul=!0;var l=0,f=Cn;try{var g=oo;for(Cn=1;l<g.length;l++){var E=g[l];do E=E(!0);while(E!==null)}oo=null,Ru=!1}catch(I){throw oo!==null&&(oo=oo.slice(l+1)),_a(Qo,Io),I}finally{Cn=f,Ul=!1}}return null}var Da=[],La=0,Au=null,Pu=0,Oi=[],$i=0,ra=null,ao=1,co="";function na(l,f){Da[La++]=Pu,Da[La++]=Au,Au=l,Pu=f}function Yf(l,f,g){Oi[$i++]=ao,Oi[$i++]=co,Oi[$i++]=ra,ra=l;var E=ao;l=co;var I=32-Fi(E)-1;E&=~(1<<I),g+=1;var qe=32-Fi(f)+I;if(30<qe){var gr=I-I%5;qe=(E&(1<<gr)-1).toString(32),E>>=gr,I-=gr,ao=1<<32-Fi(f)+I|g<<I|E,co=qe+l}else ao=1<<qe|g<<I|E,co=l}function Fl(l){l.return!==null&&(na(l,1),Yf(l,1,0))}function Kl(l){for(;l===Au;)Au=Da[--La],Da[La]=null,Pu=Da[--La],Da[La]=null;for(;l===ra;)ra=Oi[--$i],Oi[$i]=null,co=Oi[--$i],Oi[$i]=null,ao=Oi[--$i],Oi[$i]=null}var Ti=null,Ii=null,Vn=!1,qi=null;function Xf(l,f){var g=Li(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=l,f=l.deletions,f===null?(l.deletions=[g],l.flags|=16):f.push(g)}function Qf(l,f){switch(l.tag){case 5:var g=l.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(l.stateNode=f,Ti=l,Ii=No(f.firstChild),!0):!1;case 6:return f=l.pendingProps===""||f.nodeType!==3?null:f,f!==null?(l.stateNode=f,Ti=l,Ii=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=ra!==null?{id:ao,overflow:co}:null,l.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=Li(18,null,null,0),g.stateNode=f,g.return=l,l.child=g,Ti=l,Ii=null,!0):!1;default:return!1}}function ql(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Hl(l){if(Vn){var f=Ii;if(f){var g=f;if(!Qf(l,f)){if(ql(l))throw Error(o(418));f=No(g.nextSibling);var E=Ti;f&&Qf(l,f)?Xf(E,g):(l.flags=l.flags&-4097|2,Vn=!1,Ti=l)}}else{if(ql(l))throw Error(o(418));l.flags=l.flags&-4097|2,Vn=!1,Ti=l}}}function eh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ti=l}function Nu(l){if(l!==Ti)return!1;if(!Vn)return eh(l),Vn=!0,!1;var f;if((f=l.tag!==3)&&!(f=l.tag!==5)&&(f=l.type,f=f!=="head"&&f!=="body"&&!$l(l.type,l.memoizedProps)),f&&(f=Ii)){if(ql(l))throw th(),Error(o(418));for(;f;)Xf(l,f),f=No(f.nextSibling)}if(eh(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));e:{for(l=l.nextSibling,f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(f===0){Ii=No(l.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}l=l.nextSibling}Ii=null}}else Ii=Ti?No(l.stateNode.nextSibling):null;return!0}function th(){for(var l=Ii;l;)l=No(l.nextSibling)}function Ua(){Ii=Ti=null,Vn=!1}function Vl(l){qi===null?qi=[l]:qi.push(l)}var Hm=yr.ReactCurrentBatchConfig;function jc(l,f,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var E=g.stateNode}if(!E)throw Error(o(147,l));var I=E,qe=""+l;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===qe?f.ref:(f=function(gr){var _r=I.refs;gr===null?delete _r[qe]:_r[qe]=gr},f._stringRef=qe,f)}if(typeof l!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,l))}return l}function Cu(l,f){throw l=Object.prototype.toString.call(f),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l))}function rh(l){var f=l._init;return f(l._payload)}function nh(l){function f(kr,Tr){if(l){var Br=kr.deletions;Br===null?(kr.deletions=[Tr],kr.flags|=16):Br.push(Tr)}}function g(kr,Tr){if(!l)return null;for(;Tr!==null;)f(kr,Tr),Tr=Tr.sibling;return null}function E(kr,Tr){for(kr=new Map;Tr!==null;)Tr.key!==null?kr.set(Tr.key,Tr):kr.set(Tr.index,Tr),Tr=Tr.sibling;return kr}function I(kr,Tr){return kr=Lo(kr,Tr),kr.index=0,kr.sibling=null,kr}function qe(kr,Tr,Br){return kr.index=Br,l?(Br=kr.alternate,Br!==null?(Br=Br.index,Br<Tr?(kr.flags|=2,Tr):Br):(kr.flags|=2,Tr)):(kr.flags|=1048576,Tr)}function gr(kr){return l&&kr.alternate===null&&(kr.flags|=2),kr}function _r(kr,Tr,Br,zr){return Tr===null||Tr.tag!==6?(Tr=Md(Br,kr.mode,zr),Tr.return=kr,Tr):(Tr=I(Tr,Br),Tr.return=kr,Tr)}function Cr(kr,Tr,Br,zr){var nn=Br.type;return nn===wr?Kr(kr,Tr,Br.props.children,zr,Br.key):Tr!==null&&(Tr.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===H&&rh(nn)===Tr.type)?(zr=I(Tr,Br.props),zr.ref=jc(kr,Tr,Br),zr.return=kr,zr):(zr=Qu(Br.type,Br.key,Br.props,null,kr.mode,zr),zr.ref=jc(kr,Tr,Br),zr.return=kr,zr)}function Mr(kr,Tr,Br,zr){return Tr===null||Tr.tag!==4||Tr.stateNode.containerInfo!==Br.containerInfo||Tr.stateNode.implementation!==Br.implementation?(Tr=jd(Br,kr.mode,zr),Tr.return=kr,Tr):(Tr=I(Tr,Br.children||[]),Tr.return=kr,Tr)}function Kr(kr,Tr,Br,zr,nn){return Tr===null||Tr.tag!==7?(Tr=da(Br,kr.mode,zr,nn),Tr.return=kr,Tr):(Tr=I(Tr,Br),Tr.return=kr,Tr)}function Hr(kr,Tr,Br){if(typeof Tr=="string"&&Tr!==""||typeof Tr=="number")return Tr=Md(""+Tr,kr.mode,Br),Tr.return=kr,Tr;if(typeof Tr=="object"&&Tr!==null){switch(Tr.$$typeof){case lr:return Br=Qu(Tr.type,Tr.key,Tr.props,null,kr.mode,Br),Br.ref=jc(kr,null,Tr),Br.return=kr,Br;case br:return Tr=jd(Tr,kr.mode,Br),Tr.return=kr,Tr;case H:var zr=Tr._init;return Hr(kr,zr(Tr._payload),Br)}if(xi(Tr)||mr(Tr))return Tr=da(Tr,kr.mode,Br,null),Tr.return=kr,Tr;Cu(kr,Tr)}return null}function Fr(kr,Tr,Br,zr){var nn=Tr!==null?Tr.key:null;if(typeof Br=="string"&&Br!==""||typeof Br=="number")return nn!==null?null:_r(kr,Tr,""+Br,zr);if(typeof Br=="object"&&Br!==null){switch(Br.$$typeof){case lr:return Br.key===nn?Cr(kr,Tr,Br,zr):null;case br:return Br.key===nn?Mr(kr,Tr,Br,zr):null;case H:return nn=Br._init,Fr(kr,Tr,nn(Br._payload),zr)}if(xi(Br)||mr(Br))return nn!==null?null:Kr(kr,Tr,Br,zr,null);Cu(kr,Br)}return null}function Zr(kr,Tr,Br,zr,nn){if(typeof zr=="string"&&zr!==""||typeof zr=="number")return kr=kr.get(Br)||null,_r(Tr,kr,""+zr,nn);if(typeof zr=="object"&&zr!==null){switch(zr.$$typeof){case lr:return kr=kr.get(zr.key===null?Br:zr.key)||null,Cr(Tr,kr,zr,nn);case br:return kr=kr.get(zr.key===null?Br:zr.key)||null,Mr(Tr,kr,zr,nn);case H:var on=zr._init;return Zr(kr,Tr,Br,on(zr._payload),nn)}if(xi(zr)||mr(zr))return kr=kr.get(Br)||null,Kr(Tr,kr,zr,nn,null);Cu(Tr,zr)}return null}function en(kr,Tr,Br,zr){for(var nn=null,on=null,an=Tr,fn=Tr=0,ci=null;an!==null&&fn<Br.length;fn++){an.index>fn?(ci=an,an=null):ci=an.sibling;var Rn=Fr(kr,an,Br[fn],zr);if(Rn===null){an===null&&(an=ci);break}l&&an&&Rn.alternate===null&&f(kr,an),Tr=qe(Rn,Tr,fn),on===null?nn=Rn:on.sibling=Rn,on=Rn,an=ci}if(fn===Br.length)return g(kr,an),Vn&&na(kr,fn),nn;if(an===null){for(;fn<Br.length;fn++)an=Hr(kr,Br[fn],zr),an!==null&&(Tr=qe(an,Tr,fn),on===null?nn=an:on.sibling=an,on=an);return Vn&&na(kr,fn),nn}for(an=E(kr,an);fn<Br.length;fn++)ci=Zr(an,kr,fn,Br[fn],zr),ci!==null&&(l&&ci.alternate!==null&&an.delete(ci.key===null?fn:ci.key),Tr=qe(ci,Tr,fn),on===null?nn=ci:on.sibling=ci,on=ci);return l&&an.forEach(function(Uo){return f(kr,Uo)}),Vn&&na(kr,fn),nn}function tn(kr,Tr,Br,zr){var nn=mr(Br);if(typeof nn!="function")throw Error(o(150));if(Br=nn.call(Br),Br==null)throw Error(o(151));for(var on=nn=null,an=Tr,fn=Tr=0,ci=null,Rn=Br.next();an!==null&&!Rn.done;fn++,Rn=Br.next()){an.index>fn?(ci=an,an=null):ci=an.sibling;var Uo=Fr(kr,an,Rn.value,zr);if(Uo===null){an===null&&(an=ci);break}l&&an&&Uo.alternate===null&&f(kr,an),Tr=qe(Uo,Tr,fn),on===null?nn=Uo:on.sibling=Uo,on=Uo,an=ci}if(Rn.done)return g(kr,an),Vn&&na(kr,fn),nn;if(an===null){for(;!Rn.done;fn++,Rn=Br.next())Rn=Hr(kr,Rn.value,zr),Rn!==null&&(Tr=qe(Rn,Tr,fn),on===null?nn=Rn:on.sibling=Rn,on=Rn);return Vn&&na(kr,fn),nn}for(an=E(kr,an);!Rn.done;fn++,Rn=Br.next())Rn=Zr(an,kr,fn,Rn.value,zr),Rn!==null&&(l&&Rn.alternate!==null&&an.delete(Rn.key===null?fn:Rn.key),Tr=qe(Rn,Tr,fn),on===null?nn=Rn:on.sibling=Rn,on=Rn);return l&&an.forEach(function(S0){return f(kr,S0)}),Vn&&na(kr,fn),nn}function ri(kr,Tr,Br,zr){if(typeof Br=="object"&&Br!==null&&Br.type===wr&&Br.key===null&&(Br=Br.props.children),typeof Br=="object"&&Br!==null){switch(Br.$$typeof){case lr:e:{for(var nn=Br.key,on=Tr;on!==null;){if(on.key===nn){if(nn=Br.type,nn===wr){if(on.tag===7){g(kr,on.sibling),Tr=I(on,Br.props.children),Tr.return=kr,kr=Tr;break e}}else if(on.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===H&&rh(nn)===on.type){g(kr,on.sibling),Tr=I(on,Br.props),Tr.ref=jc(kr,on,Br),Tr.return=kr,kr=Tr;break e}g(kr,on);break}else f(kr,on);on=on.sibling}Br.type===wr?(Tr=da(Br.props.children,kr.mode,zr,Br.key),Tr.return=kr,kr=Tr):(zr=Qu(Br.type,Br.key,Br.props,null,kr.mode,zr),zr.ref=jc(kr,Tr,Br),zr.return=kr,kr=zr)}return gr(kr);case br:e:{for(on=Br.key;Tr!==null;){if(Tr.key===on)if(Tr.tag===4&&Tr.stateNode.containerInfo===Br.containerInfo&&Tr.stateNode.implementation===Br.implementation){g(kr,Tr.sibling),Tr=I(Tr,Br.children||[]),Tr.return=kr,kr=Tr;break e}else{g(kr,Tr);break}else f(kr,Tr);Tr=Tr.sibling}Tr=jd(Br,kr.mode,zr),Tr.return=kr,kr=Tr}return gr(kr);case H:return on=Br._init,ri(kr,Tr,on(Br._payload),zr)}if(xi(Br))return en(kr,Tr,Br,zr);if(mr(Br))return tn(kr,Tr,Br,zr);Cu(kr,Br)}return typeof Br=="string"&&Br!==""||typeof Br=="number"?(Br=""+Br,Tr!==null&&Tr.tag===6?(g(kr,Tr.sibling),Tr=I(Tr,Br),Tr.return=kr,kr=Tr):(g(kr,Tr),Tr=Md(Br,kr.mode,zr),Tr.return=kr,kr=Tr),gr(kr)):g(kr,Tr)}return ri}var Fa=nh(!0),sh=nh(!1),Tu=Co(null),Iu=null,Ka=null,zl=null;function Gl(){zl=Ka=Iu=null}function Wl(l){var f=Tu.current;Ln(Tu),l._currentValue=f}function Jl(l,f,g){for(;l!==null;){var E=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),l===g)break;l=l.return}}function qa(l,f){Iu=l,zl=Ka=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&f)!==0&&(_i=!0),l.firstContext=null)}function Mi(l){var f=l._currentValue;if(zl!==l)if(l={context:l,memoizedValue:f,next:null},Ka===null){if(Iu===null)throw Error(o(308));Ka=l,Iu.dependencies={lanes:0,firstContext:l}}else Ka=Ka.next=l;return f}var sa=null;function Zl(l){sa===null?sa=[l]:sa.push(l)}function ih(l,f,g,E){var I=f.interleaved;return I===null?(g.next=g,Zl(f)):(g.next=I.next,I.next=g),f.interleaved=g,uo(l,E)}function uo(l,f){l.lanes|=f;var g=l.alternate;for(g!==null&&(g.lanes|=f),g=l,l=l.return;l!==null;)l.childLanes|=f,g=l.alternate,g!==null&&(g.childLanes|=f),g=l,l=l.return;return g.tag===3?g.stateNode:null}var ko=!1;function Yl(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function lo(l,f){return{eventTime:l,lane:f,tag:0,payload:null,callback:null,next:null}}function Bo(l,f,g){var E=l.updateQueue;if(E===null)return null;if(E=E.shared,(_n&2)!==0){var I=E.pending;return I===null?f.next=f:(f.next=I.next,I.next=f),E.pending=f,uo(l,g)}return I=E.interleaved,I===null?(f.next=f,Zl(E)):(f.next=I.next,I.next=f),E.interleaved=f,uo(l,g)}function ku(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var E=f.lanes;E&=l.pendingLanes,g|=E,f.lanes=g,dl(l,g)}}function ah(l,f){var g=l.updateQueue,E=l.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var I=null,qe=null;if(g=g.firstBaseUpdate,g!==null){do{var gr={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};qe===null?I=qe=gr:qe=qe.next=gr,g=g.next}while(g!==null);qe===null?I=qe=f:qe=qe.next=f}else I=qe=f;g={baseState:E.baseState,firstBaseUpdate:I,lastBaseUpdate:qe,shared:E.shared,effects:E.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}function Bu(l,f,g,E){var I=l.updateQueue;ko=!1;var qe=I.firstBaseUpdate,gr=I.lastBaseUpdate,_r=I.shared.pending;if(_r!==null){I.shared.pending=null;var Cr=_r,Mr=Cr.next;Cr.next=null,gr===null?qe=Mr:gr.next=Mr,gr=Cr;var Kr=l.alternate;Kr!==null&&(Kr=Kr.updateQueue,_r=Kr.lastBaseUpdate,_r!==gr&&(_r===null?Kr.firstBaseUpdate=Mr:_r.next=Mr,Kr.lastBaseUpdate=Cr))}if(qe!==null){var Hr=I.baseState;gr=0,Kr=Mr=Cr=null,_r=qe;do{var Fr=_r.lane,Zr=_r.eventTime;if((E&Fr)===Fr){Kr!==null&&(Kr=Kr.next={eventTime:Zr,lane:0,tag:_r.tag,payload:_r.payload,callback:_r.callback,next:null});e:{var en=l,tn=_r;switch(Fr=f,Zr=g,tn.tag){case 1:if(en=tn.payload,typeof en=="function"){Hr=en.call(Zr,Hr,Fr);break e}Hr=en;break e;case 3:en.flags=en.flags&-65537|128;case 0:if(en=tn.payload,Fr=typeof en=="function"?en.call(Zr,Hr,Fr):en,Fr==null)break e;Hr=$({},Hr,Fr);break e;case 2:ko=!0}}_r.callback!==null&&_r.lane!==0&&(l.flags|=64,Fr=I.effects,Fr===null?I.effects=[_r]:Fr.push(_r))}else Zr={eventTime:Zr,lane:Fr,tag:_r.tag,payload:_r.payload,callback:_r.callback,next:null},Kr===null?(Mr=Kr=Zr,Cr=Hr):Kr=Kr.next=Zr,gr|=Fr;if(_r=_r.next,_r===null){if(_r=I.shared.pending,_r===null)break;Fr=_r,_r=Fr.next,Fr.next=null,I.lastBaseUpdate=Fr,I.shared.pending=null}}while(!0);if(Kr===null&&(Cr=Hr),I.baseState=Cr,I.firstBaseUpdate=Mr,I.lastBaseUpdate=Kr,f=I.shared.interleaved,f!==null){I=f;do gr|=I.lane,I=I.next;while(I!==f)}else qe===null&&(I.shared.lanes=0);aa|=gr,l.lanes=gr,l.memoizedState=Hr}}function ch(l,f,g){if(l=f.effects,f.effects=null,l!==null)for(f=0;f<l.length;f++){var E=l[f],I=E.callback;if(I!==null){if(E.callback=null,E=g,typeof I!="function")throw Error(o(191,I));I.call(E)}}}var Dc={},Xi=Co(Dc),Lc=Co(Dc),Uc=Co(Dc);function ia(l){if(l===Dc)throw Error(o(174));return l}function Xl(l,f){switch($n(Uc,f),$n(Lc,l),$n(Xi,Dc),l=f.nodeType,l){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:vr(null,"");break;default:l=l===8?f.parentNode:f,f=l.namespaceURI||null,l=l.tagName,f=vr(f,l)}Ln(Xi),$n(Xi,f)}function Ha(){Ln(Xi),Ln(Lc),Ln(Uc)}function uh(l){ia(Uc.current);var f=ia(Xi.current),g=vr(f,l.type);f!==g&&($n(Lc,l),$n(Xi,g))}function Ql(l){Lc.current===l&&(Ln(Xi),Ln(Lc))}var Zn=Co(0);function Ou(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ed=[];function td(){for(var l=0;l<ed.length;l++)ed[l]._workInProgressVersionPrimary=null;ed.length=0}var $u=yr.ReactCurrentDispatcher,rd=yr.ReactCurrentBatchConfig,oa=0,Yn=null,si=null,oi=null,Mu=!1,Fc=!1,Kc=0,Vm=0;function fi(){throw Error(o(321))}function nd(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!Ki(l[g],f[g]))return!1;return!0}function sd(l,f,g,E,I,qe){if(oa=qe,Yn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,$u.current=l===null||l.memoizedState===null?Jm:Zm,l=g(E,I),Fc){qe=0;do{if(Fc=!1,Kc=0,25<=qe)throw Error(o(301));qe+=1,oi=si=null,f.updateQueue=null,$u.current=Ym,l=g(E,I)}while(Fc)}if($u.current=Lu,f=si!==null&&si.next!==null,oa=0,oi=si=Yn=null,Mu=!1,f)throw Error(o(300));return l}function id(){var l=Kc!==0;return Kc=0,l}function Qi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Yn.memoizedState=oi=l:oi=oi.next=l,oi}function ji(){if(si===null){var l=Yn.alternate;l=l!==null?l.memoizedState:null}else l=si.next;var f=oi===null?Yn.memoizedState:oi.next;if(f!==null)oi=f,si=l;else{if(l===null)throw Error(o(310));si=l,l={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},oi===null?Yn.memoizedState=oi=l:oi=oi.next=l}return oi}function qc(l,f){return typeof f=="function"?f(l):f}function od(l){var f=ji(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=l;var E=si,I=E.baseQueue,qe=g.pending;if(qe!==null){if(I!==null){var gr=I.next;I.next=qe.next,qe.next=gr}E.baseQueue=I=qe,g.pending=null}if(I!==null){qe=I.next,E=E.baseState;var _r=gr=null,Cr=null,Mr=qe;do{var Kr=Mr.lane;if((oa&Kr)===Kr)Cr!==null&&(Cr=Cr.next={lane:0,action:Mr.action,hasEagerState:Mr.hasEagerState,eagerState:Mr.eagerState,next:null}),E=Mr.hasEagerState?Mr.eagerState:l(E,Mr.action);else{var Hr={lane:Kr,action:Mr.action,hasEagerState:Mr.hasEagerState,eagerState:Mr.eagerState,next:null};Cr===null?(_r=Cr=Hr,gr=E):Cr=Cr.next=Hr,Yn.lanes|=Kr,aa|=Kr}Mr=Mr.next}while(Mr!==null&&Mr!==qe);Cr===null?gr=E:Cr.next=_r,Ki(E,f.memoizedState)||(_i=!0),f.memoizedState=E,f.baseState=gr,f.baseQueue=Cr,g.lastRenderedState=E}if(l=g.interleaved,l!==null){I=l;do qe=I.lane,Yn.lanes|=qe,aa|=qe,I=I.next;while(I!==l)}else I===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function ad(l){var f=ji(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=l;var E=g.dispatch,I=g.pending,qe=f.memoizedState;if(I!==null){g.pending=null;var gr=I=I.next;do qe=l(qe,gr.action),gr=gr.next;while(gr!==I);Ki(qe,f.memoizedState)||(_i=!0),f.memoizedState=qe,f.baseQueue===null&&(f.baseState=qe),g.lastRenderedState=qe}return[qe,E]}function lh(){}function dh(l,f){var g=Yn,E=ji(),I=f(),qe=!Ki(E.memoizedState,I);if(qe&&(E.memoizedState=I,_i=!0),E=E.queue,cd(ph.bind(null,g,E,l),[l]),E.getSnapshot!==f||qe||oi!==null&&oi.memoizedState.tag&1){if(g.flags|=2048,Hc(9,hh.bind(null,g,E,I,f),void 0,null),ai===null)throw Error(o(349));(oa&30)!==0||fh(g,f,I)}return I}function fh(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=Yn.updateQueue,f===null?(f={lastEffect:null,stores:null},Yn.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function hh(l,f,g,E){f.value=g,f.getSnapshot=E,mh(f)&&yh(l)}function ph(l,f,g){return g(function(){mh(f)&&yh(l)})}function mh(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!Ki(l,g)}catch{return!0}}function yh(l){var f=uo(l,1);f!==null&&Gi(f,l,1,-1)}function gh(l){var f=Qi();return typeof l=="function"&&(l=l()),f.memoizedState=f.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:l},f.queue=l,l=l.dispatch=Wm.bind(null,Yn,l),[f.memoizedState,l]}function Hc(l,f,g,E){return l={tag:l,create:f,destroy:g,deps:E,next:null},f=Yn.updateQueue,f===null?(f={lastEffect:null,stores:null},Yn.updateQueue=f,f.lastEffect=l.next=l):(g=f.lastEffect,g===null?f.lastEffect=l.next=l:(E=g.next,g.next=l,l.next=E,f.lastEffect=l)),l}function vh(){return ji().memoizedState}function ju(l,f,g,E){var I=Qi();Yn.flags|=l,I.memoizedState=Hc(1|f,g,void 0,E===void 0?null:E)}function Du(l,f,g,E){var I=ji();E=E===void 0?null:E;var qe=void 0;if(si!==null){var gr=si.memoizedState;if(qe=gr.destroy,E!==null&&nd(E,gr.deps)){I.memoizedState=Hc(f,g,qe,E);return}}Yn.flags|=l,I.memoizedState=Hc(1|f,g,qe,E)}function bh(l,f){return ju(8390656,8,l,f)}function cd(l,f){return Du(2048,8,l,f)}function xh(l,f){return Du(4,2,l,f)}function wh(l,f){return Du(4,4,l,f)}function Eh(l,f){if(typeof f=="function")return l=l(),f(l),function(){f(null)};if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function Sh(l,f,g){return g=g!=null?g.concat([l]):null,Du(4,4,Eh.bind(null,f,l),g)}function ud(){}function _h(l,f){var g=ji();f=f===void 0?null:f;var E=g.memoizedState;return E!==null&&f!==null&&nd(f,E[1])?E[0]:(g.memoizedState=[l,f],l)}function Rh(l,f){var g=ji();f=f===void 0?null:f;var E=g.memoizedState;return E!==null&&f!==null&&nd(f,E[1])?E[0]:(l=l(),g.memoizedState=[l,f],l)}function Ah(l,f,g){return(oa&21)===0?(l.baseState&&(l.baseState=!1,_i=!0),l.memoizedState=g):(Ki(g,f)||(g=tf(),Yn.lanes|=g,aa|=g,l.baseState=!0),f)}function zm(l,f){var g=Cn;Cn=g!==0&&4>g?g:4,l(!0);var E=rd.transition;rd.transition={};try{l(!1),f()}finally{Cn=g,rd.transition=E}}function Ph(){return ji().memoizedState}function Gm(l,f,g){var E=jo(l);if(g={lane:E,action:g,hasEagerState:!1,eagerState:null,next:null},Nh(l))Ch(f,g);else if(g=ih(l,f,g,E),g!==null){var I=gi();Gi(g,l,E,I),Th(g,f,E)}}function Wm(l,f,g){var E=jo(l),I={lane:E,action:g,hasEagerState:!1,eagerState:null,next:null};if(Nh(l))Ch(f,I);else{var qe=l.alternate;if(l.lanes===0&&(qe===null||qe.lanes===0)&&(qe=f.lastRenderedReducer,qe!==null))try{var gr=f.lastRenderedState,_r=qe(gr,g);if(I.hasEagerState=!0,I.eagerState=_r,Ki(_r,gr)){var Cr=f.interleaved;Cr===null?(I.next=I,Zl(f)):(I.next=Cr.next,Cr.next=I),f.interleaved=I;return}}catch{}finally{}g=ih(l,f,I,E),g!==null&&(I=gi(),Gi(g,l,E,I),Th(g,f,E))}}function Nh(l){var f=l.alternate;return l===Yn||f!==null&&f===Yn}function Ch(l,f){Fc=Mu=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function Th(l,f,g){if((g&4194240)!==0){var E=f.lanes;E&=l.pendingLanes,g|=E,f.lanes=g,dl(l,g)}}var Lu={readContext:Mi,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Jm={readContext:Mi,useCallback:function(l,f){return Qi().memoizedState=[l,f===void 0?null:f],l},useContext:Mi,useEffect:bh,useImperativeHandle:function(l,f,g){return g=g!=null?g.concat([l]):null,ju(4194308,4,Eh.bind(null,f,l),g)},useLayoutEffect:function(l,f){return ju(4194308,4,l,f)},useInsertionEffect:function(l,f){return ju(4,2,l,f)},useMemo:function(l,f){var g=Qi();return f=f===void 0?null:f,l=l(),g.memoizedState=[l,f],l},useReducer:function(l,f,g){var E=Qi();return f=g!==void 0?g(f):f,E.memoizedState=E.baseState=f,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:f},E.queue=l,l=l.dispatch=Gm.bind(null,Yn,l),[E.memoizedState,l]},useRef:function(l){var f=Qi();return l={current:l},f.memoizedState=l},useState:gh,useDebugValue:ud,useDeferredValue:function(l){return Qi().memoizedState=l},useTransition:function(){var l=gh(!1),f=l[0];return l=zm.bind(null,l[1]),Qi().memoizedState=l,[f,l]},useMutableSource:function(){},useSyncExternalStore:function(l,f,g){var E=Yn,I=Qi();if(Vn){if(g===void 0)throw Error(o(407));g=g()}else{if(g=f(),ai===null)throw Error(o(349));(oa&30)!==0||fh(E,f,g)}I.memoizedState=g;var qe={value:g,getSnapshot:f};return I.queue=qe,bh(ph.bind(null,E,qe,l),[l]),E.flags|=2048,Hc(9,hh.bind(null,E,qe,g,f),void 0,null),g},useId:function(){var l=Qi(),f=ai.identifierPrefix;if(Vn){var g=co,E=ao;g=(E&~(1<<32-Fi(E)-1)).toString(32)+g,f=":"+f+"R"+g,g=Kc++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=Vm++,f=":"+f+"r"+g.toString(32)+":";return l.memoizedState=f},unstable_isNewReconciler:!1},Zm={readContext:Mi,useCallback:_h,useContext:Mi,useEffect:cd,useImperativeHandle:Sh,useInsertionEffect:xh,useLayoutEffect:wh,useMemo:Rh,useReducer:od,useRef:vh,useState:function(){return od(qc)},useDebugValue:ud,useDeferredValue:function(l){var f=ji();return Ah(f,si.memoizedState,l)},useTransition:function(){var l=od(qc)[0],f=ji().memoizedState;return[l,f]},useMutableSource:lh,useSyncExternalStore:dh,useId:Ph,unstable_isNewReconciler:!1},Ym={readContext:Mi,useCallback:_h,useContext:Mi,useEffect:cd,useImperativeHandle:Sh,useInsertionEffect:xh,useLayoutEffect:wh,useMemo:Rh,useReducer:ad,useRef:vh,useState:function(){return ad(qc)},useDebugValue:ud,useDeferredValue:function(l){var f=ji();return si===null?f.memoizedState=l:Ah(f,si.memoizedState,l)},useTransition:function(){var l=ad(qc)[0],f=ji().memoizedState;return[l,f]},useMutableSource:lh,useSyncExternalStore:dh,useId:Ph,unstable_isNewReconciler:!1};function Hi(l,f){if(l&&l.defaultProps){f=$({},f),l=l.defaultProps;for(var g in l)f[g]===void 0&&(f[g]=l[g]);return f}return f}function ld(l,f,g,E){f=l.memoizedState,g=g(E,f),g=g==null?f:$({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Uu={isMounted:function(l){return(l=l._reactInternals)?Tn(l)===l:!1},enqueueSetState:function(l,f,g){l=l._reactInternals;var E=gi(),I=jo(l),qe=lo(E,I);qe.payload=f,g!=null&&(qe.callback=g),f=Bo(l,qe,I),f!==null&&(Gi(f,l,I,E),ku(f,l,I))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var E=gi(),I=jo(l),qe=lo(E,I);qe.tag=1,qe.payload=f,g!=null&&(qe.callback=g),f=Bo(l,qe,I),f!==null&&(Gi(f,l,I,E),ku(f,l,I))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=gi(),E=jo(l),I=lo(g,E);I.tag=2,f!=null&&(I.callback=f),f=Bo(l,I,E),f!==null&&(Gi(f,l,E,g),ku(f,l,E))}};function Ih(l,f,g,E,I,qe,gr){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(E,qe,gr):f.prototype&&f.prototype.isPureReactComponent?!Tc(g,E)||!Tc(I,qe):!0}function kh(l,f,g){var E=!1,I=To,qe=f.contextType;return typeof qe=="object"&&qe!==null?qe=Mi(qe):(I=Si(f)?ta:di.current,E=f.contextTypes,qe=(E=E!=null)?ja(l,I):To),f=new f(g,qe),l.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uu,l.stateNode=f,f._reactInternals=l,E&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=I,l.__reactInternalMemoizedMaskedChildContext=qe),f}function Bh(l,f,g,E){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,E),f.state!==l&&Uu.enqueueReplaceState(f,f.state,null)}function dd(l,f,g,E){var I=l.stateNode;I.props=g,I.state=l.memoizedState,I.refs={},Yl(l);var qe=f.contextType;typeof qe=="object"&&qe!==null?I.context=Mi(qe):(qe=Si(f)?ta:di.current,I.context=ja(l,qe)),I.state=l.memoizedState,qe=f.getDerivedStateFromProps,typeof qe=="function"&&(ld(l,f,qe,g),I.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(f=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),f!==I.state&&Uu.enqueueReplaceState(I,I.state,null),Bu(l,g,I,E),I.state=l.memoizedState),typeof I.componentDidMount=="function"&&(l.flags|=4194308)}function Va(l,f){try{var g="",E=f;do g+=Ur(E),E=E.return;while(E);var I=g}catch(qe){I=`
Error generating stack: `+qe.message+`
`+qe.stack}return{value:l,source:f,stack:I,digest:null}}function fd(l,f,g){return{value:l,source:null,stack:g??null,digest:f??null}}function hd(l,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function Oh(l,f,g){g=lo(-1,g),g.tag=3,g.payload={element:null};var E=f.value;return g.callback=function(){Gu||(Gu=!0,Nd=E),hd(l,f)},g}function $h(l,f,g){g=lo(-1,g),g.tag=3;var E=l.type.getDerivedStateFromError;if(typeof E=="function"){var I=f.value;g.payload=function(){return E(I)},g.callback=function(){hd(l,f)}}var qe=l.stateNode;return qe!==null&&typeof qe.componentDidCatch=="function"&&(g.callback=function(){hd(l,f),typeof E!="function"&&($o===null?$o=new Set([this]):$o.add(this));var gr=f.stack;this.componentDidCatch(f.value,{componentStack:gr!==null?gr:""})}),g}function Mh(l,f,g){var E=l.pingCache;if(E===null){E=l.pingCache=new Xm;var I=new Set;E.set(f,I)}else I=E.get(f),I===void 0&&(I=new Set,E.set(f,I));I.has(g)||(I.add(g),l=f0.bind(null,l,f,g),f.then(l,l))}function jh(l){do{var f;if((f=l.tag===13)&&(f=l.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return l;l=l.return}while(l!==null);return null}function Dh(l,f,g,E,I){return(l.mode&1)===0?(l===f?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=lo(-1,1),f.tag=2,Bo(g,f,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=I,l)}var Qm=yr.ReactCurrentOwner,_i=!1;function yi(l,f,g,E){f.child=l===null?sh(f,null,g,E):Fa(f,l.child,g,E)}function Lh(l,f,g,E,I){g=g.render;var qe=f.ref;return qa(f,I),E=sd(l,f,g,E,qe,I),g=id(),l!==null&&!_i?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~I,fo(l,f,I)):(Vn&&g&&Fl(f),f.flags|=1,yi(l,f,E,I),f.child)}function Uh(l,f,g,E,I){if(l===null){var qe=g.type;return typeof qe=="function"&&!$d(qe)&&qe.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=qe,Fh(l,f,qe,E,I)):(l=Qu(g.type,null,E,f,f.mode,I),l.ref=f.ref,l.return=f,f.child=l)}if(qe=l.child,(l.lanes&I)===0){var gr=qe.memoizedProps;if(g=g.compare,g=g!==null?g:Tc,g(gr,E)&&l.ref===f.ref)return fo(l,f,I)}return f.flags|=1,l=Lo(qe,E),l.ref=f.ref,l.return=f,f.child=l}function Fh(l,f,g,E,I){if(l!==null){var qe=l.memoizedProps;if(Tc(qe,E)&&l.ref===f.ref)if(_i=!1,f.pendingProps=E=qe,(l.lanes&I)!==0)(l.flags&131072)!==0&&(_i=!0);else return f.lanes=l.lanes,fo(l,f,I)}return pd(l,f,g,E,I)}function Kh(l,f,g){var E=f.pendingProps,I=E.children,qe=l!==null?l.memoizedState:null;if(E.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(Ga,ki),ki|=g;else{if((g&1073741824)===0)return l=qe!==null?qe.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:l,cachePool:null,transitions:null},f.updateQueue=null,$n(Ga,ki),ki|=l,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=qe!==null?qe.baseLanes:g,$n(Ga,ki),ki|=E}else qe!==null?(E=qe.baseLanes|g,f.memoizedState=null):E=g,$n(Ga,ki),ki|=E;return yi(l,f,I,g),f.child}function qh(l,f){var g=f.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function pd(l,f,g,E,I){var qe=Si(g)?ta:di.current;return qe=ja(f,qe),qa(f,I),g=sd(l,f,g,E,qe,I),E=id(),l!==null&&!_i?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~I,fo(l,f,I)):(Vn&&E&&Fl(f),f.flags|=1,yi(l,f,g,I),f.child)}function Hh(l,f,g,E,I){if(Si(g)){var qe=!0;_u(f)}else qe=!1;if(qa(f,I),f.stateNode===null)Ku(l,f),kh(f,g,E),dd(f,g,E,I),E=!0;else if(l===null){var gr=f.stateNode,_r=f.memoizedProps;gr.props=_r;var Cr=gr.context,Mr=g.contextType;typeof Mr=="object"&&Mr!==null?Mr=Mi(Mr):(Mr=Si(g)?ta:di.current,Mr=ja(f,Mr));var Kr=g.getDerivedStateFromProps,Hr=typeof Kr=="function"||typeof gr.getSnapshotBeforeUpdate=="function";Hr||typeof gr.UNSAFE_componentWillReceiveProps!="function"&&typeof gr.componentWillReceiveProps!="function"||(_r!==E||Cr!==Mr)&&Bh(f,gr,E,Mr),ko=!1;var Fr=f.memoizedState;gr.state=Fr,Bu(f,E,gr,I),Cr=f.memoizedState,_r!==E||Fr!==Cr||Ei.current||ko?(typeof Kr=="function"&&(ld(f,g,Kr,E),Cr=f.memoizedState),(_r=ko||Ih(f,g,_r,E,Fr,Cr,Mr))?(Hr||typeof gr.UNSAFE_componentWillMount!="function"&&typeof gr.componentWillMount!="function"||(typeof gr.componentWillMount=="function"&&gr.componentWillMount(),typeof gr.UNSAFE_componentWillMount=="function"&&gr.UNSAFE_componentWillMount()),typeof gr.componentDidMount=="function"&&(f.flags|=4194308)):(typeof gr.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=Cr),gr.props=E,gr.state=Cr,gr.context=Mr,E=_r):(typeof gr.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{gr=f.stateNode,oh(l,f),_r=f.memoizedProps,Mr=f.type===f.elementType?_r:Hi(f.type,_r),gr.props=Mr,Hr=f.pendingProps,Fr=gr.context,Cr=g.contextType,typeof Cr=="object"&&Cr!==null?Cr=Mi(Cr):(Cr=Si(g)?ta:di.current,Cr=ja(f,Cr));var Zr=g.getDerivedStateFromProps;(Kr=typeof Zr=="function"||typeof gr.getSnapshotBeforeUpdate=="function")||typeof gr.UNSAFE_componentWillReceiveProps!="function"&&typeof gr.componentWillReceiveProps!="function"||(_r!==Hr||Fr!==Cr)&&Bh(f,gr,E,Cr),ko=!1,Fr=f.memoizedState,gr.state=Fr,Bu(f,E,gr,I);var en=f.memoizedState;_r!==Hr||Fr!==en||Ei.current||ko?(typeof Zr=="function"&&(ld(f,g,Zr,E),en=f.memoizedState),(Mr=ko||Ih(f,g,Mr,E,Fr,en,Cr)||!1)?(Kr||typeof gr.UNSAFE_componentWillUpdate!="function"&&typeof gr.componentWillUpdate!="function"||(typeof gr.componentWillUpdate=="function"&&gr.componentWillUpdate(E,en,Cr),typeof gr.UNSAFE_componentWillUpdate=="function"&&gr.UNSAFE_componentWillUpdate(E,en,Cr)),typeof gr.componentDidUpdate=="function"&&(f.flags|=4),typeof gr.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof gr.componentDidUpdate!="function"||_r===l.memoizedProps&&Fr===l.memoizedState||(f.flags|=4),typeof gr.getSnapshotBeforeUpdate!="function"||_r===l.memoizedProps&&Fr===l.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=en),gr.props=E,gr.state=en,gr.context=Cr,E=Mr):(typeof gr.componentDidUpdate!="function"||_r===l.memoizedProps&&Fr===l.memoizedState||(f.flags|=4),typeof gr.getSnapshotBeforeUpdate!="function"||_r===l.memoizedProps&&Fr===l.memoizedState||(f.flags|=1024),E=!1)}return md(l,f,g,E,qe,I)}function md(l,f,g,E,I,qe){qh(l,f);var gr=(f.flags&128)!==0;if(!E&&!gr)return I&&Jf(f,g,!1),fo(l,f,qe);E=f.stateNode,Qm.current=f;var _r=gr&&typeof g.getDerivedStateFromError!="function"?null:E.render();return f.flags|=1,l!==null&&gr?(f.child=Fa(f,l.child,null,qe),f.child=Fa(f,null,_r,qe)):yi(l,f,_r,qe),f.memoizedState=E.state,I&&Jf(f,g,!0),f.child}function Vh(l){var f=l.stateNode;f.pendingContext?Gf(l,f.pendingContext,f.pendingContext!==f.context):f.context&&Gf(l,f.context,!1),Xl(l,f.containerInfo)}function zh(l,f,g,E,I){return Ua(),Vl(I),f.flags|=256,yi(l,f,g,E),f.child}var yd={dehydrated:null,treeContext:null,retryLane:0};function gd(l){return{baseLanes:l,cachePool:null,transitions:null}}function Gh(l,f,g){var E=f.pendingProps,I=Zn.current,qe=!1,gr=(f.flags&128)!==0,_r;if((_r=gr)||(_r=l!==null&&l.memoizedState===null?!1:(I&2)!==0),_r?(qe=!0,f.flags&=-129):(l===null||l.memoizedState!==null)&&(I|=1),$n(Zn,I&1),l===null)return Hl(f),l=f.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((f.mode&1)===0?f.lanes=1:l.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(gr=E.children,l=E.fallback,qe?(E=f.mode,qe=f.child,gr={mode:"hidden",children:gr},(E&1)===0&&qe!==null?(qe.childLanes=0,qe.pendingProps=gr):qe=el(gr,E,0,null),l=da(l,E,g,null),qe.return=f,l.return=f,qe.sibling=l,f.child=qe,f.child.memoizedState=gd(g),f.memoizedState=yd,l):vd(f,gr));if(I=l.memoizedState,I!==null&&(_r=I.dehydrated,_r!==null))return e0(l,f,gr,E,_r,I,g);if(qe){qe=E.fallback,gr=f.mode,I=l.child,_r=I.sibling;var Cr={mode:"hidden",children:E.children};return(gr&1)===0&&f.child!==I?(E=f.child,E.childLanes=0,E.pendingProps=Cr,f.deletions=null):(E=Lo(I,Cr),E.subtreeFlags=I.subtreeFlags&14680064),_r!==null?qe=Lo(_r,qe):(qe=da(qe,gr,g,null),qe.flags|=2),qe.return=f,E.return=f,E.sibling=qe,f.child=E,E=qe,qe=f.child,gr=l.child.memoizedState,gr=gr===null?gd(g):{baseLanes:gr.baseLanes|g,cachePool:null,transitions:gr.transitions},qe.memoizedState=gr,qe.childLanes=l.childLanes&~g,f.memoizedState=yd,E}return qe=l.child,l=qe.sibling,E=Lo(qe,{mode:"visible",children:E.children}),(f.mode&1)===0&&(E.lanes=g),E.return=f,E.sibling=null,l!==null&&(g=f.deletions,g===null?(f.deletions=[l],f.flags|=16):g.push(l)),f.child=E,f.memoizedState=null,E}function vd(l,f){return f=el({mode:"visible",children:f},l.mode,0,null),f.return=l,l.child=f}function Fu(l,f,g,E){return E!==null&&Vl(E),Fa(f,l.child,null,g),l=vd(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function e0(l,f,g,E,I,qe,gr){if(g)return f.flags&256?(f.flags&=-257,E=fd(Error(o(422))),Fu(l,f,gr,E)):f.memoizedState!==null?(f.child=l.child,f.flags|=128,null):(qe=E.fallback,I=f.mode,E=el({mode:"visible",children:E.children},I,0,null),qe=da(qe,I,gr,null),qe.flags|=2,E.return=f,qe.return=f,E.sibling=qe,f.child=E,(f.mode&1)!==0&&Fa(f,l.child,null,gr),f.child.memoizedState=gd(gr),f.memoizedState=yd,qe);if((f.mode&1)===0)return Fu(l,f,gr,null);if(I.data==="$!"){if(E=I.nextSibling&&I.nextSibling.dataset,E)var _r=E.dgst;return E=_r,qe=Error(o(419)),E=fd(qe,E,void 0),Fu(l,f,gr,E)}if(_r=(gr&l.childLanes)!==0,_i||_r){if(E=ai,E!==null){switch(gr&-gr){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(E.suspendedLanes|gr))!==0?0:I,I!==0&&I!==qe.retryLane&&(qe.retryLane=I,uo(l,I),Gi(E,l,I,-1))}return Od(),E=fd(Error(o(421))),Fu(l,f,gr,E)}return I.data==="$?"?(f.flags|=128,f.child=l.child,f=h0.bind(null,l),I._reactRetry=f,null):(l=qe.treeContext,Ii=No(I.nextSibling),Ti=f,Vn=!0,qi=null,l!==null&&(Oi[$i++]=ao,Oi[$i++]=co,Oi[$i++]=ra,ao=l.id,co=l.overflow,ra=f),f=vd(f,E.children),f.flags|=4096,f)}function Wh(l,f,g){l.lanes|=f;var E=l.alternate;E!==null&&(E.lanes|=f),Jl(l.return,f,g)}function bd(l,f,g,E,I){var qe=l.memoizedState;qe===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:I}:(qe.isBackwards=f,qe.rendering=null,qe.renderingStartTime=0,qe.last=E,qe.tail=g,qe.tailMode=I)}function Jh(l,f,g){var E=f.pendingProps,I=E.revealOrder,qe=E.tail;if(yi(l,f,E.children,g),E=Zn.current,(E&2)!==0)E=E&1|2,f.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Wh(l,g,f);else if(l.tag===19)Wh(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}E&=1}if($n(Zn,E),(f.mode&1)===0)f.memoizedState=null;else switch(I){case"forwards":for(g=f.child,I=null;g!==null;)l=g.alternate,l!==null&&Ou(l)===null&&(I=g),g=g.sibling;g=I,g===null?(I=f.child,f.child=null):(I=g.sibling,g.sibling=null),bd(f,!1,I,g,qe);break;case"backwards":for(g=null,I=f.child,f.child=null;I!==null;){if(l=I.alternate,l!==null&&Ou(l)===null){f.child=I;break}l=I.sibling,I.sibling=g,g=I,I=l}bd(f,!0,g,null,qe);break;case"together":bd(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ku(l,f){(f.mode&1)===0&&l!==null&&(l.alternate=null,f.alternate=null,f.flags|=2)}function fo(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),aa|=f.lanes,(g&f.childLanes)===0)return null;if(l!==null&&f.child!==l.child)throw Error(o(153));if(f.child!==null){for(l=f.child,g=Lo(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=Lo(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function t0(l,f,g){switch(f.tag){case 3:Vh(f),Ua();break;case 5:uh(f);break;case 1:Si(f.type)&&_u(f);break;case 4:Xl(f,f.stateNode.containerInfo);break;case 10:var E=f.type._context,I=f.memoizedProps.value;$n(Tu,E._currentValue),E._currentValue=I;break;case 13:if(E=f.memoizedState,E!==null)return E.dehydrated!==null?($n(Zn,Zn.current&1),f.flags|=128,null):(g&f.child.childLanes)!==0?Gh(l,f,g):($n(Zn,Zn.current&1),l=fo(l,f,g),l!==null?l.sibling:null);$n(Zn,Zn.current&1);break;case 19:if(E=(g&f.childLanes)!==0,(l.flags&128)!==0){if(E)return Jh(l,f,g);f.flags|=128}if(I=f.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),$n(Zn,Zn.current),E)break;return null;case 22:case 23:return f.lanes=0,Kh(l,f,g)}return fo(l,f,g)}var Zh,xd,Yh,Xh;Zh=function(l,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},xd=function(){},Yh=function(l,f,g,E){var I=l.memoizedProps;if(I!==E){l=f.stateNode,ia(Xi.current);var qe=null;switch(g){case"input":I=vn(l,I),E=vn(l,E),qe=[];break;case"select":I=$({},I,{value:void 0}),E=$({},E,{value:void 0}),qe=[];break;case"textarea":I=yn(l,I),E=yn(l,E),qe=[];break;default:typeof I.onClick!="function"&&typeof E.onClick=="function"&&(l.onclick=wu)}ln(g,E);var gr;g=null;for(Mr in I)if(!E.hasOwnProperty(Mr)&&I.hasOwnProperty(Mr)&&I[Mr]!=null)if(Mr==="style"){var _r=I[Mr];for(gr in _r)_r.hasOwnProperty(gr)&&(g||(g={}),g[gr]="")}else Mr!=="dangerouslySetInnerHTML"&&Mr!=="children"&&Mr!=="suppressContentEditableWarning"&&Mr!=="suppressHydrationWarning"&&Mr!=="autoFocus"&&(c.hasOwnProperty(Mr)?qe||(qe=[]):(qe=qe||[]).push(Mr,null));for(Mr in E){var Cr=E[Mr];if(_r=I!=null?I[Mr]:void 0,E.hasOwnProperty(Mr)&&Cr!==_r&&(Cr!=null||_r!=null))if(Mr==="style")if(_r){for(gr in _r)!_r.hasOwnProperty(gr)||Cr&&Cr.hasOwnProperty(gr)||(g||(g={}),g[gr]="");for(gr in Cr)Cr.hasOwnProperty(gr)&&_r[gr]!==Cr[gr]&&(g||(g={}),g[gr]=Cr[gr])}else g||(qe||(qe=[]),qe.push(Mr,g)),g=Cr;else Mr==="dangerouslySetInnerHTML"?(Cr=Cr?Cr.__html:void 0,_r=_r?_r.__html:void 0,Cr!=null&&_r!==Cr&&(qe=qe||[]).push(Mr,Cr)):Mr==="children"?typeof Cr!="string"&&typeof Cr!="number"||(qe=qe||[]).push(Mr,""+Cr):Mr!=="suppressContentEditableWarning"&&Mr!=="suppressHydrationWarning"&&(c.hasOwnProperty(Mr)?(Cr!=null&&Mr==="onScroll"&&Dn("scroll",l),qe||_r===Cr||(qe=[])):(qe=qe||[]).push(Mr,Cr))}g&&(qe=qe||[]).push("style",g);var Mr=qe;(f.updateQueue=Mr)&&(f.flags|=4)}},Xh=function(l,f,g,E){g!==E&&(f.flags|=4)};function Vc(l,f){if(!Vn)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:E.sibling=null}}function hi(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,E=0;if(f)for(var I=l.child;I!==null;)g|=I.lanes|I.childLanes,E|=I.subtreeFlags&14680064,E|=I.flags&14680064,I.return=l,I=I.sibling;else for(I=l.child;I!==null;)g|=I.lanes|I.childLanes,E|=I.subtreeFlags,E|=I.flags,I.return=l,I=I.sibling;return l.subtreeFlags|=E,l.childLanes=g,f}function r0(l,f,g){var E=f.pendingProps;switch(Kl(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(f),null;case 1:return Si(f.type)&&Su(),hi(f),null;case 3:return E=f.stateNode,Ha(),Ln(Ei),Ln(di),td(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(l===null||l.child===null)&&(Nu(f)?f.flags|=4:l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,qi!==null&&(Id(qi),qi=null))),xd(l,f),hi(f),null;case 5:Ql(f);var I=ia(Uc.current);if(g=f.type,l!==null&&f.stateNode!=null)Yh(l,f,g,E,I),l.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!E){if(f.stateNode===null)throw Error(o(166));return hi(f),null}if(l=ia(Xi.current),Nu(f)){E=f.stateNode,g=f.type;var qe=f.memoizedProps;switch(E[Yi]=f,E[$c]=qe,l=(f.mode&1)!==0,g){case"dialog":Dn("cancel",E),Dn("close",E);break;case"iframe":case"object":case"embed":Dn("load",E);break;case"video":case"audio":for(I=0;I<kc.length;I++)Dn(kc[I],E);break;case"source":Dn("error",E);break;case"img":case"image":case"link":Dn("error",E),Dn("load",E);break;case"details":Dn("toggle",E);break;case"input":hn(E,qe),Dn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!qe.multiple},Dn("invalid",E);break;case"textarea":Bi(E,qe),Dn("invalid",E)}ln(g,qe),I=null;for(var gr in qe)if(qe.hasOwnProperty(gr)){var _r=qe[gr];gr==="children"?typeof _r=="string"?E.textContent!==_r&&(qe.suppressHydrationWarning!==!0&&xu(E.textContent,_r,l),I=["children",_r]):typeof _r=="number"&&E.textContent!==""+_r&&(qe.suppressHydrationWarning!==!0&&xu(E.textContent,_r,l),I=["children",""+_r]):c.hasOwnProperty(gr)&&_r!=null&&gr==="onScroll"&&Dn("scroll",E)}switch(g){case"input":un(E),An(E,qe,!0);break;case"textarea":un(E),gn(E);break;case"select":case"option":break;default:typeof qe.onClick=="function"&&(E.onclick=wu)}E=I,f.updateQueue=E,E!==null&&(f.flags|=4)}else{gr=I.nodeType===9?I:I.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Zi(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=gr.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof E.is=="string"?l=gr.createElement(g,{is:E.is}):(l=gr.createElement(g),g==="select"&&(gr=l,E.multiple?gr.multiple=!0:E.size&&(gr.size=E.size))):l=gr.createElementNS(l,g),l[Yi]=f,l[$c]=E,Zh(l,f,!1,!1),f.stateNode=l;e:{switch(gr=dn(g,E),g){case"dialog":Dn("cancel",l),Dn("close",l),I=E;break;case"iframe":case"object":case"embed":Dn("load",l),I=E;break;case"video":case"audio":for(I=0;I<kc.length;I++)Dn(kc[I],l);I=E;break;case"source":Dn("error",l),I=E;break;case"img":case"image":case"link":Dn("error",l),Dn("load",l),I=E;break;case"details":Dn("toggle",l),I=E;break;case"input":hn(l,E),I=vn(l,E),Dn("invalid",l);break;case"option":I=E;break;case"select":l._wrapperState={wasMultiple:!!E.multiple},I=$({},E,{value:void 0}),Dn("invalid",l);break;case"textarea":Bi(l,E),I=yn(l,E),Dn("invalid",l);break;default:I=E}ln(g,I),_r=I;for(qe in _r)if(_r.hasOwnProperty(qe)){var Cr=_r[qe];qe==="style"?rn(l,Cr):qe==="dangerouslySetInnerHTML"?(Cr=Cr?Cr.__html:void 0,Cr!=null&&cr(l,Cr)):qe==="children"?typeof Cr=="string"?(g!=="textarea"||Cr!=="")&&Er(l,Cr):typeof Cr=="number"&&Er(l,""+Cr):qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&qe!=="autoFocus"&&(c.hasOwnProperty(qe)?Cr!=null&&qe==="onScroll"&&Dn("scroll",l):Cr!=null&&dr(l,qe,Cr,gr))}switch(g){case"input":un(l),An(l,E,!1);break;case"textarea":un(l),gn(l);break;case"option":E.value!=null&&l.setAttribute("value",""+Wr(E.value));break;case"select":l.multiple=!!E.multiple,qe=E.value,qe!=null?xn(l,!!E.multiple,qe,!1):E.defaultValue!=null&&xn(l,!!E.multiple,E.defaultValue,!0);break;default:typeof I.onClick=="function"&&(l.onclick=wu)}switch(g){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return hi(f),null;case 6:if(l&&f.stateNode!=null)Xh(l,f,l.memoizedProps,E);else{if(typeof E!="string"&&f.stateNode===null)throw Error(o(166));if(g=ia(Uc.current),ia(Xi.current),Nu(f)){if(E=f.stateNode,g=f.memoizedProps,E[Yi]=f,(qe=E.nodeValue!==g)&&(l=Ti,l!==null))switch(l.tag){case 3:xu(E.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&xu(E.nodeValue,g,(l.mode&1)!==0)}qe&&(f.flags|=4)}else E=(g.nodeType===9?g:g.ownerDocument).createTextNode(E),E[Yi]=f,f.stateNode=E}return hi(f),null;case 13:if(Ln(Zn),E=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Vn&&Ii!==null&&(f.mode&1)!==0&&(f.flags&128)===0)th(),Ua(),f.flags|=98560,qe=!1;else if(qe=Nu(f),E!==null&&E.dehydrated!==null){if(l===null){if(!qe)throw Error(o(318));if(qe=f.memoizedState,qe=qe!==null?qe.dehydrated:null,!qe)throw Error(o(317));qe[Yi]=f}else Ua(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;hi(f),qe=!1}else qi!==null&&(Id(qi),qi=null),qe=!0;if(!qe)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=g,f):(E=E!==null,E!==(l!==null&&l.memoizedState!==null)&&E&&(f.child.flags|=8192,(f.mode&1)!==0&&(l===null||(Zn.current&1)!==0?ii===0&&(ii=3):Od())),f.updateQueue!==null&&(f.flags|=4),hi(f),null);case 4:return Ha(),xd(l,f),l===null&&Bc(f.stateNode.containerInfo),hi(f),null;case 10:return Wl(f.type._context),hi(f),null;case 17:return Si(f.type)&&Su(),hi(f),null;case 19:if(Ln(Zn),qe=f.memoizedState,qe===null)return hi(f),null;if(E=(f.flags&128)!==0,gr=qe.rendering,gr===null)if(E)Vc(qe,!1);else{if(ii!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(gr=Ou(l),gr!==null){for(f.flags|=128,Vc(qe,!1),E=gr.updateQueue,E!==null&&(f.updateQueue=E,f.flags|=4),f.subtreeFlags=0,E=g,g=f.child;g!==null;)qe=g,l=E,qe.flags&=14680066,gr=qe.alternate,gr===null?(qe.childLanes=0,qe.lanes=l,qe.child=null,qe.subtreeFlags=0,qe.memoizedProps=null,qe.memoizedState=null,qe.updateQueue=null,qe.dependencies=null,qe.stateNode=null):(qe.childLanes=gr.childLanes,qe.lanes=gr.lanes,qe.child=gr.child,qe.subtreeFlags=0,qe.deletions=null,qe.memoizedProps=gr.memoizedProps,qe.memoizedState=gr.memoizedState,qe.updateQueue=gr.updateQueue,qe.type=gr.type,l=gr.dependencies,qe.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return $n(Zn,Zn.current&1|2),f.child}l=l.sibling}qe.tail!==null&&jn()>Wa&&(f.flags|=128,E=!0,Vc(qe,!1),f.lanes=4194304)}else{if(!E)if(l=Ou(gr),l!==null){if(f.flags|=128,E=!0,g=l.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),Vc(qe,!0),qe.tail===null&&qe.tailMode==="hidden"&&!gr.alternate&&!Vn)return hi(f),null}else 2*jn()-qe.renderingStartTime>Wa&&g!==1073741824&&(f.flags|=128,E=!0,Vc(qe,!1),f.lanes=4194304);qe.isBackwards?(gr.sibling=f.child,f.child=gr):(g=qe.last,g!==null?g.sibling=gr:f.child=gr,qe.last=gr)}return qe.tail!==null?(f=qe.tail,qe.rendering=f,qe.tail=f.sibling,qe.renderingStartTime=jn(),f.sibling=null,g=Zn.current,$n(Zn,E?g&1|2:g&1),f):(hi(f),null);case 22:case 23:return Bd(),E=f.memoizedState!==null,l!==null&&l.memoizedState!==null!==E&&(f.flags|=8192),E&&(f.mode&1)!==0?(ki&1073741824)!==0&&(hi(f),f.subtreeFlags&6&&(f.flags|=8192)):hi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}function n0(l,f){switch(Kl(f),f.tag){case 1:return Si(f.type)&&Su(),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return Ha(),Ln(Ei),Ln(di),td(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 5:return Ql(f),null;case 13:if(Ln(Zn),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Ua()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return Ln(Zn),null;case 4:return Ha(),null;case 10:return Wl(f.type._context),null;case 22:case 23:return Bd(),null;case 24:return null;default:return null}}var qu=!1,pi=!1,s0=typeof WeakSet=="function"?WeakSet:Set,Xr=null;function za(l,f){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(E){ei(l,f,E)}else g.current=null}function wd(l,f,g){try{g()}catch(E){ei(l,f,E)}}var Qh=!1;function i0(l,f){if(Bl=uu,l=If(),Rl(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var I=E.anchorOffset,qe=E.focusNode;E=E.focusOffset;try{g.nodeType,qe.nodeType}catch{g=null;break e}var gr=0,_r=-1,Cr=-1,Mr=0,Kr=0,Hr=l,Fr=null;t:for(;;){for(var Zr;Hr!==g||I!==0&&Hr.nodeType!==3||(_r=gr+I),Hr!==qe||E!==0&&Hr.nodeType!==3||(Cr=gr+E),Hr.nodeType===3&&(gr+=Hr.nodeValue.length),(Zr=Hr.firstChild)!==null;)Fr=Hr,Hr=Zr;for(;;){if(Hr===l)break t;if(Fr===g&&++Mr===I&&(_r=gr),Fr===qe&&++Kr===E&&(Cr=gr),(Zr=Hr.nextSibling)!==null)break;Hr=Fr,Fr=Hr.parentNode}Hr=Zr}g=_r===-1||Cr===-1?null:{start:_r,end:Cr}}else g=null}g=g||{start:0,end:0}}else g=null;for(Ol={focusedElem:l,selectionRange:g},uu=!1,Xr=f;Xr!==null;)if(f=Xr,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Xr=l;else for(;Xr!==null;){f=Xr;try{var en=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(en!==null){var tn=en.memoizedProps,ri=en.memoizedState,kr=f.stateNode,Tr=kr.getSnapshotBeforeUpdate(f.elementType===f.type?tn:Hi(f.type,tn),ri);kr.__reactInternalSnapshotBeforeUpdate=Tr}break;case 3:var Br=f.stateNode.containerInfo;Br.nodeType===1?Br.textContent="":Br.nodeType===9&&Br.documentElement&&Br.removeChild(Br.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(zr){ei(f,f.return,zr)}if(l=f.sibling,l!==null){l.return=f.return,Xr=l;break}Xr=f.return}return en=Qh,Qh=!1,en}function zc(l,f,g){var E=f.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var I=E=E.next;do{if((I.tag&l)===l){var qe=I.destroy;I.destroy=void 0,qe!==void 0&&wd(f,g,qe)}I=I.next}while(I!==E)}}function Hu(l,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&l)===l){var E=g.create;g.destroy=E()}g=g.next}while(g!==f)}}function Ed(l){var f=l.ref;if(f!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof f=="function"?f(l):f.current=l}}function ep(l){var f=l.alternate;f!==null&&(l.alternate=null,ep(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&(delete f[Yi],delete f[$c],delete f[Dl],delete f[Fm],delete f[Km])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function tp(l){return l.tag===5||l.tag===3||l.tag===4}function rp(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||tp(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Sd(l,f,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(l,f):g.insertBefore(l,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(l,g)):(f=g,f.appendChild(l)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=wu));else if(E!==4&&(l=l.child,l!==null))for(Sd(l,f,g),l=l.sibling;l!==null;)Sd(l,f,g),l=l.sibling}function _d(l,f,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(E!==4&&(l=l.child,l!==null))for(_d(l,f,g),l=l.sibling;l!==null;)_d(l,f,g),l=l.sibling}var ui=null,Vi=!1;function Oo(l,f,g){for(g=g.child;g!==null;)np(l,f,g),g=g.sibling}function np(l,f,g){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(wo,g)}catch{}switch(g.tag){case 5:pi||za(g,f);case 6:var E=ui,I=Vi;ui=null,Oo(l,f,g),ui=E,Vi=I,ui!==null&&(Vi?(l=ui,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):ui.removeChild(g.stateNode));break;case 18:ui!==null&&(Vi?(l=ui,g=g.stateNode,l.nodeType===8?jl(l.parentNode,g):l.nodeType===1&&jl(l,g),_c(l)):jl(ui,g.stateNode));break;case 4:E=ui,I=Vi,ui=g.stateNode.containerInfo,Vi=!0,Oo(l,f,g),ui=E,Vi=I;break;case 0:case 11:case 14:case 15:if(!pi&&(E=g.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){I=E=E.next;do{var qe=I,gr=qe.destroy;qe=qe.tag,gr!==void 0&&((qe&2)!==0||(qe&4)!==0)&&wd(g,f,gr),I=I.next}while(I!==E)}Oo(l,f,g);break;case 1:if(!pi&&(za(g,f),E=g.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=g.memoizedProps,E.state=g.memoizedState,E.componentWillUnmount()}catch(_r){ei(g,f,_r)}Oo(l,f,g);break;case 21:Oo(l,f,g);break;case 22:g.mode&1?(pi=(E=pi)||g.memoizedState!==null,Oo(l,f,g),pi=E):Oo(l,f,g);break;default:Oo(l,f,g)}}function sp(l){var f=l.updateQueue;if(f!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new s0),f.forEach(function(E){var I=p0.bind(null,l,E);g.has(E)||(g.add(E),E.then(I,I))})}}function zi(l,f){var g=f.deletions;if(g!==null)for(var E=0;E<g.length;E++){var I=g[E];try{var qe=l,gr=f,_r=gr;e:for(;_r!==null;){switch(_r.tag){case 5:ui=_r.stateNode,Vi=!1;break e;case 3:ui=_r.stateNode.containerInfo,Vi=!0;break e;case 4:ui=_r.stateNode.containerInfo,Vi=!0;break e}_r=_r.return}if(ui===null)throw Error(o(160));np(qe,gr,I),ui=null,Vi=!1;var Cr=I.alternate;Cr!==null&&(Cr.return=null),I.return=null}catch(Mr){ei(I,f,Mr)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)ip(f,l),f=f.sibling}function ip(l,f){var g=l.alternate,E=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(zi(f,l),eo(l),E&4){try{zc(3,l,l.return),Hu(3,l)}catch(tn){ei(l,l.return,tn)}try{zc(5,l,l.return)}catch(tn){ei(l,l.return,tn)}}break;case 1:zi(f,l),eo(l),E&512&&g!==null&&za(g,g.return);break;case 5:if(zi(f,l),eo(l),E&512&&g!==null&&za(g,g.return),l.flags&32){var I=l.stateNode;try{Er(I,"")}catch(tn){ei(l,l.return,tn)}}if(E&4&&(I=l.stateNode,I!=null)){var qe=l.memoizedProps,gr=g!==null?g.memoizedProps:qe,_r=l.type,Cr=l.updateQueue;if(l.updateQueue=null,Cr!==null)try{_r==="input"&&qe.type==="radio"&&qe.name!=null&&pn(I,qe),dn(_r,gr);var Mr=dn(_r,qe);for(gr=0;gr<Cr.length;gr+=2){var Kr=Cr[gr],Hr=Cr[gr+1];Kr==="style"?rn(I,Hr):Kr==="dangerouslySetInnerHTML"?cr(I,Hr):Kr==="children"?Er(I,Hr):dr(I,Kr,Hr,Mr)}switch(_r){case"input":Xn(I,qe);break;case"textarea":Pn(I,qe);break;case"select":var Fr=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!qe.multiple;var Zr=qe.value;Zr!=null?xn(I,!!qe.multiple,Zr,!1):Fr!==!!qe.multiple&&(qe.defaultValue!=null?xn(I,!!qe.multiple,qe.defaultValue,!0):xn(I,!!qe.multiple,qe.multiple?[]:"",!1))}I[$c]=qe}catch(tn){ei(l,l.return,tn)}}break;case 6:if(zi(f,l),eo(l),E&4){if(l.stateNode===null)throw Error(o(162));I=l.stateNode,qe=l.memoizedProps;try{I.nodeValue=qe}catch(tn){ei(l,l.return,tn)}}break;case 3:if(zi(f,l),eo(l),E&4&&g!==null&&g.memoizedState.isDehydrated)try{_c(f.containerInfo)}catch(tn){ei(l,l.return,tn)}break;case 4:zi(f,l),eo(l);break;case 13:zi(f,l),eo(l),I=l.child,I.flags&8192&&(qe=I.memoizedState!==null,I.stateNode.isHidden=qe,!qe||I.alternate!==null&&I.alternate.memoizedState!==null||(Pd=jn())),E&4&&sp(l);break;case 22:if(Kr=g!==null&&g.memoizedState!==null,l.mode&1?(pi=(Mr=pi)||Kr,zi(f,l),pi=Mr):zi(f,l),eo(l),E&8192){if(Mr=l.memoizedState!==null,(l.stateNode.isHidden=Mr)&&!Kr&&(l.mode&1)!==0)for(Xr=l,Kr=l.child;Kr!==null;){for(Hr=Xr=Kr;Xr!==null;){switch(Fr=Xr,Zr=Fr.child,Fr.tag){case 0:case 11:case 14:case 15:zc(4,Fr,Fr.return);break;case 1:za(Fr,Fr.return);var en=Fr.stateNode;if(typeof en.componentWillUnmount=="function"){E=Fr,g=Fr.return;try{f=E,en.props=f.memoizedProps,en.state=f.memoizedState,en.componentWillUnmount()}catch(tn){ei(E,g,tn)}}break;case 5:za(Fr,Fr.return);break;case 22:if(Fr.memoizedState!==null){cp(Hr);continue}}Zr!==null?(Zr.return=Fr,Xr=Zr):cp(Hr)}Kr=Kr.sibling}e:for(Kr=null,Hr=l;;){if(Hr.tag===5){if(Kr===null){Kr=Hr;try{I=Hr.stateNode,Mr?(qe=I.style,typeof qe.setProperty=="function"?qe.setProperty("display","none","important"):qe.display="none"):(_r=Hr.stateNode,Cr=Hr.memoizedProps.style,gr=Cr!=null&&Cr.hasOwnProperty("display")?Cr.display:null,_r.style.display=Dr("display",gr))}catch(tn){ei(l,l.return,tn)}}}else if(Hr.tag===6){if(Kr===null)try{Hr.stateNode.nodeValue=Mr?"":Hr.memoizedProps}catch(tn){ei(l,l.return,tn)}}else if((Hr.tag!==22&&Hr.tag!==23||Hr.memoizedState===null||Hr===l)&&Hr.child!==null){Hr.child.return=Hr,Hr=Hr.child;continue}if(Hr===l)break e;for(;Hr.sibling===null;){if(Hr.return===null||Hr.return===l)break e;Kr===Hr&&(Kr=null),Hr=Hr.return}Kr===Hr&&(Kr=null),Hr.sibling.return=Hr.return,Hr=Hr.sibling}}break;case 19:zi(f,l),eo(l),E&4&&sp(l);break;case 21:break;default:zi(f,l),eo(l)}}function eo(l){var f=l.flags;if(f&2){try{e:{for(var g=l.return;g!==null;){if(tp(g)){var E=g;break e}g=g.return}throw Error(o(160))}switch(E.tag){case 5:var I=E.stateNode;E.flags&32&&(Er(I,""),E.flags&=-33);var qe=rp(l);_d(l,qe,I);break;case 3:case 4:var gr=E.stateNode.containerInfo,_r=rp(l);Sd(l,_r,gr);break;default:throw Error(o(161))}}catch(Cr){ei(l,l.return,Cr)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function o0(l,f,g){Xr=l,op(l)}function op(l,f,g){for(var E=(l.mode&1)!==0;Xr!==null;){var I=Xr,qe=I.child;if(I.tag===22&&E){var gr=I.memoizedState!==null||qu;if(!gr){var _r=I.alternate,Cr=_r!==null&&_r.memoizedState!==null||pi;_r=qu;var Mr=pi;if(qu=gr,(pi=Cr)&&!Mr)for(Xr=I;Xr!==null;)gr=Xr,Cr=gr.child,gr.tag===22&&gr.memoizedState!==null?up(I):Cr!==null?(Cr.return=gr,Xr=Cr):up(I);for(;qe!==null;)Xr=qe,op(qe),qe=qe.sibling;Xr=I,qu=_r,pi=Mr}ap(l)}else(I.subtreeFlags&8772)!==0&&qe!==null?(qe.return=I,Xr=qe):ap(l)}}function ap(l){for(;Xr!==null;){var f=Xr;if((f.flags&8772)!==0){var g=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:pi||Hu(5,f);break;case 1:var E=f.stateNode;if(f.flags&4&&!pi)if(g===null)E.componentDidMount();else{var I=f.elementType===f.type?g.memoizedProps:Hi(f.type,g.memoizedProps);E.componentDidUpdate(I,g.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var qe=f.updateQueue;qe!==null&&ch(f,qe,E);break;case 3:var gr=f.updateQueue;if(gr!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}ch(f,gr,g)}break;case 5:var _r=f.stateNode;if(g===null&&f.flags&4){g=_r;var Cr=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":Cr.autoFocus&&g.focus();break;case"img":Cr.src&&(g.src=Cr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Mr=f.alternate;if(Mr!==null){var Kr=Mr.memoizedState;if(Kr!==null){var Hr=Kr.dehydrated;Hr!==null&&_c(Hr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}pi||f.flags&512&&Ed(f)}catch(Fr){ei(f,f.return,Fr)}}if(f===l){Xr=null;break}if(g=f.sibling,g!==null){g.return=f.return,Xr=g;break}Xr=f.return}}function cp(l){for(;Xr!==null;){var f=Xr;if(f===l){Xr=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Xr=g;break}Xr=f.return}}function up(l){for(;Xr!==null;){var f=Xr;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Hu(4,f)}catch(Cr){ei(f,g,Cr)}break;case 1:var E=f.stateNode;if(typeof E.componentDidMount=="function"){var I=f.return;try{E.componentDidMount()}catch(Cr){ei(f,I,Cr)}}var qe=f.return;try{Ed(f)}catch(Cr){ei(f,qe,Cr)}break;case 5:var gr=f.return;try{Ed(f)}catch(Cr){ei(f,gr,Cr)}}}catch(Cr){ei(f,f.return,Cr)}if(f===l){Xr=null;break}var _r=f.sibling;if(_r!==null){_r.return=f.return,Xr=_r;break}Xr=f.return}}var a0=Math.ceil,Vu=yr.ReactCurrentDispatcher,Rd=yr.ReactCurrentOwner,Di=yr.ReactCurrentBatchConfig,_n=0,ai=null,ni=null,li=0,ki=0,Ga=Co(0),ii=0,Gc=null,aa=0,zu=0,Ad=0,Wc=null,Ri=null,Pd=0,Wa=1/0,ho=null,Gu=!1,Nd=null,$o=null,Wu=!1,Mo=null,Ju=0,Jc=0,Cd=null,Zu=-1,Yu=0;function gi(){return(_n&6)!==0?jn():Zu!==-1?Zu:Zu=jn()}function jo(l){return(l.mode&1)===0?1:(_n&2)!==0&&li!==0?li&-li:Hm.transition!==null?(Yu===0&&(Yu=tf()),Yu):(l=Cn,l!==0||(l=window.event,l=l===void 0?16:df(l.type)),l)}function Gi(l,f,g,E){if(50<Jc)throw Jc=0,Cd=null,Error(o(185));bc(l,g,E),((_n&2)===0||l!==ai)&&(l===ai&&((_n&2)===0&&(zu|=g),ii===4&&Do(l,li)),Ai(l,E),g===1&&_n===0&&(f.mode&1)===0&&(Wa=jn()+500,Ru&&Io()))}function Ai(l,f){var g=l.callbackNode;Hp(l,f);var E=ou(l,l===ai?li:0);if(E===0)g!==null&&Ra(g),l.callbackNode=null,l.callbackPriority=0;else if(f=E&-E,l.callbackPriority!==f){if(g!=null&&Ra(g),f===1)l.tag===0?qm(dp.bind(null,l)):Zf(dp.bind(null,l)),Lm(function(){(_n&6)===0&&Io()}),g=null;else{switch(rf(E)){case 1:g=Qo;break;case 4:g=Aa;break;case 16:g=xo;break;case 536870912:g=Pa;break;default:g=xo}g=bp(g,lp.bind(null,l))}l.callbackPriority=f,l.callbackNode=g}}function lp(l,f){if(Zu=-1,Yu=0,(_n&6)!==0)throw Error(o(327));var g=l.callbackNode;if(Ja()&&l.callbackNode!==g)return null;var E=ou(l,l===ai?li:0);if(E===0)return null;if((E&30)!==0||(E&l.expiredLanes)!==0||f)f=Xu(l,E);else{f=E;var I=_n;_n|=2;var qe=hp();(ai!==l||li!==f)&&(ho=null,Wa=jn()+500,ua(l,f));do try{l0();break}catch(_r){fp(l,_r)}while(!0);Gl(),Vu.current=qe,_n=I,ni!==null?f=0:(ai=null,li=0,f=ii)}if(f!==0){if(f===2&&(I=ul(l),I!==0&&(E=I,f=Td(l,I))),f===1)throw g=Gc,ua(l,0),Do(l,E),Ai(l,jn()),g;if(f===6)Do(l,E);else{if(I=l.current.alternate,(E&30)===0&&!c0(I)&&(f=Xu(l,E),f===2&&(qe=ul(l),qe!==0&&(E=qe,f=Td(l,qe))),f===1))throw g=Gc,ua(l,0),Do(l,E),Ai(l,jn()),g;switch(l.finishedWork=I,l.finishedLanes=E,f){case 0:case 1:throw Error(o(345));case 2:la(l,Ri,ho);break;case 3:if(Do(l,E),(E&130023424)===E&&(f=Pd+500-jn(),10<f)){if(ou(l,0)!==0)break;if(I=l.suspendedLanes,(I&E)!==E){gi(),l.pingedLanes|=l.suspendedLanes&I;break}l.timeoutHandle=Ml(la.bind(null,l,Ri,ho),f);break}la(l,Ri,ho);break;case 4:if(Do(l,E),(E&4194240)===E)break;for(f=l.eventTimes,I=-1;0<E;){var gr=31-Fi(E);qe=1<<gr,gr=f[gr],gr>I&&(I=gr),E&=~qe}if(E=I,E=jn()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*a0(E/1960))-E,10<E){l.timeoutHandle=Ml(la.bind(null,l,Ri,ho),E);break}la(l,Ri,ho);break;case 5:la(l,Ri,ho);break;default:throw Error(o(329))}}}return Ai(l,jn()),l.callbackNode===g?lp.bind(null,l):null}function Td(l,f){var g=Wc;return l.current.memoizedState.isDehydrated&&(ua(l,f).flags|=256),l=Xu(l,f),l!==2&&(f=Ri,Ri=g,f!==null&&Id(f)),l}function Id(l){Ri===null?Ri=l:Ri.push.apply(Ri,l)}function c0(l){for(var f=l;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var E=0;E<g.length;E++){var I=g[E],qe=I.getSnapshot;I=I.value;try{if(!Ki(qe(),I))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Do(l,f){for(f&=~Ad,f&=~zu,l.suspendedLanes|=f,l.pingedLanes&=~f,l=l.expirationTimes;0<f;){var g=31-Fi(f),E=1<<g;l[g]=-1,f&=~E}}function dp(l){if((_n&6)!==0)throw Error(o(327));Ja();var f=ou(l,0);if((f&1)===0)return Ai(l,jn()),null;var g=Xu(l,f);if(l.tag!==0&&g===2){var E=ul(l);E!==0&&(f=E,g=Td(l,E))}if(g===1)throw g=Gc,ua(l,0),Do(l,f),Ai(l,jn()),g;if(g===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=f,la(l,Ri,ho),Ai(l,jn()),null}function kd(l,f){var g=_n;_n|=1;try{return l(f)}finally{_n=g,_n===0&&(Wa=jn()+500,Ru&&Io())}}function ca(l){Mo!==null&&Mo.tag===0&&(_n&6)===0&&Ja();var f=_n;_n|=1;var g=Di.transition,E=Cn;try{if(Di.transition=null,Cn=1,l)return l()}finally{Cn=E,Di.transition=g,_n=f,(_n&6)===0&&Io()}}function Bd(){ki=Ga.current,Ln(Ga)}function ua(l,f){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,Dm(g)),ni!==null)for(g=ni.return;g!==null;){var E=g;switch(Kl(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Su();break;case 3:Ha(),Ln(Ei),Ln(di),td();break;case 5:Ql(E);break;case 4:Ha();break;case 13:Ln(Zn);break;case 19:Ln(Zn);break;case 10:Wl(E.type._context);break;case 22:case 23:Bd()}g=g.return}if(ai=l,ni=l=Lo(l.current,null),li=ki=f,ii=0,Gc=null,Ad=zu=aa=0,Ri=Wc=null,sa!==null){for(f=0;f<sa.length;f++)if(g=sa[f],E=g.interleaved,E!==null){g.interleaved=null;var I=E.next,qe=g.pending;if(qe!==null){var gr=qe.next;qe.next=I,E.next=gr}g.pending=E}sa=null}return l}function fp(l,f){do{var g=ni;try{if(Gl(),$u.current=Lu,Mu){for(var E=Yn.memoizedState;E!==null;){var I=E.queue;I!==null&&(I.pending=null),E=E.next}Mu=!1}if(oa=0,oi=si=Yn=null,Fc=!1,Kc=0,Rd.current=null,g===null||g.return===null){ii=1,Gc=f,ni=null;break}e:{var qe=l,gr=g.return,_r=g,Cr=f;if(f=li,_r.flags|=32768,Cr!==null&&typeof Cr=="object"&&typeof Cr.then=="function"){var Mr=Cr,Kr=_r,Hr=Kr.tag;if((Kr.mode&1)===0&&(Hr===0||Hr===11||Hr===15)){var Fr=Kr.alternate;Fr?(Kr.updateQueue=Fr.updateQueue,Kr.memoizedState=Fr.memoizedState,Kr.lanes=Fr.lanes):(Kr.updateQueue=null,Kr.memoizedState=null)}var Zr=jh(gr);if(Zr!==null){Zr.flags&=-257,Dh(Zr,gr,_r,qe,f),Zr.mode&1&&Mh(qe,Mr,f),f=Zr,Cr=Mr;var en=f.updateQueue;if(en===null){var tn=new Set;tn.add(Cr),f.updateQueue=tn}else en.add(Cr);break e}else{if((f&1)===0){Mh(qe,Mr,f),Od();break e}Cr=Error(o(426))}}else if(Vn&&_r.mode&1){var ri=jh(gr);if(ri!==null){(ri.flags&65536)===0&&(ri.flags|=256),Dh(ri,gr,_r,qe,f),Vl(Va(Cr,_r));break e}}qe=Cr=Va(Cr,_r),ii!==4&&(ii=2),Wc===null?Wc=[qe]:Wc.push(qe),qe=gr;do{switch(qe.tag){case 3:qe.flags|=65536,f&=-f,qe.lanes|=f;var kr=Oh(qe,Cr,f);ah(qe,kr);break e;case 1:_r=Cr;var Tr=qe.type,Br=qe.stateNode;if((qe.flags&128)===0&&(typeof Tr.getDerivedStateFromError=="function"||Br!==null&&typeof Br.componentDidCatch=="function"&&($o===null||!$o.has(Br)))){qe.flags|=65536,f&=-f,qe.lanes|=f;var zr=$h(qe,_r,f);ah(qe,zr);break e}}qe=qe.return}while(qe!==null)}mp(g)}catch(nn){f=nn,ni===g&&g!==null&&(ni=g=g.return);continue}break}while(!0)}function hp(){var l=Vu.current;return Vu.current=Lu,l===null?Lu:l}function Od(){(ii===0||ii===3||ii===2)&&(ii=4),ai===null||(aa&268435455)===0&&(zu&268435455)===0||Do(ai,li)}function Xu(l,f){var g=_n;_n|=2;var E=hp();(ai!==l||li!==f)&&(ho=null,ua(l,f));do try{u0();break}catch(I){fp(l,I)}while(!0);if(Gl(),_n=g,Vu.current=E,ni!==null)throw Error(o(261));return ai=null,li=0,ii}function u0(){for(;ni!==null;)pp(ni)}function l0(){for(;ni!==null&&!hc();)pp(ni)}function pp(l){var f=vp(l.alternate,l,ki);l.memoizedProps=l.pendingProps,f===null?mp(l):ni=f,Rd.current=null}function mp(l){var f=l;do{var g=f.alternate;if(l=f.return,(f.flags&32768)===0){if(g=r0(g,f,ki),g!==null){ni=g;return}}else{if(g=n0(g,f),g!==null){g.flags&=32767,ni=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ii=6,ni=null;return}}if(f=f.sibling,f!==null){ni=f;return}ni=f=l}while(f!==null);ii===0&&(ii=5)}function la(l,f,g){var E=Cn,I=Di.transition;try{Di.transition=null,Cn=1,d0(l,f,g,E)}finally{Di.transition=I,Cn=E}return null}function d0(l,f,g,E){do Ja();while(Mo!==null);if((_n&6)!==0)throw Error(o(327));g=l.finishedWork;var I=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(o(177));l.callbackNode=null,l.callbackPriority=0;var qe=g.lanes|g.childLanes;if(Vp(l,qe),l===ai&&(ni=ai=null,li=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Wu||(Wu=!0,bp(xo,function(){return Ja(),null})),qe=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||qe){qe=Di.transition,Di.transition=null;var gr=Cn;Cn=1;var _r=_n;_n|=4,Rd.current=null,i0(l,g),ip(g,l),Im(Ol),uu=!!Bl,Ol=Bl=null,l.current=g,o0(g),pc(),_n=_r,Cn=gr,Di.transition=qe}else l.current=g;if(Wu&&(Wu=!1,Mo=l,Ju=I),qe=l.pendingLanes,qe===0&&($o=null),gc(g.stateNode),Ai(l,jn()),f!==null)for(E=l.onRecoverableError,g=0;g<f.length;g++)I=f[g],E(I.value,{componentStack:I.stack,digest:I.digest});if(Gu)throw Gu=!1,l=Nd,Nd=null,l;return(Ju&1)!==0&&l.tag!==0&&Ja(),qe=l.pendingLanes,(qe&1)!==0?l===Cd?Jc++:(Jc=0,Cd=l):Jc=0,Io(),null}function Ja(){if(Mo!==null){var l=rf(Ju),f=Di.transition,g=Cn;try{if(Di.transition=null,Cn=16>l?16:l,Mo===null)var E=!1;else{if(l=Mo,Mo=null,Ju=0,(_n&6)!==0)throw Error(o(331));var I=_n;for(_n|=4,Xr=l.current;Xr!==null;){var qe=Xr,gr=qe.child;if((Xr.flags&16)!==0){var _r=qe.deletions;if(_r!==null){for(var Cr=0;Cr<_r.length;Cr++){var Mr=_r[Cr];for(Xr=Mr;Xr!==null;){var Kr=Xr;switch(Kr.tag){case 0:case 11:case 15:zc(8,Kr,qe)}var Hr=Kr.child;if(Hr!==null)Hr.return=Kr,Xr=Hr;else for(;Xr!==null;){Kr=Xr;var Fr=Kr.sibling,Zr=Kr.return;if(ep(Kr),Kr===Mr){Xr=null;break}if(Fr!==null){Fr.return=Zr,Xr=Fr;break}Xr=Zr}}}var en=qe.alternate;if(en!==null){var tn=en.child;if(tn!==null){en.child=null;do{var ri=tn.sibling;tn.sibling=null,tn=ri}while(tn!==null)}}Xr=qe}}if((qe.subtreeFlags&2064)!==0&&gr!==null)gr.return=qe,Xr=gr;else e:for(;Xr!==null;){if(qe=Xr,(qe.flags&2048)!==0)switch(qe.tag){case 0:case 11:case 15:zc(9,qe,qe.return)}var kr=qe.sibling;if(kr!==null){kr.return=qe.return,Xr=kr;break e}Xr=qe.return}}var Tr=l.current;for(Xr=Tr;Xr!==null;){gr=Xr;var Br=gr.child;if((gr.subtreeFlags&2064)!==0&&Br!==null)Br.return=gr,Xr=Br;else e:for(gr=Tr;Xr!==null;){if(_r=Xr,(_r.flags&2048)!==0)try{switch(_r.tag){case 0:case 11:case 15:Hu(9,_r)}}catch(nn){ei(_r,_r.return,nn)}if(_r===gr){Xr=null;break e}var zr=_r.sibling;if(zr!==null){zr.return=_r.return,Xr=zr;break e}Xr=_r.return}}if(_n=I,Io(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(wo,l)}catch{}E=!0}return E}finally{Cn=g,Di.transition=f}}return!1}function yp(l,f,g){f=Va(g,f),f=Oh(l,f,1),l=Bo(l,f,1),f=gi(),l!==null&&(bc(l,1,f),Ai(l,f))}function ei(l,f,g){if(l.tag===3)yp(l,l,g);else for(;f!==null;){if(f.tag===3){yp(f,l,g);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&($o===null||!$o.has(E))){l=Va(g,l),l=$h(f,l,1),f=Bo(f,l,1),l=gi(),f!==null&&(bc(f,1,l),Ai(f,l));break}}f=f.return}}function f0(l,f,g){var E=l.pingCache;E!==null&&E.delete(f),f=gi(),l.pingedLanes|=l.suspendedLanes&g,ai===l&&(li&g)===g&&(ii===4||ii===3&&(li&130023424)===li&&500>jn()-Pd?ua(l,0):Ad|=g),Ai(l,f)}function gp(l,f){f===0&&((l.mode&1)===0?f=1:(f=iu,iu<<=1,(iu&130023424)===0&&(iu=4194304)));var g=gi();l=uo(l,f),l!==null&&(bc(l,f,g),Ai(l,g))}function h0(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),gp(l,g)}function p0(l,f){var g=0;switch(l.tag){case 13:var E=l.stateNode,I=l.memoizedState;I!==null&&(g=I.retryLane);break;case 19:E=l.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(f),gp(l,g)}var vp;vp=function(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps||Ei.current)_i=!0;else{if((l.lanes&g)===0&&(f.flags&128)===0)return _i=!1,t0(l,f,g);_i=(l.flags&131072)!==0}else _i=!1,Vn&&(f.flags&1048576)!==0&&Yf(f,Pu,f.index);switch(f.lanes=0,f.tag){case 2:var E=f.type;Ku(l,f),l=f.pendingProps;var I=ja(f,di.current);qa(f,g),I=sd(null,f,E,l,I,g);var qe=id();return f.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Si(E)?(qe=!0,_u(f)):qe=!1,f.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Yl(f),I.updater=Uu,f.stateNode=I,I._reactInternals=f,dd(f,E,l,g),f=md(null,f,E,!0,qe,g)):(f.tag=0,Vn&&qe&&Fl(f),yi(null,f,I,g),f=f.child),f;case 16:E=f.elementType;e:{switch(Ku(l,f),l=f.pendingProps,I=E._init,E=I(E._payload),f.type=E,I=f.tag=y0(E),l=Hi(E,l),I){case 0:f=pd(null,f,E,l,g);break e;case 1:f=Hh(null,f,E,l,g);break e;case 11:f=Lh(null,f,E,l,g);break e;case 14:f=Uh(null,f,E,Hi(E.type,l),g);break e}throw Error(o(306,E,""))}return f;case 0:return E=f.type,I=f.pendingProps,I=f.elementType===E?I:Hi(E,I),pd(l,f,E,I,g);case 1:return E=f.type,I=f.pendingProps,I=f.elementType===E?I:Hi(E,I),Hh(l,f,E,I,g);case 3:e:{if(Vh(f),l===null)throw Error(o(387));E=f.pendingProps,qe=f.memoizedState,I=qe.element,oh(l,f),Bu(f,E,null,g);var gr=f.memoizedState;if(E=gr.element,qe.isDehydrated)if(qe={element:E,isDehydrated:!1,cache:gr.cache,pendingSuspenseBoundaries:gr.pendingSuspenseBoundaries,transitions:gr.transitions},f.updateQueue.baseState=qe,f.memoizedState=qe,f.flags&256){I=Va(Error(o(423)),f),f=zh(l,f,E,g,I);break e}else if(E!==I){I=Va(Error(o(424)),f),f=zh(l,f,E,g,I);break e}else for(Ii=No(f.stateNode.containerInfo.firstChild),Ti=f,Vn=!0,qi=null,g=sh(f,null,E,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Ua(),E===I){f=fo(l,f,g);break e}yi(l,f,E,g)}f=f.child}return f;case 5:return uh(f),l===null&&Hl(f),E=f.type,I=f.pendingProps,qe=l!==null?l.memoizedProps:null,gr=I.children,$l(E,I)?gr=null:qe!==null&&$l(E,qe)&&(f.flags|=32),qh(l,f),yi(l,f,gr,g),f.child;case 6:return l===null&&Hl(f),null;case 13:return Gh(l,f,g);case 4:return Xl(f,f.stateNode.containerInfo),E=f.pendingProps,l===null?f.child=Fa(f,null,E,g):yi(l,f,E,g),f.child;case 11:return E=f.type,I=f.pendingProps,I=f.elementType===E?I:Hi(E,I),Lh(l,f,E,I,g);case 7:return yi(l,f,f.pendingProps,g),f.child;case 8:return yi(l,f,f.pendingProps.children,g),f.child;case 12:return yi(l,f,f.pendingProps.children,g),f.child;case 10:e:{if(E=f.type._context,I=f.pendingProps,qe=f.memoizedProps,gr=I.value,$n(Tu,E._currentValue),E._currentValue=gr,qe!==null)if(Ki(qe.value,gr)){if(qe.children===I.children&&!Ei.current){f=fo(l,f,g);break e}}else for(qe=f.child,qe!==null&&(qe.return=f);qe!==null;){var _r=qe.dependencies;if(_r!==null){gr=qe.child;for(var Cr=_r.firstContext;Cr!==null;){if(Cr.context===E){if(qe.tag===1){Cr=lo(-1,g&-g),Cr.tag=2;var Mr=qe.updateQueue;if(Mr!==null){Mr=Mr.shared;var Kr=Mr.pending;Kr===null?Cr.next=Cr:(Cr.next=Kr.next,Kr.next=Cr),Mr.pending=Cr}}qe.lanes|=g,Cr=qe.alternate,Cr!==null&&(Cr.lanes|=g),Jl(qe.return,g,f),_r.lanes|=g;break}Cr=Cr.next}}else if(qe.tag===10)gr=qe.type===f.type?null:qe.child;else if(qe.tag===18){if(gr=qe.return,gr===null)throw Error(o(341));gr.lanes|=g,_r=gr.alternate,_r!==null&&(_r.lanes|=g),Jl(gr,g,f),gr=qe.sibling}else gr=qe.child;if(gr!==null)gr.return=qe;else for(gr=qe;gr!==null;){if(gr===f){gr=null;break}if(qe=gr.sibling,qe!==null){qe.return=gr.return,gr=qe;break}gr=gr.return}qe=gr}yi(l,f,I.children,g),f=f.child}return f;case 9:return I=f.type,E=f.pendingProps.children,qa(f,g),I=Mi(I),E=E(I),f.flags|=1,yi(l,f,E,g),f.child;case 14:return E=f.type,I=Hi(E,f.pendingProps),I=Hi(E.type,I),Uh(l,f,E,I,g);case 15:return Fh(l,f,f.type,f.pendingProps,g);case 17:return E=f.type,I=f.pendingProps,I=f.elementType===E?I:Hi(E,I),Ku(l,f),f.tag=1,Si(E)?(l=!0,_u(f)):l=!1,qa(f,g),kh(f,E,I),dd(f,E,I,g),md(null,f,E,!0,l,g);case 19:return Jh(l,f,g);case 22:return Kh(l,f,g)}throw Error(o(156,f.tag))};function bp(l,f){return _a(l,f)}function m0(l,f,g,E){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(l,f,g,E){return new m0(l,f,g,E)}function $d(l){return l=l.prototype,!(!l||!l.isReactComponent)}function y0(l){if(typeof l=="function")return $d(l)?1:0;if(l!=null){if(l=l.$$typeof,l===C)return 11;if(l===er)return 14}return 2}function Lo(l,f){var g=l.alternate;return g===null?(g=Li(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function Qu(l,f,g,E,I,qe){var gr=2;if(E=l,typeof l=="function")$d(l)&&(gr=1);else if(typeof l=="string")gr=5;else e:switch(l){case wr:return da(g.children,I,qe,f);case Sr:gr=8,I|=8;break;case Rr:return l=Li(12,g,f,I|2),l.elementType=Rr,l.lanes=qe,l;case B:return l=Li(13,g,f,I),l.elementType=B,l.lanes=qe,l;case ur:return l=Li(19,g,f,I),l.elementType=ur,l.lanes=qe,l;case pr:return el(g,I,qe,f);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case Ir:gr=10;break e;case xr:gr=9;break e;case C:gr=11;break e;case er:gr=14;break e;case H:gr=16,E=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return f=Li(gr,g,f,I),f.elementType=l,f.type=E,f.lanes=qe,f}function da(l,f,g,E){return l=Li(7,l,E,f),l.lanes=g,l}function el(l,f,g,E){return l=Li(22,l,E,f),l.elementType=pr,l.lanes=g,l.stateNode={isHidden:!1},l}function Md(l,f,g){return l=Li(6,l,null,f),l.lanes=g,l}function jd(l,f,g){return f=Li(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}function g0(l,f,g,E,I){this.tag=f,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=E,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function Dd(l,f,g,E,I,qe,gr,_r,Cr){return l=new g0(l,f,g,_r,Cr),f===1?(f=1,qe===!0&&(f|=8)):f=0,qe=Li(3,null,null,f),l.current=qe,qe.stateNode=l,qe.memoizedState={element:E,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yl(qe),l}function v0(l,f,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:E==null?null:""+E,children:l,containerInfo:f,implementation:g}}function xp(l){if(!l)return To;l=l._reactInternals;e:{if(Tn(l)!==l||l.tag!==1)throw Error(o(170));var f=l;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Si(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(l.tag===1){var g=l.type;if(Si(g))return Wf(l,g,f)}return f}function wp(l,f,g,E,I,qe,gr,_r,Cr){return l=Dd(g,E,!0,l,I,qe,gr,_r,Cr),l.context=xp(null),g=l.current,E=gi(),I=jo(g),qe=lo(E,I),qe.callback=f??null,Bo(g,qe,I),l.current.lanes=I,bc(l,I,E),Ai(l,E),l}function tl(l,f,g,E){var I=f.current,qe=gi(),gr=jo(I);return g=xp(g),f.context===null?f.context=g:f.pendingContext=g,f=lo(qe,gr),f.payload={element:l},E=E===void 0?null:E,E!==null&&(f.callback=E),l=Bo(I,f,gr),l!==null&&(Gi(l,I,gr,qe),ku(l,I,gr)),gr}function rl(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Ep(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function Ld(l,f){Ep(l,f),(l=l.alternate)&&Ep(l,f)}function b0(){return null}var Sp=typeof reportError=="function"?reportError:function(l){console.error(l)};function Ud(l){this._internalRoot=l}nl.prototype.render=Ud.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(o(409));tl(l,f,null,null)},nl.prototype.unmount=Ud.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;ca(function(){tl(null,l,null,null)}),f[io]=null}};function nl(l){this._internalRoot=l}nl.prototype.unstable_scheduleHydration=function(l){if(l){var f=of();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Ro.length&&f!==0&&f<Ro[g].priority;g++);Ro.splice(g,0,l),g===0&&uf(l)}};function Fd(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function sl(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function _p(){}function x0(l,f,g,E,I){if(I){if(typeof E=="function"){var qe=E;E=function(){var Mr=rl(gr);qe.call(Mr)}}var gr=wp(f,E,l,0,null,!1,!1,"",_p);return l._reactRootContainer=gr,l[io]=gr.current,Bc(l.nodeType===8?l.parentNode:l),ca(),gr}for(;I=l.lastChild;)l.removeChild(I);if(typeof E=="function"){var _r=E;E=function(){var Mr=rl(Cr);_r.call(Mr)}}var Cr=Dd(l,0,!1,null,null,!1,!1,"",_p);return l._reactRootContainer=Cr,l[io]=Cr.current,Bc(l.nodeType===8?l.parentNode:l),ca(function(){tl(f,Cr,g,E)}),Cr}function il(l,f,g,E,I){var qe=g._reactRootContainer;if(qe){var gr=qe;if(typeof I=="function"){var _r=I;I=function(){var Cr=rl(gr);_r.call(Cr)}}tl(f,gr,l,I)}else gr=x0(g,f,l,I,E);return rl(gr)}nf=function(l){switch(l.tag){case 3:var f=l.stateNode;if(f.current.memoizedState.isDehydrated){var g=vc(f.pendingLanes);g!==0&&(dl(f,g|1),Ai(f,jn()),(_n&6)===0&&(Wa=jn()+500,Io()))}break;case 13:ca(function(){var E=uo(l,1);if(E!==null){var I=gi();Gi(E,l,1,I)}}),Ld(l,1)}},fl=function(l){if(l.tag===13){var f=uo(l,134217728);if(f!==null){var g=gi();Gi(f,l,134217728,g)}Ld(l,134217728)}},sf=function(l){if(l.tag===13){var f=jo(l),g=uo(l,f);if(g!==null){var E=gi();Gi(g,l,f,E)}Ld(l,f)}},of=function(){return Cn},af=function(l,f){var g=Cn;try{return Cn=l,f()}finally{Cn=g}},Fn=function(l,f,g){switch(f){case"input":if(Xn(l,g),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var E=g[f];if(E!==l&&E.form===l.form){var I=Eu(E);if(!I)throw Error(o(90));Jr(E),Xn(E,I)}}}break;case"textarea":Pn(l,g);break;case"select":f=g.value,f!=null&&xn(l,!!g.multiple,f,!1)}},Wn=kd,dc=ca;var w0={usingClientEntryPoint:!1,Events:[Mc,$a,Eu,lc,Gn,kd]},Zc={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:Zc.bundleType,version:Zc.version,rendererPackageName:Zc.rendererPackageName,rendererConfig:Zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Ea(l),l===null?null:l.stateNode},findFiberByHostInstance:Zc.findFiberByHostInstance||b0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{wo=ol.inject(E0),wi=ol}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w0,reactDom_production_min.createPortal=function(l,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(f))throw Error(o(200));return v0(l,f,null,g)},reactDom_production_min.createRoot=function(l,f){if(!Fd(l))throw Error(o(299));var g=!1,E="",I=Sp;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),f=Dd(l,1,!1,null,null,g,!1,E,I),l[io]=f.current,Bc(l.nodeType===8?l.parentNode:l),new Ud(f)},reactDom_production_min.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return l=Ea(f),l=l===null?null:l.stateNode,l},reactDom_production_min.flushSync=function(l){return ca(l)},reactDom_production_min.hydrate=function(l,f,g){if(!sl(f))throw Error(o(200));return il(null,l,f,!0,g)},reactDom_production_min.hydrateRoot=function(l,f,g){if(!Fd(l))throw Error(o(405));var E=g!=null&&g.hydratedSources||null,I=!1,qe="",gr=Sp;if(g!=null&&(g.unstable_strictMode===!0&&(I=!0),g.identifierPrefix!==void 0&&(qe=g.identifierPrefix),g.onRecoverableError!==void 0&&(gr=g.onRecoverableError)),f=wp(f,null,l,1,g??null,I,!1,qe,gr),l[io]=f.current,Bc(l),E)for(l=0;l<E.length;l++)g=E[l],I=g._getVersion,I=I(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,I]:f.mutableSourceEagerHydrationData.push(g,I);return new nl(f)},reactDom_production_min.render=function(l,f,g){if(!sl(f))throw Error(o(200));return il(null,l,f,!1,g)},reactDom_production_min.unmountComponentAtNode=function(l){if(!sl(l))throw Error(o(40));return l._reactRootContainer?(ca(function(){il(null,null,l,!1,function(){l._reactRootContainer=null,l[io]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=kd,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(l,f,g,E){if(!sl(g))throw Error(o(200));if(l==null||l._reactInternals===void 0)throw Error(o(38));return il(l,f,g,!1,E)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var e=requireReactDom();return client.createRoot=e.createRoot,client.hydrateRoot=e.hydrateRoot,client}var clientExports=requireClient();const version$6="2.31.2";let errorConfig={getDocsUrl:({docsBaseUrl:e,docsPath:s="",docsSlug:o})=>s?`${e??"https://viem.sh"}${s}${o?`#${o}`:""}`:void 0,version:`viem@${version$6}`},BaseError$5=class qd extends Error{constructor(s,o={}){var p;const a=(()=>{var m;return o.cause instanceof qd?o.cause.details:(m=o.cause)!=null&&m.message?o.cause.message:o.details})(),c=o.cause instanceof qd&&o.cause.docsPath||o.docsPath,u=(p=errorConfig.getDocsUrl)==null?void 0:p.call(errorConfig,{...o,docsPath:c}),h=[s||"An error occurred.","",...o.metaMessages?[...o.metaMessages,""]:[],...u?[`Docs: ${u}`]:[],...a?[`Details: ${a}`]:[],...errorConfig.version?[`Version: ${errorConfig.version}`]:[]].join(`
`);super(h,o.cause?{cause:o.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=a,this.docsPath=c,this.metaMessages=o.metaMessages,this.name=o.name??this.name,this.shortMessage=s,this.version=version$6}walk(s){return walk$2(this,s)}};function walk$2(e,s){return s!=null&&s(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?walk$2(e.cause,s):s?null:e}let IntegerOutOfRangeError$2=class extends BaseError$5{constructor({max:s,min:o,signed:a,size:c,value:u}){super(`Number "${u}" is not in safe ${c?`${c*8}-bit ${a?"signed":"unsigned"} `:""}integer range ${s?`(${o} to ${s})`:`(above ${o})`}`,{name:"IntegerOutOfRangeError"})}};class InvalidBytesBooleanError extends BaseError$5{constructor(s){super(`Bytes value "${s}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let SizeOverflowError$1=class extends BaseError$5{constructor({givenSize:s,maxSize:o}){super(`Size cannot exceed ${o} bytes. Given size: ${s} bytes.`,{name:"SizeOverflowError"})}};class SliceOffsetOutOfBoundsError extends BaseError$5{constructor({offset:s,position:o,size:a}){super(`Slice ${o==="start"?"starting":"ending"} at offset "${s}" is out-of-bounds (size: ${a}).`,{name:"SliceOffsetOutOfBoundsError"})}}let SizeExceedsPaddingSizeError$2=class extends BaseError$5{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${s}) exceeds padding size (${o}).`,{name:"SizeExceedsPaddingSizeError"})}};class InvalidBytesLengthError extends BaseError$5{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${o} ${a} long, but is ${s} ${a} long.`,{name:"InvalidBytesLengthError"})}}function pad$2(e,{dir:s,size:o=32}={}){return typeof e=="string"?padHex$1(e,{dir:s,size:o}):padBytes$1(e,{dir:s,size:o})}function padHex$1(e,{dir:s,size:o=32}={}){if(o===null)return e;const a=e.replace("0x","");if(a.length>o*2)throw new SizeExceedsPaddingSizeError$2({size:Math.ceil(a.length/2),targetSize:o,type:"hex"});return`0x${a[s==="right"?"padEnd":"padStart"](o*2,"0")}`}function padBytes$1(e,{dir:s,size:o=32}={}){if(o===null)return e;if(e.length>o)throw new SizeExceedsPaddingSizeError$2({size:e.length,targetSize:o,type:"bytes"});const a=new Uint8Array(o);for(let c=0;c<o;c++){const u=s==="right";a[u?c:o-c-1]=e[u?c:e.length-c-1]}return a}function isHex$1(e,{strict:s=!0}={}){return!e||typeof e!="string"?!1:s?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function size$6(e){return isHex$1(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function trim(e,{dir:s="left"}={}){let o=typeof e=="string"?e.replace("0x",""):e,a=0;for(let c=0;c<o.length-1&&o[s==="left"?c:o.length-c-1].toString()==="0";c++)a++;return o=s==="left"?o.slice(a):o.slice(0,o.length-a),typeof e=="string"?(o.length===1&&s==="right"&&(o=`${o}0`),`0x${o.length%2===1?`0${o}`:o}`):o}const encoder$3=new TextEncoder;function toBytes$3(e,s={}){return typeof e=="number"||typeof e=="bigint"?numberToBytes$1(e,s):typeof e=="boolean"?boolToBytes$1(e,s):isHex$1(e)?hexToBytes$4(e,s):stringToBytes$1(e,s)}function boolToBytes$1(e,s={}){const o=new Uint8Array(1);return o[0]=Number(e),typeof s.size=="number"?(assertSize$1(o,{size:s.size}),pad$2(o,{size:s.size})):o}const charCodeMap$1={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16$1(e){if(e>=charCodeMap$1.zero&&e<=charCodeMap$1.nine)return e-charCodeMap$1.zero;if(e>=charCodeMap$1.A&&e<=charCodeMap$1.F)return e-(charCodeMap$1.A-10);if(e>=charCodeMap$1.a&&e<=charCodeMap$1.f)return e-(charCodeMap$1.a-10)}function hexToBytes$4(e,s={}){let o=e;s.size&&(assertSize$1(o,{size:s.size}),o=pad$2(o,{dir:"right",size:s.size}));let a=o.slice(2);a.length%2&&(a=`0${a}`);const c=a.length/2,u=new Uint8Array(c);for(let h=0,p=0;h<c;h++){const m=charCodeToBase16$1(a.charCodeAt(p++)),y=charCodeToBase16$1(a.charCodeAt(p++));if(m===void 0||y===void 0)throw new BaseError$5(`Invalid byte sequence ("${a[p-2]}${a[p-1]}" in "${a}").`);u[h]=m*16+y}return u}function numberToBytes$1(e,s){const o=numberToHex$1(e,s);return hexToBytes$4(o)}function stringToBytes$1(e,s={}){const o=encoder$3.encode(e);return typeof s.size=="number"?(assertSize$1(o,{size:s.size}),pad$2(o,{dir:"right",size:s.size})):o}function assertSize$1(e,{size:s}){if(size$6(e)>s)throw new SizeOverflowError$1({givenSize:size$6(e),maxSize:s})}function hexToBigInt$1(e,s={}){const{signed:o}=s;s.size&&assertSize$1(e,{size:s.size});const a=BigInt(e);if(!o)return a;const c=(e.length-2)/2,u=(1n<<BigInt(c)*8n-1n)-1n;return a<=u?a:a-BigInt(`0x${"f".padStart(c*2,"f")}`)-1n}function hexToNumber$3(e,s={}){return Number(hexToBigInt$1(e,s))}const hexes$4=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function toHex$1(e,s={}){return typeof e=="number"||typeof e=="bigint"?numberToHex$1(e,s):typeof e=="string"?stringToHex$1(e,s):typeof e=="boolean"?boolToHex$1(e,s):bytesToHex$4(e,s)}function boolToHex$1(e,s={}){const o=`0x${Number(e)}`;return typeof s.size=="number"?(assertSize$1(o,{size:s.size}),pad$2(o,{size:s.size})):o}function bytesToHex$4(e,s={}){let o="";for(let c=0;c<e.length;c++)o+=hexes$4[e[c]];const a=`0x${o}`;return typeof s.size=="number"?(assertSize$1(a,{size:s.size}),pad$2(a,{dir:"right",size:s.size})):a}function numberToHex$1(e,s={}){const{signed:o,size:a}=s,c=BigInt(e);let u;a?o?u=(1n<<BigInt(a)*8n-1n)-1n:u=2n**(BigInt(a)*8n)-1n:typeof e=="number"&&(u=BigInt(Number.MAX_SAFE_INTEGER));const h=typeof u=="bigint"&&o?-u-1n:0;if(u&&c>u||c<h){const m=typeof e=="bigint"?"n":"";throw new IntegerOutOfRangeError$2({max:u?`${u}${m}`:void 0,min:`${h}${m}`,signed:o,size:a,value:`${e}${m}`})}const p=`0x${(o&&c<0?(1n<<BigInt(a*8))+BigInt(c):c).toString(16)}`;return a?pad$2(p,{size:a}):p}const encoder$2=new TextEncoder;function stringToHex$1(e,s={}){const o=encoder$2.encode(e);return bytesToHex$4(o,s)}async function addChain(e,{chain:s}){const{id:o,name:a,nativeCurrency:c,rpcUrls:u,blockExplorers:h}=s;await e.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex$1(o),chainName:a,nativeCurrency:c,rpcUrls:u.default.http,blockExplorerUrls:h?Object.values(h).map(({url:p})=>p):void 0}]},{dedupe:!0,retryCount:0})}function formatAbiItem$1(e,{includeName:s=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new InvalidDefinitionTypeError(e.type);return`${e.name}(${formatAbiParams(e.inputs,{includeName:s})})`}function formatAbiParams(e,{includeName:s=!1}={}){return e?e.map(o=>formatAbiParam(o,{includeName:s})).join(s?", ":","):""}function formatAbiParam(e,{includeName:s}){return e.type.startsWith("tuple")?`(${formatAbiParams(e.components,{includeName:s})})${e.type.slice(5)}`:e.type+(s&&e.name?` ${e.name}`:"")}class AbiConstructorNotFoundError extends BaseError$5{constructor({docsPath:s}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:s,name:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError$5{constructor({docsPath:s}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:s,name:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError$5{constructor({data:s,params:o,size:a}){super([`Data size of ${a} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(o,{includeName:!0})})`,`Data:   ${s} (${a} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.params=o,this.size=a}}class AbiDecodingZeroDataError extends BaseError$5{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError$5{constructor({expectedLength:s,givenLength:o,type:a}){super([`ABI encoding array length mismatch for type ${a}.`,`Expected length: ${s}`,`Given length: ${o}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError$5{constructor({expectedSize:s,value:o}){super(`Size of bytes "${o}" (bytes${size$6(o)}) does not match expected size (bytes${s}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError$5{constructor({expectedLength:s,givenLength:o}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${s}`,`Given length (values): ${o}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class AbiErrorInputsNotFoundError extends BaseError$5{constructor(s,{docsPath:o}){super([`Arguments (\`args\`) were provided to "${s}", but "${s}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:o,name:"AbiErrorInputsNotFoundError"})}}class AbiErrorNotFoundError extends BaseError$5{constructor(s,{docsPath:o}={}){super([`Error ${s?`"${s}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:o,name:"AbiErrorNotFoundError"})}}class AbiErrorSignatureNotFoundError extends BaseError$5{constructor(s,{docsPath:o}){super([`Encoded error signature "${s}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${s}.`].join(`
`),{docsPath:o,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=s}}class AbiFunctionNotFoundError extends BaseError$5{constructor(s,{docsPath:o}={}){super([`Function ${s?`"${s}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:o,name:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError$5{constructor(s,{docsPath:o}){super([`Function "${s}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:o,name:"AbiFunctionOutputsNotFoundError"})}}class AbiFunctionSignatureNotFoundError extends BaseError$5{constructor(s,{docsPath:o}){super([`Encoded function signature "${s}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${s}.`].join(`
`),{docsPath:o,name:"AbiFunctionSignatureNotFoundError"})}}class AbiItemAmbiguityError extends BaseError$5{constructor(s,o){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${s.type}\` in \`${formatAbiItem$1(s.abiItem)}\`, and`,`\`${o.type}\` in \`${formatAbiItem$1(o.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class BytesSizeMismatchError extends BaseError$5{constructor({expectedSize:s,givenSize:o}){super(`Expected bytes${s}, got bytes${o}.`,{name:"BytesSizeMismatchError"})}}class InvalidAbiEncodingTypeError extends BaseError$5{constructor(s,{docsPath:o}){super([`Type "${s}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:o,name:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError$5{constructor(s,{docsPath:o}){super([`Type "${s}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:o,name:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError$5{constructor(s){super([`Value "${s}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError$5{constructor(s){super([`"${s}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function concat$1(e){return typeof e[0]=="string"?concatHex$1(e):concatBytes$5(e)}function concatBytes$5(e){let s=0;for(const c of e)s+=c.length;const o=new Uint8Array(s);let a=0;for(const c of e)o.set(c,a),a+=c.length;return o}function concatHex$1(e){return`0x${e.reduce((s,o)=>s+o.replace("0x",""),"")}`}let InvalidAddressError$1=class extends BaseError$5{constructor({address:s}){super(`Address "${s}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},LruMap$1=class extends Map{constructor(s){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=s}get(s){const o=super.get(s);return super.has(s)&&o!==void 0&&(this.delete(s),super.set(s,o)),o}set(s,o){if(super.set(s,o),this.maxSize&&this.size>this.maxSize){const a=this.keys().next().value;a&&this.delete(a)}return this}};const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(e,s=!1){return s?{h:Number(e&U32_MASK64$1),l:Number(e>>_32n$1&U32_MASK64$1)}:{h:Number(e>>_32n$1&U32_MASK64$1)|0,l:Number(e&U32_MASK64$1)|0}}function split$1(e,s=!1){const o=e.length;let a=new Uint32Array(o),c=new Uint32Array(o);for(let u=0;u<o;u++){const{h,l:p}=fromBig$1(e[u],s);[a[u],c[u]]=[h,p]}return[a,c]}const rotlSH$1=(e,s,o)=>e<<o|s>>>32-o,rotlSL$1=(e,s,o)=>s<<o|e>>>32-o,rotlBH$1=(e,s,o)=>s<<o-32|e>>>64-o,rotlBL$1=(e,s,o)=>e<<o-32|s>>>64-o,crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function anumber(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function abytes(e,...s){if(!isBytes(e))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(e.length))throw new Error("Uint8Array expected of length "+s+", got length="+e.length)}function ahash(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");anumber(e.outputLen),anumber(e.blockLen)}function aexists(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function aoutput(e,s){abytes(e);const o=s.outputLen;if(e.length<o)throw new Error("digestInto() expects output buffer of length at least "+o)}function u32$1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function clean(...e){for(let s=0;s<e.length;s++)e[s].fill(0)}function createView$1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function rotr$1(e,s){return e<<32-s|e>>>s}const isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function byteSwap32(e){for(let s=0;s<e.length;s++)e[s]=byteSwap(e[s]);return e}const swap32IfBE=isLE$1?e=>e:byteSwap32,hasHexBuiltin=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes$3=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$3(e){if(abytes(e),hasHexBuiltin)return e.toHex();let s="";for(let o=0;o<e.length;o++)s+=hexes$3[e[o]];return s}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(e){if(e>=asciis._0&&e<=asciis._9)return e-asciis._0;if(e>=asciis.A&&e<=asciis.F)return e-(asciis.A-10);if(e>=asciis.a&&e<=asciis.f)return e-(asciis.a-10)}function hexToBytes$3(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(hasHexBuiltin)return Uint8Array.fromHex(e);const s=e.length,o=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const a=new Uint8Array(o);for(let c=0,u=0;c<o;c++,u+=2){const h=asciiToBase16(e.charCodeAt(u)),p=asciiToBase16(e.charCodeAt(u+1));if(h===void 0||p===void 0){const m=e[u]+e[u+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+u)}a[c]=h*16+p}return a}function utf8ToBytes$2(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function toBytes$2(e){return typeof e=="string"&&(e=utf8ToBytes$2(e)),abytes(e),e}function concatBytes$4(...e){let s=0;for(let a=0;a<e.length;a++){const c=e[a];abytes(c),s+=c.length}const o=new Uint8Array(s);for(let a=0,c=0;a<e.length;a++){const u=e[a];o.set(u,c),c+=u.length}return o}let Hash$1=class{};function createHasher(e){const s=a=>e().update(toBytes$2(a)).digest(),o=e();return s.outputLen=o.outputLen,s.blockLen=o.blockLen,s.create=()=>e(),s}function randomBytes$1(e=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(e));if(crypto$2&&typeof crypto$2.randomBytes=="function")return Uint8Array.from(crypto$2.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const _0n$6=BigInt(0),_1n$7=BigInt(1),_2n$5=BigInt(2),_7n$1=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113),SHA3_PI$1=[],SHA3_ROTL$1=[],_SHA3_IOTA$1=[];for(let e=0,s=_1n$7,o=1,a=0;e<24;e++){[o,a]=[a,(2*o+3*a)%5],SHA3_PI$1.push(2*(5*a+o)),SHA3_ROTL$1.push((e+1)*(e+2)/2%64);let c=_0n$6;for(let u=0;u<7;u++)s=(s<<_1n$7^(s>>_7n$1)*_0x71n$1)%_256n$1,s&_2n$5&&(c^=_1n$7<<(_1n$7<<BigInt(u))-_1n$7);_SHA3_IOTA$1.push(c)}const IOTAS=split$1(_SHA3_IOTA$1,!0),SHA3_IOTA_H$1=IOTAS[0],SHA3_IOTA_L$1=IOTAS[1],rotlH$1=(e,s,o)=>o>32?rotlBH$1(e,s,o):rotlSH$1(e,s,o),rotlL$1=(e,s,o)=>o>32?rotlBL$1(e,s,o):rotlSL$1(e,s,o);function keccakP$1(e,s=24){const o=new Uint32Array(10);for(let a=24-s;a<24;a++){for(let h=0;h<10;h++)o[h]=e[h]^e[h+10]^e[h+20]^e[h+30]^e[h+40];for(let h=0;h<10;h+=2){const p=(h+8)%10,m=(h+2)%10,y=o[m],v=o[m+1],b=rotlH$1(y,v,1)^o[p],w=rotlL$1(y,v,1)^o[p+1];for(let S=0;S<50;S+=10)e[h+S]^=b,e[h+S+1]^=w}let c=e[2],u=e[3];for(let h=0;h<24;h++){const p=SHA3_ROTL$1[h],m=rotlH$1(c,u,p),y=rotlL$1(c,u,p),v=SHA3_PI$1[h];c=e[v],u=e[v+1],e[v]=m,e[v+1]=y}for(let h=0;h<50;h+=10){for(let p=0;p<10;p++)o[p]=e[h+p];for(let p=0;p<10;p++)e[h+p]^=~o[(p+2)%10]&o[(p+4)%10]}e[0]^=SHA3_IOTA_H$1[a],e[1]^=SHA3_IOTA_L$1[a]}clean(o)}let Keccak$1=class Mp extends Hash$1{constructor(s,o,a,c=!1,u=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=s,this.suffix=o,this.outputLen=a,this.enableXOF=c,this.rounds=u,anumber(a),!(0<s&&s<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}clone(){return this._cloneInto()}keccak(){swap32IfBE(this.state32),keccakP$1(this.state32,this.rounds),swap32IfBE(this.state32),this.posOut=0,this.pos=0}update(s){aexists(this),s=toBytes$2(s),abytes(s);const{blockLen:o,state:a}=this,c=s.length;for(let u=0;u<c;){const h=Math.min(o-this.pos,c-u);for(let p=0;p<h;p++)a[this.pos++]^=s[u++];this.pos===o&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:s,suffix:o,pos:a,blockLen:c}=this;s[a]^=o,(o&128)!==0&&a===c-1&&this.keccak(),s[c-1]^=128,this.keccak()}writeInto(s){aexists(this,!1),abytes(s),this.finish();const o=this.state,{blockLen:a}=this;for(let c=0,u=s.length;c<u;){this.posOut>=a&&this.keccak();const h=Math.min(a-this.posOut,u-c);s.set(o.subarray(this.posOut,this.posOut+h),c),this.posOut+=h,c+=h}return s}xofInto(s){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(s)}xof(s){return anumber(s),this.xofInto(new Uint8Array(s))}digestInto(s){if(aoutput(s,this),this.finished)throw new Error("digest() was already called");return this.writeInto(s),this.destroy(),s}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,clean(this.state)}_cloneInto(s){const{blockLen:o,suffix:a,outputLen:c,rounds:u,enableXOF:h}=this;return s||(s=new Mp(o,a,c,h,u)),s.state32.set(this.state32),s.pos=this.pos,s.posOut=this.posOut,s.finished=this.finished,s.rounds=u,s.suffix=a,s.outputLen=c,s.enableXOF=h,s.destroyed=this.destroyed,s}};const gen$1=(e,s,o)=>createHasher(()=>new Keccak$1(s,e,o)),keccak_256$1=gen$1(1,136,256/8);function keccak256$1(e,s){const o=s||"hex",a=keccak_256$1(isHex$1(e,{strict:!1})?toBytes$3(e):e);return o==="bytes"?a:toHex$1(a)}const checksumAddressCache=new LruMap$1(8192);function checksumAddress$1(e,s){if(checksumAddressCache.has(`${e}.${s}`))return checksumAddressCache.get(`${e}.${s}`);const o=e.substring(2).toLowerCase(),a=keccak256$1(stringToBytes$1(o),"bytes"),c=o.split("");for(let h=0;h<40;h+=2)a[h>>1]>>4>=8&&c[h]&&(c[h]=c[h].toUpperCase()),(a[h>>1]&15)>=8&&c[h+1]&&(c[h+1]=c[h+1].toUpperCase());const u=`0x${c.join("")}`;return checksumAddressCache.set(`${e}.${s}`,u),u}function getAddress$1(e,s){if(!isAddress$1(e,{strict:!1}))throw new InvalidAddressError$1({address:e});return checksumAddress$1(e,s)}const addressRegex$1=/^0x[a-fA-F0-9]{40}$/,isAddressCache$1=new LruMap$1(8192);function isAddress$1(e,s){const{strict:o=!0}=s??{},a=`${e}.${o}`;if(isAddressCache$1.has(a))return isAddressCache$1.get(a);const c=addressRegex$1.test(e)?e.toLowerCase()===e?!0:o?checksumAddress$1(e)===e:!0:!1;return isAddressCache$1.set(a,c),c}function slice(e,s,o,{strict:a}={}){return isHex$1(e,{strict:!1})?sliceHex(e,s,o,{strict:a}):sliceBytes(e,s,o,{strict:a})}function assertStartOffset(e,s){if(typeof s=="number"&&s>0&&s>size$6(e)-1)throw new SliceOffsetOutOfBoundsError({offset:s,position:"start",size:size$6(e)})}function assertEndOffset(e,s,o){if(typeof s=="number"&&typeof o=="number"&&size$6(e)!==o-s)throw new SliceOffsetOutOfBoundsError({offset:o,position:"end",size:size$6(e)})}function sliceBytes(e,s,o,{strict:a}={}){assertStartOffset(e,s);const c=e.slice(s,o);return a&&assertEndOffset(c,s,o),c}function sliceHex(e,s,o,{strict:a}={}){assertStartOffset(e,s);const c=`0x${e.replace("0x","").slice((s??0)*2,(o??e.length)*2)}`;return a&&assertEndOffset(c,s,o),c}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function encodeAbiParameters(e,s){if(e.length!==s.length)throw new AbiEncodingLengthMismatchError({expectedLength:e.length,givenLength:s.length});const o=prepareParams({params:e,values:s}),a=encodeParams(o);return a.length===0?"0x":a}function prepareParams({params:e,values:s}){const o=[];for(let a=0;a<e.length;a++)o.push(prepareParam({param:e[a],value:s[a]}));return o}function prepareParam({param:e,value:s}){const o=getArrayComponents(e.type);if(o){const[a,c]=o;return encodeArray(s,{length:a,param:{...e,type:c}})}if(e.type==="tuple")return encodeTuple(s,{param:e});if(e.type==="address")return encodeAddress(s);if(e.type==="bool")return encodeBool(s);if(e.type.startsWith("uint")||e.type.startsWith("int")){const a=e.type.startsWith("int"),[,,c="256"]=integerRegex$1.exec(e.type)??[];return encodeNumber(s,{signed:a,size:Number(c)})}if(e.type.startsWith("bytes"))return encodeBytes(s,{param:e});if(e.type==="string")return encodeString(s);throw new InvalidAbiEncodingTypeError(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(e){let s=0;for(let u=0;u<e.length;u++){const{dynamic:h,encoded:p}=e[u];h?s+=32:s+=size$6(p)}const o=[],a=[];let c=0;for(let u=0;u<e.length;u++){const{dynamic:h,encoded:p}=e[u];h?(o.push(numberToHex$1(s+c,{size:32})),a.push(p),c+=size$6(p)):o.push(p)}return concat$1([...o,...a])}function encodeAddress(e){if(!isAddress$1(e))throw new InvalidAddressError$1({address:e});return{dynamic:!1,encoded:padHex$1(e.toLowerCase())}}function encodeArray(e,{length:s,param:o}){const a=s===null;if(!Array.isArray(e))throw new InvalidArrayError(e);if(!a&&e.length!==s)throw new AbiEncodingArrayLengthMismatchError({expectedLength:s,givenLength:e.length,type:`${o.type}[${s}]`});let c=!1;const u=[];for(let h=0;h<e.length;h++){const p=prepareParam({param:o,value:e[h]});p.dynamic&&(c=!0),u.push(p)}if(a||c){const h=encodeParams(u);if(a){const p=numberToHex$1(u.length,{size:32});return{dynamic:!0,encoded:u.length>0?concat$1([p,h]):p}}if(c)return{dynamic:!0,encoded:h}}return{dynamic:!1,encoded:concat$1(u.map(({encoded:h})=>h))}}function encodeBytes(e,{param:s}){const[,o]=s.type.split("bytes"),a=size$6(e);if(!o){let c=e;return a%32!==0&&(c=padHex$1(c,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:concat$1([padHex$1(numberToHex$1(a,{size:32})),c])}}if(a!==Number.parseInt(o))throw new AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(o),value:e});return{dynamic:!1,encoded:padHex$1(e,{dir:"right"})}}function encodeBool(e){if(typeof e!="boolean")throw new BaseError$5(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:padHex$1(boolToHex$1(e))}}function encodeNumber(e,{signed:s,size:o=256}){if(typeof o=="number"){const a=2n**(BigInt(o)-(s?1n:0n))-1n,c=s?-a-1n:0n;if(e>a||e<c)throw new IntegerOutOfRangeError$2({max:a.toString(),min:c.toString(),signed:s,size:o/8,value:e.toString()})}return{dynamic:!1,encoded:numberToHex$1(e,{size:32,signed:s})}}function encodeString(e){const s=stringToHex$1(e),o=Math.ceil(size$6(s)/32),a=[];for(let c=0;c<o;c++)a.push(padHex$1(slice(s,c*32,(c+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat$1([padHex$1(numberToHex$1(size$6(s),{size:32})),...a])}}function encodeTuple(e,{param:s}){let o=!1;const a=[];for(let c=0;c<s.components.length;c++){const u=s.components[c],h=Array.isArray(e)?c:u.name,p=prepareParam({param:u,value:e[h]});a.push(p),p.dynamic&&(o=!0)}return{dynamic:o,encoded:o?encodeParams(a):concat$1(a.map(({encoded:c})=>c))}}function getArrayComponents(e){const s=e.match(/^(.*)\[(\d+)?\]$/);return s?[s[2]?Number(s[2]):null,s[1]]:void 0}const docsPath$2="/docs/contract/encodeDeployData";function encodeDeployData(e){const{abi:s,args:o,bytecode:a}=e;if(!o||o.length===0)return a;const c=s.find(h=>"type"in h&&h.type==="constructor");if(!c)throw new AbiConstructorNotFoundError({docsPath:docsPath$2});if(!("inputs"in c))throw new AbiConstructorParamsNotFoundError({docsPath:docsPath$2});if(!c.inputs||c.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath:docsPath$2});const u=encodeAbiParameters(c.inputs,o);return concatHex$1([a,u])}function parseAccount(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}class AccountNotFoundError extends BaseError$5{constructor({docsPath:s}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:s,docsSlug:"account",name:"AccountNotFoundError"})}}class AccountTypeNotSupportedError extends BaseError$5{constructor({docsPath:s,metaMessages:o,type:a}){super(`Account type "${a}" is not supported.`,{docsPath:s,metaMessages:o,name:"AccountTypeNotSupportedError"})}}function publicKeyToAddress$1(e){const s=keccak256$1(`0x${e.substring(4)}`).substring(26);return checksumAddress$1(`0x${s}`)}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(s,o,a){let c=Promise.resolve();if(o&&o.length>0){let h=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));c=h(o.map(y=>{if(y=assetsURL(y),y in seen)return;seen[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":scriptRel,v||(w.as="script"),w.crossOrigin="",w.href=y,m&&w.setAttribute("nonce",m),document.head.appendChild(w),v)return new Promise((S,P)=>{w.addEventListener("load",S),w.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return c.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return s().catch(u)})};async function recoverPublicKey$2({hash:e,signature:s}){const o=isHex$1(e)?e:toHex$1(e),{secp256k1:a}=await __vitePreload(async()=>{const{secp256k1:h}=await import("./secp256k1-CQ_TE3mt.js");return{secp256k1:h}},[]);return`0x${(()=>{if(typeof s=="object"&&"r"in s&&"s"in s){const{r:y,s:v,v:b,yParity:w}=s,S=Number(w??b),P=toRecoveryBit(S);return new a.Signature(hexToBigInt$1(y),hexToBigInt$1(v)).addRecoveryBit(P)}const h=isHex$1(s)?s:toHex$1(s);if(size$6(h)!==65)throw new Error("invalid signature length");const p=hexToNumber$3(`0x${h.slice(130)}`),m=toRecoveryBit(p);return a.Signature.fromCompact(h.substring(2,130)).addRecoveryBit(m)})().recoverPublicKey(o.substring(2)).toHex(!1)}`}function toRecoveryBit(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function recoverAddress$1({hash:e,signature:s}){return publicKeyToAddress$1(await recoverPublicKey$2({hash:e,signature:s}))}class NegativeOffsetError extends BaseError$5{constructor({offset:s}){super(`Offset \`${s}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class PositionOutOfBoundsError extends BaseError$5{constructor({length:s,position:o}){super(`Position \`${o}\` is out of bounds (\`0 < position < ${s}\`).`,{name:"PositionOutOfBoundsError"})}}class RecursiveReadLimitExceededError extends BaseError$5{constructor({count:s,limit:o}){super(`Recursive read limit of \`${o}\` exceeded (recursive read count: \`${s}\`).`,{name:"RecursiveReadLimitExceededError"})}}const staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new NegativeOffsetError({offset:e});const s=this.position-e;this.assertPosition(s),this.position=s},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new NegativeOffsetError({offset:e});const s=this.position+e;this.assertPosition(s),this.position=s},inspectByte(e){const s=e??this.position;return this.assertPosition(s),this.bytes[s]},inspectBytes(e,s){const o=s??this.position;return this.assertPosition(o+e-1),this.bytes.subarray(o,o+e)},inspectUint8(e){const s=e??this.position;return this.assertPosition(s),this.bytes[s]},inspectUint16(e){const s=e??this.position;return this.assertPosition(s+1),this.dataView.getUint16(s)},inspectUint24(e){const s=e??this.position;return this.assertPosition(s+2),(this.dataView.getUint16(s)<<8)+this.dataView.getUint8(s+2)},inspectUint32(e){const s=e??this.position;return this.assertPosition(s+3),this.dataView.getUint32(s)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,s){this.assertReadLimit(),this._touch();const o=this.inspectBytes(e);return this.position+=s??e,o},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const s=this.position;return this.assertPosition(e),this.position=e,()=>this.position=s},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function createCursor(e,{recursiveReadLimit:s=8192}={}){const o=Object.create(staticCursor);return o.bytes=e,o.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),o.positionReadCount=new Map,o.recursiveReadLimit=s,o}function toRlp(e,s="hex"){const o=getEncodable(e),a=createCursor(new Uint8Array(o.length));return o.encode(a),s==="hex"?bytesToHex$4(a.bytes):a.bytes}function getEncodable(e){return Array.isArray(e)?getEncodableList(e.map(s=>getEncodable(s))):getEncodableBytes(e)}function getEncodableList(e){const s=e.reduce((c,u)=>c+u.length,0),o=getSizeOfLength(s);return{length:s<=55?1+s:1+o+s,encode(c){s<=55?c.pushByte(192+s):(c.pushByte(247+o),o===1?c.pushUint8(s):o===2?c.pushUint16(s):o===3?c.pushUint24(s):c.pushUint32(s));for(const{encode:u}of e)u(c)}}}function getEncodableBytes(e){const s=typeof e=="string"?hexToBytes$4(e):e,o=getSizeOfLength(s.length);return{length:s.length===1&&s[0]<128?1:s.length<=55?1+s.length:1+o+s.length,encode(c){s.length===1&&s[0]<128?c.pushBytes(s):s.length<=55?(c.pushByte(128+s.length),c.pushBytes(s)):(c.pushByte(183+o),o===1?c.pushUint8(s.length):o===2?c.pushUint16(s.length):o===3?c.pushUint24(s.length):c.pushUint32(s.length),c.pushBytes(s))}}}function getSizeOfLength(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new BaseError$5("Length is too large.")}function hashAuthorization(e){const{chainId:s,nonce:o,to:a}=e,c=e.contractAddress??e.address,u=keccak256$1(concatHex$1(["0x05",toRlp([s?numberToHex$1(s):"0x",c,o?numberToHex$1(o):"0x"])]));return a==="bytes"?hexToBytes$4(u):u}async function recoverAuthorizationAddress(e){const{authorization:s,signature:o}=e;return recoverAddress$1({hash:hashAuthorization(s),signature:o??s})}class ChainDoesNotSupportContract extends BaseError$5{constructor({blockNumber:s,chain:o,contract:a}){super(`Chain "${o.name}" does not support contract "${a.name}".`,{metaMessages:["This could be due to any of the following:",...s&&a.blockCreated&&a.blockCreated>s?[`- The contract "${a.name}" was not deployed until block ${a.blockCreated} (current block ${s}).`]:[`- The chain does not have the contract "${a.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError$5{constructor({chain:s,currentChainId:o}){super(`The current chain of the wallet (id: ${o}) does not match the target chain for the transaction (id: ${s.id} – ${s.name}).`,{metaMessages:[`Current Chain ID:  ${o}`,`Expected Chain ID: ${s.id} – ${s.name}`],name:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError$5{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError$5{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError$5{constructor({chainId:s}){super(typeof s=="number"?`Chain ID "${s}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function assertCurrentChain({chain:e,currentChainId:s}){if(!e)throw new ChainNotFoundError;if(s!==e.id)throw new ChainMismatchError({chain:e,currentChainId:s})}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(e,s){let o=e.toString();const a=o.startsWith("-");a&&(o=o.slice(1)),o=o.padStart(s,"0");let[c,u]=[o.slice(0,o.length-s),o.slice(o.length-s)];return u=u.replace(/(0+)$/,""),`${a?"-":""}${c||"0"}${u?`.${u}`:""}`}function formatGwei(e,s="wei"){return formatUnits(e,gweiUnits[s])}class ExecutionRevertedError extends BaseError$5{constructor({cause:s,message:o}={}){var c;const a=(c=o==null?void 0:o.replace("execution reverted: ",""))==null?void 0:c.replace("execution reverted","");super(`Execution reverted ${a?`with reason: ${a}`:"for an unknown reason"}.`,{cause:s,name:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError$5{constructor({cause:s,maxFeePerGas:o}={}){super(`The fee cap (\`maxFeePerGas\`${o?` = ${formatGwei(o)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:s,name:"FeeCapTooHighError"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError$5{constructor({cause:s,maxFeePerGas:o}={}){super(`The fee cap (\`maxFeePerGas\`${o?` = ${formatGwei(o)}`:""} gwei) cannot be lower than the block base fee.`,{cause:s,name:"FeeCapTooLowError"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError$5{constructor({cause:s,nonce:o}={}){super(`Nonce provided for the transaction ${o?`(${o}) `:""}is higher than the next one expected.`,{cause:s,name:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError$5{constructor({cause:s,nonce:o}={}){super([`Nonce provided for the transaction ${o?`(${o}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:s,name:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError$5{constructor({cause:s,nonce:o}={}){super(`Nonce provided for the transaction ${o?`(${o}) `:""}exceeds the maximum allowed nonce.`,{cause:s,name:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError$5{constructor({cause:s}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:s,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class IntrinsicGasTooHighError extends BaseError$5{constructor({cause:s,gas:o}={}){super(`The amount of gas ${o?`(${o}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:s,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError$5{constructor({cause:s,gas:o}={}){super(`The amount of gas ${o?`(${o}) `:""}provided for the transaction is too low.`,{cause:s,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError$5{constructor({cause:s}){super("The transaction type is not supported for this chain.",{cause:s,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError$5{constructor({cause:s,maxPriorityFeePerGas:o,maxFeePerGas:a}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${o?` = ${formatGwei(o)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${a?` = ${formatGwei(a)} gwei`:""}).`].join(`
`),{cause:s,name:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError$5{constructor({cause:s}){super(`An error occurred while executing: ${s==null?void 0:s.shortMessage}`,{cause:s,name:"UnknownNodeError"})}}function formatEther(e,s="wei"){return formatUnits(e,etherUnits[s])}function prettyPrint(e){const s=Object.entries(e).map(([a,c])=>c===void 0||c===!1?null:[a,c]).filter(Boolean),o=s.reduce((a,[c])=>Math.max(a,c.length),0);return s.map(([a,c])=>`  ${`${a}:`.padEnd(o+1)}  ${c}`).join(`
`)}class FeeConflictError extends BaseError$5{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError$5{constructor({v:s}){super(`Invalid \`v\` value "${s}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError$5{constructor({transaction:s}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(s),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError$5{constructor({storageKey:s}){super(`Size for storage key "${s}" is invalid. Expected 32 bytes. Got ${Math.floor((s.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError$5{constructor(s,{account:o,docsPath:a,chain:c,data:u,gas:h,gasPrice:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:b,value:w}){var P;const S=prettyPrint({chain:c&&`${c==null?void 0:c.name} (id: ${c==null?void 0:c.id})`,from:o==null?void 0:o.address,to:b,value:typeof w<"u"&&`${formatEther(w)} ${((P=c==null?void 0:c.nativeCurrency)==null?void 0:P.symbol)||"ETH"}`,data:u,gas:h,gasPrice:typeof p<"u"&&`${formatGwei(p)} gwei`,maxFeePerGas:typeof m<"u"&&`${formatGwei(m)} gwei`,maxPriorityFeePerGas:typeof y<"u"&&`${formatGwei(y)} gwei`,nonce:v});super(s.shortMessage,{cause:s,docsPath:a,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],"Request Arguments:",S].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=s}}const stringify=(e,s,o)=>JSON.stringify(e,(a,c)=>typeof c=="bigint"?c.toString():c,o),getContractAddress=e=>e,getUrl=e=>e;class HttpRequestError extends BaseError$5{constructor({body:s,cause:o,details:a,headers:c,status:u,url:h}){super("HTTP request failed.",{cause:o,details:a,metaMessages:[u&&`Status: ${u}`,`URL: ${getUrl(h)}`,s&&`Request body: ${stringify(s)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=s,this.headers=c,this.status=u,this.url=h}}class RpcRequestError extends BaseError$5{constructor({body:s,error:o,url:a}){super("RPC Request failed.",{cause:o,details:o.message,metaMessages:[`URL: ${getUrl(a)}`,`Request body: ${stringify(s)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=o.code,this.data=o.data}}class TimeoutError extends BaseError$5{constructor({body:s,url:o}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl(o)}`,`Request body: ${stringify(s)}`],name:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError$5{constructor(s,{code:o,docsPath:a,metaMessages:c,name:u,shortMessage:h}){super(h,{cause:s,docsPath:a,metaMessages:c||(s==null?void 0:s.metaMessages),name:u||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=u||s.name,this.code=s instanceof RpcRequestError?s.code:o??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(s,o){super(s,o),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o.data}}class ParseRpcError extends RpcError{constructor(s){super(s,{code:ParseRpcError.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(s){super(s,{code:InvalidRequestRpcError.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(s,{method:o}={}){super(s,{code:MethodNotFoundRpcError.code,name:"MethodNotFoundRpcError",shortMessage:`The method${o?` "${o}"`:""} does not exist / is not available.`})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(s){super(s,{code:InvalidParamsRpcError.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(s){super(s,{code:InternalRpcError.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(s){super(s,{code:InvalidInputRpcError.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(s){super(s,{code:ResourceNotFoundRpcError.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(s){super(s,{code:ResourceUnavailableRpcError.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(s){super(s,{code:TransactionRejectedRpcError.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(s,{method:o}={}){super(s,{code:MethodNotSupportedRpcError.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${o?` "${o}"`:""} is not supported.`})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(s){super(s,{code:LimitExceededRpcError.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(s){super(s,{code:JsonRpcVersionUnsupportedError.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(s){super(s,{code:UserRejectedRequestError.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(s){super(s,{code:UnauthorizedProviderError.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(s,{method:o}={}){super(s,{code:UnsupportedProviderMethodError.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${o?` " ${o}"`:""}.`})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(s){super(s,{code:ProviderDisconnectedError.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(s){super(s,{code:ChainDisconnectedError.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(s){super(s,{code:SwitchChainError.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnsupportedNonOptionalCapabilityError extends ProviderRpcError{constructor(s){super(s,{code:UnsupportedNonOptionalCapabilityError.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(UnsupportedNonOptionalCapabilityError,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class UnsupportedChainIdError extends ProviderRpcError{constructor(s){super(s,{code:UnsupportedChainIdError.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(UnsupportedChainIdError,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class DuplicateIdError extends ProviderRpcError{constructor(s){super(s,{code:DuplicateIdError.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(DuplicateIdError,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class UnknownBundleIdError extends ProviderRpcError{constructor(s){super(s,{code:UnknownBundleIdError.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(UnknownBundleIdError,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class BundleTooLargeError extends ProviderRpcError{constructor(s){super(s,{code:BundleTooLargeError.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(BundleTooLargeError,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class AtomicReadyWalletRejectedUpgradeError extends ProviderRpcError{constructor(s){super(s,{code:AtomicReadyWalletRejectedUpgradeError.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(AtomicReadyWalletRejectedUpgradeError,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class AtomicityNotSupportedError extends ProviderRpcError{constructor(s){super(s,{code:AtomicityNotSupportedError.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(AtomicityNotSupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class UnknownRpcError extends RpcError{constructor(s){super(s,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function getNodeError(e,s){const o=(e.details||"").toLowerCase(),a=e instanceof BaseError$5?e.walk(c=>(c==null?void 0:c.code)===ExecutionRevertedError.code):e;return a instanceof BaseError$5?new ExecutionRevertedError({cause:e,message:a.details}):ExecutionRevertedError.nodeMessage.test(o)?new ExecutionRevertedError({cause:e,message:e.details}):FeeCapTooHighError.nodeMessage.test(o)?new FeeCapTooHighError({cause:e,maxFeePerGas:s==null?void 0:s.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(o)?new FeeCapTooLowError({cause:e,maxFeePerGas:s==null?void 0:s.maxFeePerGas}):NonceTooHighError.nodeMessage.test(o)?new NonceTooHighError({cause:e,nonce:s==null?void 0:s.nonce}):NonceTooLowError.nodeMessage.test(o)?new NonceTooLowError({cause:e,nonce:s==null?void 0:s.nonce}):NonceMaxValueError.nodeMessage.test(o)?new NonceMaxValueError({cause:e,nonce:s==null?void 0:s.nonce}):InsufficientFundsError.nodeMessage.test(o)?new InsufficientFundsError({cause:e}):IntrinsicGasTooHighError.nodeMessage.test(o)?new IntrinsicGasTooHighError({cause:e,gas:s==null?void 0:s.gas}):IntrinsicGasTooLowError.nodeMessage.test(o)?new IntrinsicGasTooLowError({cause:e,gas:s==null?void 0:s.gas}):TransactionTypeNotSupportedError.nodeMessage.test(o)?new TransactionTypeNotSupportedError({cause:e}):TipAboveFeeCapError.nodeMessage.test(o)?new TipAboveFeeCapError({cause:e,maxFeePerGas:s==null?void 0:s.maxFeePerGas,maxPriorityFeePerGas:s==null?void 0:s.maxPriorityFeePerGas}):new UnknownNodeError({cause:e})}function getTransactionError(e,{docsPath:s,...o}){const a=(()=>{const c=getNodeError(e,o);return c instanceof UnknownNodeError?e:c})();return new TransactionExecutionError(a,{docsPath:s,...o})}function extract(e,{format:s}){if(!s)return{};const o={};function a(u){const h=Object.keys(u);for(const p of h)p in e&&(o[p]=e[p]),u[p]&&typeof u[p]=="object"&&!Array.isArray(u[p])&&a(u[p])}const c=s(e||{});return a(c),o}function defineFormatter(e,s){return({exclude:o,format:a})=>({exclude:o,format:c=>{const u=s(c);if(o)for(const h of o)delete u[h];return{...u,...a(c)}},type:e})}const rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function formatTransactionRequest(e){const s={};return typeof e.authorizationList<"u"&&(s.authorizationList=formatAuthorizationList$1(e.authorizationList)),typeof e.accessList<"u"&&(s.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(s.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?s.blobs=e.blobs.map(o=>bytesToHex$4(o)):s.blobs=e.blobs),typeof e.data<"u"&&(s.data=e.data),typeof e.from<"u"&&(s.from=e.from),typeof e.gas<"u"&&(s.gas=numberToHex$1(e.gas)),typeof e.gasPrice<"u"&&(s.gasPrice=numberToHex$1(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(s.maxFeePerBlobGas=numberToHex$1(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(s.maxFeePerGas=numberToHex$1(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(s.maxPriorityFeePerGas=numberToHex$1(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(s.nonce=numberToHex$1(e.nonce)),typeof e.to<"u"&&(s.to=e.to),typeof e.type<"u"&&(s.type=rpcTransactionType[e.type]),typeof e.value<"u"&&(s.value=numberToHex$1(e.value)),s}function formatAuthorizationList$1(e){return e.map(s=>({address:s.address,r:s.r?numberToHex$1(BigInt(s.r)):s.r,s:s.s?numberToHex$1(BigInt(s.s)):s.s,chainId:numberToHex$1(s.chainId),nonce:numberToHex$1(s.nonce),...typeof s.yParity<"u"?{yParity:numberToHex$1(s.yParity)}:{},...typeof s.v<"u"&&typeof s.yParity>"u"?{v:numberToHex$1(s.v)}:{}}))}function getAction$1(e,s,o){const a=e[s.name];if(typeof a=="function")return a;const c=e[o];return typeof c=="function"?c:u=>s(e,u)}const maxUint256=2n**256n-1n;function assertRequest(e){const{account:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,to:u}=e,h=s?parseAccount(s):void 0;if(h&&!isAddress$1(h.address))throw new InvalidAddressError$1({address:h.address});if(u&&!isAddress$1(u))throw new InvalidAddressError$1({address:u});if(typeof o<"u"&&(typeof a<"u"||typeof c<"u"))throw new FeeConflictError;if(a&&a>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:a});if(c&&a&&c>a)throw new TipAboveFeeCapError({maxFeePerGas:a,maxPriorityFeePerGas:c})}async function getChainId$1(e){const s=await e.request({method:"eth_chainId"},{dedupe:!0});return hexToNumber$3(s)}class BaseFeeScalarError extends BaseError$5{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError$5{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError$5{constructor({maxPriorityFeePerGas:s}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${formatGwei(s)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class BlockNotFoundError extends BaseError$5{constructor({blockHash:s,blockNumber:o}){let a="Block";s&&(a=`Block at hash "${s}"`),o&&(a=`Block at number "${o}"`),super(`${a} could not be found.`,{name:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function formatTransaction(e){const s={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?hexToNumber$3(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?hexToNumber$3(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?transactionType[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(s.authorizationList=formatAuthorizationList(e.authorizationList)),s.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof s.v=="bigint"){if(s.v===0n||s.v===27n)return 0;if(s.v===1n||s.v===28n)return 1;if(s.v>=35n)return s.v%2n===0n?1:0}})(),s.type==="legacy"&&(delete s.accessList,delete s.maxFeePerBlobGas,delete s.maxFeePerGas,delete s.maxPriorityFeePerGas,delete s.yParity),s.type==="eip2930"&&(delete s.maxFeePerBlobGas,delete s.maxFeePerGas,delete s.maxPriorityFeePerGas),s.type==="eip1559"&&delete s.maxFeePerBlobGas,s}const defineTransaction=defineFormatter("transaction",formatTransaction);function formatAuthorizationList(e){return e.map(s=>({address:s.address,chainId:Number(s.chainId),nonce:Number(s.nonce),r:s.r,s:s.s,yParity:Number(s.yParity)}))}function formatBlock(e){const s=(e.transactions??[]).map(o=>typeof o=="string"?o:formatTransaction(o));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:s,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const defineBlock=defineFormatter("block",formatBlock);async function getBlock(e,{blockHash:s,blockNumber:o,blockTag:a,includeTransactions:c}={}){var v,b,w;const u=a??"latest",h=c??!1,p=o!==void 0?numberToHex$1(o):void 0;let m=null;if(s?m=await e.request({method:"eth_getBlockByHash",params:[s,h]},{dedupe:!0}):m=await e.request({method:"eth_getBlockByNumber",params:[p||u,h]},{dedupe:!!p}),!m)throw new BlockNotFoundError({blockHash:s,blockNumber:o});return(((w=(b=(v=e.chain)==null?void 0:v.formatters)==null?void 0:b.block)==null?void 0:w.format)||formatBlock)(m)}async function getGasPrice(e){const s=await e.request({method:"eth_gasPrice"});return BigInt(s)}async function internal_estimateMaxPriorityFeePerGas(e,s){var u,h;const{block:o,chain:a=e.chain,request:c}=s||{};try{const p=((u=a==null?void 0:a.fees)==null?void 0:u.maxPriorityFeePerGas)??((h=a==null?void 0:a.fees)==null?void 0:h.defaultPriorityFee);if(typeof p=="function"){const y=o||await getAction$1(e,getBlock,"getBlock")({}),v=await p({block:y,client:e,request:c});if(v===null)throw new Error;return v}if(typeof p<"u")return p;const m=await e.request({method:"eth_maxPriorityFeePerGas"});return hexToBigInt$1(m)}catch{const[p,m]=await Promise.all([o?Promise.resolve(o):getAction$1(e,getBlock,"getBlock")({}),getAction$1(e,getGasPrice,"getGasPrice")({})]);if(typeof p.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const y=m-p.baseFeePerGas;return y<0n?0n:y}}async function internal_estimateFeesPerGas(e,s){var w,S;const{block:o,chain:a=e.chain,request:c,type:u="eip1559"}=s||{},h=await(async()=>{var P,R;return typeof((P=a==null?void 0:a.fees)==null?void 0:P.baseFeeMultiplier)=="function"?a.fees.baseFeeMultiplier({block:o,client:e,request:c}):((R=a==null?void 0:a.fees)==null?void 0:R.baseFeeMultiplier)??1.2})();if(h<1)throw new BaseFeeScalarError;const m=10**(((w=h.toString().split(".")[1])==null?void 0:w.length)??0),y=P=>P*BigInt(Math.ceil(h*m))/BigInt(m),v=o||await getAction$1(e,getBlock,"getBlock")({});if(typeof((S=a==null?void 0:a.fees)==null?void 0:S.estimateFeesPerGas)=="function"){const P=await a.fees.estimateFeesPerGas({block:o,client:e,multiply:y,request:c,type:u});if(P!==null)return P}if(u==="eip1559"){if(typeof v.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const P=typeof(c==null?void 0:c.maxPriorityFeePerGas)=="bigint"?c.maxPriorityFeePerGas:await internal_estimateMaxPriorityFeePerGas(e,{block:v,chain:a,request:c}),R=y(v.baseFeePerGas);return{maxFeePerGas:(c==null?void 0:c.maxFeePerGas)??R+P,maxPriorityFeePerGas:P}}return{gasPrice:(c==null?void 0:c.gasPrice)??y(await getAction$1(e,getGasPrice,"getGasPrice")({}))}}class EstimateGasExecutionError extends BaseError$5{constructor(s,{account:o,docsPath:a,chain:c,data:u,gas:h,gasPrice:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:b,value:w}){var P;const S=prettyPrint({from:o==null?void 0:o.address,to:b,value:typeof w<"u"&&`${formatEther(w)} ${((P=c==null?void 0:c.nativeCurrency)==null?void 0:P.symbol)||"ETH"}`,data:u,gas:h,gasPrice:typeof p<"u"&&`${formatGwei(p)} gwei`,maxFeePerGas:typeof m<"u"&&`${formatGwei(m)} gwei`,maxPriorityFeePerGas:typeof y<"u"&&`${formatGwei(y)} gwei`,nonce:v});super(s.shortMessage,{cause:s,docsPath:a,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],"Estimate Gas Arguments:",S].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=s}}function getEstimateGasError(e,{docsPath:s,...o}){const a=(()=>{const c=getNodeError(e,o);return c instanceof UnknownNodeError?e:c})();return new EstimateGasExecutionError(a,{docsPath:s,...o})}class AccountStateConflictError extends BaseError$5{constructor({address:s}){super(`State for account "${s}" is set multiple times.`,{name:"AccountStateConflictError"})}}class StateAssignmentConflictError extends BaseError$5{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function prettyStateMapping(e){return e.reduce((s,{slot:o,value:a})=>`${s}        ${o}: ${a}
`,"")}function prettyStateOverride(e){return e.reduce((s,{address:o,...a})=>{let c=`${s}    ${o}:
`;return a.nonce&&(c+=`      nonce: ${a.nonce}
`),a.balance&&(c+=`      balance: ${a.balance}
`),a.code&&(c+=`      code: ${a.code}
`),a.state&&(c+=`      state:
`,c+=prettyStateMapping(a.state)),a.stateDiff&&(c+=`      stateDiff:
`,c+=prettyStateMapping(a.stateDiff)),c},`  State Override:
`).slice(0,-1)}function serializeStateMapping(e){if(!(!e||e.length===0))return e.reduce((s,{slot:o,value:a})=>{if(o.length!==66)throw new InvalidBytesLengthError({size:o.length,targetSize:66,type:"hex"});if(a.length!==66)throw new InvalidBytesLengthError({size:a.length,targetSize:66,type:"hex"});return s[o]=a,s},{})}function serializeAccountStateOverride(e){const{balance:s,nonce:o,state:a,stateDiff:c,code:u}=e,h={};if(u!==void 0&&(h.code=u),s!==void 0&&(h.balance=numberToHex$1(s)),o!==void 0&&(h.nonce=numberToHex$1(o)),a!==void 0&&(h.state=serializeStateMapping(a)),c!==void 0){if(h.state)throw new StateAssignmentConflictError;h.stateDiff=serializeStateMapping(c)}return h}function serializeStateOverride(e){if(!e)return;const s={};for(const{address:o,...a}of e){if(!isAddress$1(o,{strict:!1}))throw new InvalidAddressError$1({address:o});if(s[o])throw new AccountStateConflictError({address:o});s[o]=serializeAccountStateOverride(a)}return s}async function getBalance(e,{address:s,blockNumber:o,blockTag:a="latest"}){const c=typeof o=="bigint"?numberToHex$1(o):void 0,u=await e.request({method:"eth_getBalance",params:[s,c||a]});return BigInt(u)}async function estimateGas(e,s){var c,u,h;const{account:o=e.account}=s,a=o?parseAccount(o):void 0;try{let ur=function(H){const{block:pr,request:hr,rpcStateOverride:mr}=H;return e.request({method:"eth_estimateGas",params:mr?[hr,pr??"latest",mr]:pr?[hr,pr]:[hr]})};const{accessList:p,authorizationList:m,blobs:y,blobVersionedHashes:v,blockNumber:b,blockTag:w,data:S,gas:P,gasPrice:R,maxFeePerBlobGas:T,maxFeePerGas:k,maxPriorityFeePerGas:or,nonce:dr,value:yr,stateOverride:lr,...br}=await prepareTransactionRequest(e,{...s,parameters:(a==null?void 0:a.type)==="local"?void 0:["blobVersionedHashes"]}),Sr=(typeof b=="bigint"?numberToHex$1(b):void 0)||w,Rr=serializeStateOverride(lr),Ir=await(async()=>{if(br.to)return br.to;if(m&&m.length>0)return await recoverAuthorizationAddress({authorization:m[0]}).catch(()=>{throw new BaseError$5("`to` is required. Could not infer from `authorizationList`")})})();assertRequest(s);const xr=(h=(u=(c=e.chain)==null?void 0:c.formatters)==null?void 0:u.transactionRequest)==null?void 0:h.format,B=(xr||formatTransactionRequest)({...extract(br,{format:xr}),from:a==null?void 0:a.address,accessList:p,authorizationList:m,blobs:y,blobVersionedHashes:v,data:S,gas:P,gasPrice:R,maxFeePerBlobGas:T,maxFeePerGas:k,maxPriorityFeePerGas:or,nonce:dr,to:Ir,value:yr});let er=BigInt(await ur({block:Sr,request:B,rpcStateOverride:Rr}));if(m){const H=await getBalance(e,{address:B.from}),pr=await Promise.all(m.map(async hr=>{const{address:mr}=hr,$=await ur({block:Sr,request:{authorizationList:void 0,data:S,from:a==null?void 0:a.address,to:mr,value:numberToHex$1(H)},rpcStateOverride:Rr}).catch(()=>100000n);return 2n*BigInt($)}));er+=pr.reduce((hr,mr)=>hr+mr,0n)}return er}catch(p){throw getEstimateGasError(p,{...s,account:a,chain:e.chain})}}async function getTransactionCount(e,{address:s,blockTag:o="latest",blockNumber:a}){const c=await e.request({method:"eth_getTransactionCount",params:[s,typeof a=="bigint"?numberToHex$1(a):o]},{dedupe:!!a});return hexToNumber$3(c)}function blobsToCommitments(e){const{kzg:s}=e,o=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),a=typeof e.blobs[0]=="string"?e.blobs.map(u=>hexToBytes$4(u)):e.blobs,c=[];for(const u of a)c.push(Uint8Array.from(s.blobToKzgCommitment(u)));return o==="bytes"?c:c.map(u=>bytesToHex$4(u))}function blobsToProofs(e){const{kzg:s}=e,o=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),a=typeof e.blobs[0]=="string"?e.blobs.map(h=>hexToBytes$4(h)):e.blobs,c=typeof e.commitments[0]=="string"?e.commitments.map(h=>hexToBytes$4(h)):e.commitments,u=[];for(let h=0;h<a.length;h++){const p=a[h],m=c[h];u.push(Uint8Array.from(s.computeBlobKzgProof(p,m)))}return o==="bytes"?u:u.map(h=>bytesToHex$4(h))}function setBigUint64$1(e,s,o,a){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,o,a);const c=BigInt(32),u=BigInt(4294967295),h=Number(o>>c&u),p=Number(o&u),m=a?4:0,y=a?0:4;e.setUint32(s+m,h,a),e.setUint32(s+y,p,a)}function Chi$1(e,s,o){return e&s^~e&o}function Maj$1(e,s,o){return e&s^e&o^s&o}class HashMD extends Hash$1{constructor(s,o,a,c){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=s,this.outputLen=o,this.padOffset=a,this.isLE=c,this.buffer=new Uint8Array(s),this.view=createView$1(this.buffer)}update(s){aexists(this),s=toBytes$2(s),abytes(s);const{view:o,buffer:a,blockLen:c}=this,u=s.length;for(let h=0;h<u;){const p=Math.min(c-this.pos,u-h);if(p===c){const m=createView$1(s);for(;c<=u-h;h+=c)this.process(m,h);continue}a.set(s.subarray(h,h+p),this.pos),this.pos+=p,h+=p,this.pos===c&&(this.process(o,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){aexists(this),aoutput(s,this),this.finished=!0;const{buffer:o,view:a,blockLen:c,isLE:u}=this;let{pos:h}=this;o[h++]=128,clean(this.buffer.subarray(h)),this.padOffset>c-h&&(this.process(a,0),h=0);for(let b=h;b<c;b++)o[b]=0;setBigUint64$1(a,c-8,BigInt(this.length*8),u),this.process(a,0);const p=createView$1(s),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=m/4,v=this.get();if(y>v.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<y;b++)p.setUint32(4*b,v[b],u)}digest(){const{buffer:s,outputLen:o}=this;this.digestInto(s);const a=s.slice(0,o);return this.destroy(),a}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:o,buffer:a,length:c,finished:u,destroyed:h,pos:p}=this;return s.destroyed=h,s.finished=u,s.length=c,s.pos=p,c%o&&s.buffer.set(a),s}clone(){return this._cloneInto()}}const SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_K$1=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends HashMD{constructor(s=32){super(64,s,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:s,B:o,C:a,D:c,E:u,F:h,G:p,H:m}=this;return[s,o,a,c,u,h,p,m]}set(s,o,a,c,u,h,p,m){this.A=s|0,this.B=o|0,this.C=a|0,this.D=c|0,this.E=u|0,this.F=h|0,this.G=p|0,this.H=m|0}process(s,o){for(let b=0;b<16;b++,o+=4)SHA256_W$1[b]=s.getUint32(o,!1);for(let b=16;b<64;b++){const w=SHA256_W$1[b-15],S=SHA256_W$1[b-2],P=rotr$1(w,7)^rotr$1(w,18)^w>>>3,R=rotr$1(S,17)^rotr$1(S,19)^S>>>10;SHA256_W$1[b]=R+SHA256_W$1[b-7]+P+SHA256_W$1[b-16]|0}let{A:a,B:c,C:u,D:h,E:p,F:m,G:y,H:v}=this;for(let b=0;b<64;b++){const w=rotr$1(p,6)^rotr$1(p,11)^rotr$1(p,25),S=v+w+Chi$1(p,m,y)+SHA256_K$1[b]+SHA256_W$1[b]|0,R=(rotr$1(a,2)^rotr$1(a,13)^rotr$1(a,22))+Maj$1(a,c,u)|0;v=y,y=m,m=p,p=h+S|0,h=u,u=c,c=a,a=S+R|0}a=a+this.A|0,c=c+this.B|0,u=u+this.C|0,h=h+this.D|0,p=p+this.E|0,m=m+this.F|0,y=y+this.G|0,v=v+this.H|0,this.set(a,c,u,h,p,m,y,v)}roundClean(){clean(SHA256_W$1)}destroy(){this.set(0,0,0,0,0,0,0,0),clean(this.buffer)}};const sha256$3=createHasher(()=>new SHA256$1),sha256$2=sha256$3;function sha256$1(e,s){return sha256$2(isHex$1(e,{strict:!1})?toBytes$3(e):e)}function commitmentToVersionedHash(e){const{commitment:s,version:o=1}=e,a=e.to??(typeof s=="string"?"hex":"bytes"),c=sha256$1(s);return c.set([o],0),a==="bytes"?c:bytesToHex$4(c)}function commitmentsToVersionedHashes(e){const{commitments:s,version:o}=e,a=e.to??(typeof s[0]=="string"?"hex":"bytes"),c=[];for(const u of s)c.push(commitmentToVersionedHash({commitment:u,to:a,version:o}));return c}const blobsPerTransaction=6,bytesPerFieldElement=32,fieldElementsPerBlob=4096,bytesPerBlob=bytesPerFieldElement*fieldElementsPerBlob,maxBytesPerTransaction=bytesPerBlob*blobsPerTransaction-1-1*fieldElementsPerBlob*blobsPerTransaction,versionedHashVersionKzg=1;class BlobSizeTooLargeError extends BaseError$5{constructor({maxSize:s,size:o}){super("Blob size is too large.",{metaMessages:[`Max: ${s} bytes`,`Given: ${o} bytes`],name:"BlobSizeTooLargeError"})}}class EmptyBlobError extends BaseError$5{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class InvalidVersionedHashSizeError extends BaseError$5{constructor({hash:s,size:o}){super(`Versioned hash "${s}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${o}`],name:"InvalidVersionedHashSizeError"})}}class InvalidVersionedHashVersionError extends BaseError$5{constructor({hash:s,version:o}){super(`Versioned hash "${s}" version is invalid.`,{metaMessages:[`Expected: ${versionedHashVersionKzg}`,`Received: ${o}`],name:"InvalidVersionedHashVersionError"})}}function toBlobs(e){const s=e.to??(typeof e.data=="string"?"hex":"bytes"),o=typeof e.data=="string"?hexToBytes$4(e.data):e.data,a=size$6(o);if(!a)throw new EmptyBlobError;if(a>maxBytesPerTransaction)throw new BlobSizeTooLargeError({maxSize:maxBytesPerTransaction,size:a});const c=[];let u=!0,h=0;for(;u;){const p=createCursor(new Uint8Array(bytesPerBlob));let m=0;for(;m<fieldElementsPerBlob;){const y=o.slice(h,h+(bytesPerFieldElement-1));if(p.pushByte(0),p.pushBytes(y),y.length<31){p.pushByte(128),u=!1;break}m++,h+=31}c.push(p)}return s==="bytes"?c.map(p=>p.bytes):c.map(p=>bytesToHex$4(p.bytes))}function toBlobSidecars(e){const{data:s,kzg:o,to:a}=e,c=e.blobs??toBlobs({data:s,to:a}),u=e.commitments??blobsToCommitments({blobs:c,kzg:o,to:a}),h=e.proofs??blobsToProofs({blobs:c,commitments:u,kzg:o,to:a}),p=[];for(let m=0;m<c.length;m++)p.push({blob:c[m],commitment:u[m],proof:h[m]});return p}function getTransactionType(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:e})}const defaultParameters=["blobVersionedHashes","chainId","fees","gas","nonce","type"],eip1559NetworkCache=new Map;async function prepareTransactionRequest(e,s){const{account:o=e.account,blobs:a,chain:c,gas:u,kzg:h,nonce:p,nonceManager:m,parameters:y=defaultParameters,type:v}=s,b=o&&parseAccount(o),w={...s,...b?{from:b==null?void 0:b.address}:{}};let S;async function P(){return S||(S=await getAction$1(e,getBlock,"getBlock")({blockTag:"latest"}),S)}let R;async function T(){return R||(c?c.id:typeof s.chainId<"u"?s.chainId:(R=await getAction$1(e,getChainId$1,"getChainId")({}),R))}if(y.includes("nonce")&&typeof p>"u"&&b)if(m){const k=await T();w.nonce=await m.consume({address:b.address,chainId:k,client:e})}else w.nonce=await getAction$1(e,getTransactionCount,"getTransactionCount")({address:b.address,blockTag:"pending"});if((y.includes("blobVersionedHashes")||y.includes("sidecars"))&&a&&h){const k=blobsToCommitments({blobs:a,kzg:h});if(y.includes("blobVersionedHashes")){const or=commitmentsToVersionedHashes({commitments:k,to:"hex"});w.blobVersionedHashes=or}if(y.includes("sidecars")){const or=blobsToProofs({blobs:a,commitments:k,kzg:h}),dr=toBlobSidecars({blobs:a,commitments:k,proofs:or,to:"hex"});w.sidecars=dr}}if(y.includes("chainId")&&(w.chainId=await T()),(y.includes("fees")||y.includes("type"))&&typeof v>"u")try{w.type=getTransactionType(w)}catch{let k=eip1559NetworkCache.get(e.uid);if(typeof k>"u"){const or=await P();k=typeof(or==null?void 0:or.baseFeePerGas)=="bigint",eip1559NetworkCache.set(e.uid,k)}w.type=k?"eip1559":"legacy"}if(y.includes("fees"))if(w.type!=="legacy"&&w.type!=="eip2930"){if(typeof w.maxFeePerGas>"u"||typeof w.maxPriorityFeePerGas>"u"){const k=await P(),{maxFeePerGas:or,maxPriorityFeePerGas:dr}=await internal_estimateFeesPerGas(e,{block:k,chain:c,request:w});if(typeof s.maxPriorityFeePerGas>"u"&&s.maxFeePerGas&&s.maxFeePerGas<dr)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:dr});w.maxPriorityFeePerGas=dr,w.maxFeePerGas=or}}else{if(typeof s.maxFeePerGas<"u"||typeof s.maxPriorityFeePerGas<"u")throw new Eip1559FeesNotSupportedError;if(typeof s.gasPrice>"u"){const k=await P(),{gasPrice:or}=await internal_estimateFeesPerGas(e,{block:k,chain:c,request:w,type:"legacy"});w.gasPrice=or}}return y.includes("gas")&&typeof u>"u"&&(w.gas=await getAction$1(e,estimateGas,"estimateGas")({...w,account:b&&{address:b.address,type:"json-rpc"}})),assertRequest(w),delete w.parameters,w}async function sendRawTransaction(e,{serializedTransaction:s}){return e.request({method:"eth_sendRawTransaction",params:[s]},{retryCount:0})}const supportsWalletNamespace=new LruMap$1(128);async function sendTransaction(e,s){var or,dr,yr,lr;const{account:o=e.account,chain:a=e.chain,accessList:c,authorizationList:u,blobs:h,data:p,gas:m,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:S,type:P,value:R,...T}=s;if(typeof o>"u")throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const k=o?parseAccount(o):null;try{assertRequest(s);const br=await(async()=>{if(s.to)return s.to;if(s.to!==null&&u&&u.length>0)return await recoverAuthorizationAddress({authorization:u[0]}).catch(()=>{throw new BaseError$5("`to` is required. Could not infer from `authorizationList`.")})})();if((k==null?void 0:k.type)==="json-rpc"||k===null){let wr;a!==null&&(wr=await getAction$1(e,getChainId$1,"getChainId")({}),assertCurrentChain({currentChainId:wr,chain:a}));const Sr=(yr=(dr=(or=e.chain)==null?void 0:or.formatters)==null?void 0:dr.transactionRequest)==null?void 0:yr.format,Ir=(Sr||formatTransactionRequest)({...extract(T,{format:Sr}),accessList:c,authorizationList:u,blobs:h,chainId:wr,data:p,from:k==null?void 0:k.address,gas:m,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:S,to:br,type:P,value:R}),xr=supportsWalletNamespace.get(e.uid),C=xr?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:C,params:[Ir]},{retryCount:0})}catch(B){if(xr===!1)throw B;const ur=B;if(ur.name==="InvalidInputRpcError"||ur.name==="InvalidParamsRpcError"||ur.name==="MethodNotFoundRpcError"||ur.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[Ir]},{retryCount:0}).then(er=>(supportsWalletNamespace.set(e.uid,!0),er)).catch(er=>{const H=er;throw H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError"?(supportsWalletNamespace.set(e.uid,!1),ur):H});throw ur}}if((k==null?void 0:k.type)==="local"){const wr=await getAction$1(e,prepareTransactionRequest,"prepareTransactionRequest")({account:k,accessList:c,authorizationList:u,blobs:h,chain:a,data:p,gas:m,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:S,nonceManager:k.nonceManager,parameters:[...defaultParameters,"sidecars"],type:P,value:R,...T,to:br}),Sr=(lr=a==null?void 0:a.serializers)==null?void 0:lr.transaction,Rr=await k.signTransaction(wr,{serializer:Sr});return await getAction$1(e,sendRawTransaction,"sendRawTransaction")({serializedTransaction:Rr})}throw(k==null?void 0:k.type)==="smart"?new AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:k==null?void 0:k.type})}catch(br){throw br instanceof AccountTypeNotSupportedError?br:getTransactionError(br,{...s,account:k,chain:s.chain||void 0})}}function deployContract(e,s){const{abi:o,args:a,bytecode:c,...u}=s,h=encodeDeployData({abi:o,args:a,bytecode:c});return sendTransaction(e,{...u,...u.authorizationList?{to:null}:{},data:h})}const multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],batchGatewayAbi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function bytesToBigInt(e,s={}){typeof s.size<"u"&&assertSize$1(e,{size:s.size});const o=bytesToHex$4(e,s);return hexToBigInt$1(o,s)}function bytesToBool(e,s={}){let o=e;if(typeof s.size<"u"&&(assertSize$1(o,{size:s.size}),o=trim(o)),o.length>1||o[0]>1)throw new InvalidBytesBooleanError(o);return!!o[0]}function bytesToNumber$1(e,s={}){typeof s.size<"u"&&assertSize$1(e,{size:s.size});const o=bytesToHex$4(e,s);return hexToNumber$3(o,s)}function bytesToString(e,s={}){let o=e;return typeof s.size<"u"&&(assertSize$1(o,{size:s.size}),o=trim(o,{dir:"right"})),new TextDecoder().decode(o)}function decodeAbiParameters(e,s){const o=typeof s=="string"?hexToBytes$4(s):s,a=createCursor(o);if(size$6(o)===0&&e.length>0)throw new AbiDecodingZeroDataError;if(size$6(s)&&size$6(s)<32)throw new AbiDecodingDataSizeTooSmallError({data:typeof s=="string"?s:bytesToHex$4(s),params:e,size:size$6(s)});let c=0;const u=[];for(let h=0;h<e.length;++h){const p=e[h];a.setPosition(c);const[m,y]=decodeParameter(a,p,{staticPosition:0});c+=y,u.push(m)}return u}function decodeParameter(e,s,{staticPosition:o}){const a=getArrayComponents(s.type);if(a){const[c,u]=a;return decodeArray(e,{...s,type:u},{length:c,staticPosition:o})}if(s.type==="tuple")return decodeTuple(e,s,{staticPosition:o});if(s.type==="address")return decodeAddress(e);if(s.type==="bool")return decodeBool(e);if(s.type.startsWith("bytes"))return decodeBytes(e,s,{staticPosition:o});if(s.type.startsWith("uint")||s.type.startsWith("int"))return decodeNumber(e,s);if(s.type==="string")return decodeString(e,{staticPosition:o});throw new InvalidAbiDecodingTypeError(s.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const sizeOfLength=32,sizeOfOffset=32;function decodeAddress(e){const s=e.readBytes(32);return[checksumAddress$1(bytesToHex$4(sliceBytes(s,-20))),32]}function decodeArray(e,s,{length:o,staticPosition:a}){if(!o){const h=bytesToNumber$1(e.readBytes(sizeOfOffset)),p=a+h,m=p+sizeOfLength;e.setPosition(p);const y=bytesToNumber$1(e.readBytes(sizeOfLength)),v=hasDynamicChild(s);let b=0;const w=[];for(let S=0;S<y;++S){e.setPosition(m+(v?S*32:b));const[P,R]=decodeParameter(e,s,{staticPosition:m});b+=R,w.push(P)}return e.setPosition(a+32),[w,32]}if(hasDynamicChild(s)){const h=bytesToNumber$1(e.readBytes(sizeOfOffset)),p=a+h,m=[];for(let y=0;y<o;++y){e.setPosition(p+y*32);const[v]=decodeParameter(e,s,{staticPosition:p});m.push(v)}return e.setPosition(a+32),[m,32]}let c=0;const u=[];for(let h=0;h<o;++h){const[p,m]=decodeParameter(e,s,{staticPosition:a+c});c+=m,u.push(p)}return[u,c]}function decodeBool(e){return[bytesToBool(e.readBytes(32),{size:32}),32]}function decodeBytes(e,s,{staticPosition:o}){const[a,c]=s.type.split("bytes");if(!c){const h=bytesToNumber$1(e.readBytes(32));e.setPosition(o+h);const p=bytesToNumber$1(e.readBytes(32));if(p===0)return e.setPosition(o+32),["0x",32];const m=e.readBytes(p);return e.setPosition(o+32),[bytesToHex$4(m),32]}return[bytesToHex$4(e.readBytes(Number.parseInt(c),32)),32]}function decodeNumber(e,s){const o=s.type.startsWith("int"),a=Number.parseInt(s.type.split("int")[1]||"256"),c=e.readBytes(32);return[a>48?bytesToBigInt(c,{signed:o}):bytesToNumber$1(c,{signed:o}),32]}function decodeTuple(e,s,{staticPosition:o}){const a=s.components.length===0||s.components.some(({name:h})=>!h),c=a?[]:{};let u=0;if(hasDynamicChild(s)){const h=bytesToNumber$1(e.readBytes(sizeOfOffset)),p=o+h;for(let m=0;m<s.components.length;++m){const y=s.components[m];e.setPosition(p+u);const[v,b]=decodeParameter(e,y,{staticPosition:p});u+=b,c[a?m:y==null?void 0:y.name]=v}return e.setPosition(o+32),[c,32]}for(let h=0;h<s.components.length;++h){const p=s.components[h],[m,y]=decodeParameter(e,p,{staticPosition:o});c[a?h:p==null?void 0:p.name]=m,u+=y}return[c,u]}function decodeString(e,{staticPosition:s}){const o=bytesToNumber$1(e.readBytes(32)),a=s+o;e.setPosition(a);const c=bytesToNumber$1(e.readBytes(32));if(c===0)return e.setPosition(s+32),["",32];const u=e.readBytes(c,32),h=bytesToString(trim(u));return e.setPosition(s+32),[h,32]}function hasDynamicChild(e){var a;const{type:s}=e;if(s==="string"||s==="bytes"||s.endsWith("[]"))return!0;if(s==="tuple")return(a=e.components)==null?void 0:a.some(hasDynamicChild);const o=getArrayComponents(e.type);return!!(o&&hasDynamicChild({...e,type:o[1]}))}const hash$2=e=>keccak256$1(toBytes$3(e));function hashSignature(e){return hash$2(e)}const version$5="1.0.8";let BaseError$4=class Hd extends Error{constructor(s,o={}){var h;const a=o.cause instanceof Hd?o.cause.details:(h=o.cause)!=null&&h.message?o.cause.message:o.details,c=o.cause instanceof Hd&&o.cause.docsPath||o.docsPath,u=[s||"An error occurred.","",...o.metaMessages?[...o.metaMessages,""]:[],...c?[`Docs: https://abitype.dev${c}`]:[],...a?[`Details: ${a}`]:[],`Version: abitype@${version$5}`].join(`
`);super(u),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),o.cause&&(this.cause=o.cause),this.details=a,this.docsPath=c,this.metaMessages=o.metaMessages,this.shortMessage=s}};function execTyped(e,s){const o=e.exec(s);return o==null?void 0:o.groups}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,tupleRegex=/^tuple(?<array>(\[(\d*)\])*)$/;function formatAbiParameter(e){let s=e.type;if(tupleRegex.test(e.type)&&"components"in e){s="(";const o=e.components.length;for(let c=0;c<o;c++){const u=e.components[c];s+=formatAbiParameter(u),c<o-1&&(s+=", ")}const a=execTyped(tupleRegex,e.type);return s+=`)${(a==null?void 0:a.array)??""}`,formatAbiParameter({...e,type:s})}return"indexed"in e&&e.indexed&&(s=`${s} indexed`),e.name?`${s} ${e.name}`:s}function formatAbiParameters(e){let s="";const o=e.length;for(let a=0;a<o;a++){const c=e[a];s+=formatAbiParameter(c),a!==o-1&&(s+=", ")}return s}function formatAbiItem(e){var s;return e.type==="function"?`function ${e.name}(${formatAbiParameters(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(s=e.outputs)!=null&&s.length?` returns (${formatAbiParameters(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${formatAbiParameters(e.inputs)})`:e.type==="error"?`error ${e.name}(${formatAbiParameters(e.inputs)})`:e.type==="constructor"?`constructor(${formatAbiParameters(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(e){return errorSignatureRegex.test(e)}function execErrorSignature(e){return execTyped(errorSignatureRegex,e)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(e){return eventSignatureRegex.test(e)}function execEventSignature(e){return execTyped(eventSignatureRegex,e)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(e){return functionSignatureRegex.test(e)}function execFunctionSignature(e){return execTyped(functionSignatureRegex,e)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(e){return structSignatureRegex.test(e)}function execStructSignature(e){return execTyped(structSignatureRegex,e)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(e){return constructorSignatureRegex.test(e)}function execConstructorSignature(e){return execTyped(constructorSignatureRegex,e)}const fallbackSignatureRegex=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function isFallbackSignature(e){return fallbackSignatureRegex.test(e)}function execFallbackSignature(e){return execTyped(fallbackSignatureRegex,e)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(e){return receiveSignatureRegex.test(e)}const eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$4{constructor({type:s}){super("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$4{constructor({type:s}){super("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidParameterError extends BaseError$4{constructor({param:s}){super("Invalid ABI parameter.",{details:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$4{constructor({param:s,name:o}){super("Invalid ABI parameter.",{details:s,metaMessages:[`"${o}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$4{constructor({param:s,type:o,modifier:a}){super("Invalid ABI parameter.",{details:s,metaMessages:[`Modifier "${a}" not allowed${o?` in "${o}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$4{constructor({param:s,type:o,modifier:a}){super("Invalid ABI parameter.",{details:s,metaMessages:[`Modifier "${a}" not allowed${o?` in "${o}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${a}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$4{constructor({abiParameter:s}){super("Invalid ABI parameter.",{details:JSON.stringify(s,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$4{constructor({signature:s,type:o}){super(`Invalid ${o} signature.`,{details:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$4{constructor({signature:s}){super("Unknown signature.",{details:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$4{constructor({signature:s}){super("Invalid struct signature.",{details:s,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$4{constructor({type:s}){super("Circular reference detected.",{metaMessages:[`Struct "${s}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$4{constructor({current:s,depth:o}){super("Unbalanced parentheses.",{metaMessages:[`"${s.trim()}" has too many ${o>0?"opening":"closing"} parentheses.`],details:`Depth "${o}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(e,s,o){let a="";if(o)for(const c of Object.entries(o)){if(!c)continue;let u="";for(const h of c[1])u+=`[${h.type}${h.name?`:${h.name}`:""}]`;a+=`(${c[0]}{${u}})`}return s?`${s}:${e}${a}`:e}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(e,s={}){if(isFunctionSignature(e))return parseFunctionSignature(e,s);if(isEventSignature(e))return parseEventSignature(e,s);if(isErrorSignature(e))return parseErrorSignature(e,s);if(isConstructorSignature(e))return parseConstructorSignature(e,s);if(isFallbackSignature(e))return parseFallbackSignature(e);if(isReceiveSignature(e))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:e})}function parseFunctionSignature(e,s={}){const o=execFunctionSignature(e);if(!o)throw new InvalidSignatureError({signature:e,type:"function"});const a=splitParameters(o.parameters),c=[],u=a.length;for(let p=0;p<u;p++)c.push(parseAbiParameter(a[p],{modifiers:functionModifiers,structs:s,type:"function"}));const h=[];if(o.returns){const p=splitParameters(o.returns),m=p.length;for(let y=0;y<m;y++)h.push(parseAbiParameter(p[y],{modifiers:functionModifiers,structs:s,type:"function"}))}return{name:o.name,type:"function",stateMutability:o.stateMutability??"nonpayable",inputs:c,outputs:h}}function parseEventSignature(e,s={}){const o=execEventSignature(e);if(!o)throw new InvalidSignatureError({signature:e,type:"event"});const a=splitParameters(o.parameters),c=[],u=a.length;for(let h=0;h<u;h++)c.push(parseAbiParameter(a[h],{modifiers:eventModifiers,structs:s,type:"event"}));return{name:o.name,type:"event",inputs:c}}function parseErrorSignature(e,s={}){const o=execErrorSignature(e);if(!o)throw new InvalidSignatureError({signature:e,type:"error"});const a=splitParameters(o.parameters),c=[],u=a.length;for(let h=0;h<u;h++)c.push(parseAbiParameter(a[h],{structs:s,type:"error"}));return{name:o.name,type:"error",inputs:c}}function parseConstructorSignature(e,s={}){const o=execConstructorSignature(e);if(!o)throw new InvalidSignatureError({signature:e,type:"constructor"});const a=splitParameters(o.parameters),c=[],u=a.length;for(let h=0;h<u;h++)c.push(parseAbiParameter(a[h],{structs:s,type:"constructor"}));return{type:"constructor",stateMutability:o.stateMutability??"nonpayable",inputs:c}}function parseFallbackSignature(e){const s=execFallbackSignature(e);if(!s)throw new InvalidSignatureError({signature:e,type:"fallback"});return{type:"fallback",stateMutability:s.stateMutability??"nonpayable"}}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(e,s){var b,w;const o=getParameterCacheKey(e,s==null?void 0:s.type,s==null?void 0:s.structs);if(parameterCache.has(o))return parameterCache.get(o);const a=isTupleRegex.test(e),c=execTyped(a?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,e);if(!c)throw new InvalidParameterError({param:e});if(c.name&&isSolidityKeyword(c.name))throw new SolidityProtectedKeywordError({param:e,name:c.name});const u=c.name?{name:c.name}:{},h=c.modifier==="indexed"?{indexed:!0}:{},p=(s==null?void 0:s.structs)??{};let m,y={};if(a){m="tuple";const S=splitParameters(c.type),P=[],R=S.length;for(let T=0;T<R;T++)P.push(parseAbiParameter(S[T],{structs:p}));y={components:P}}else if(c.type in p)m="tuple",y={components:p[c.type]};else if(dynamicIntegerRegex.test(c.type))m=`${c.type}256`;else if(m=c.type,(s==null?void 0:s.type)!=="struct"&&!isSolidityType(m))throw new UnknownSolidityTypeError({type:m});if(c.modifier){if(!((w=(b=s==null?void 0:s.modifiers)==null?void 0:b.has)!=null&&w.call(b,c.modifier)))throw new InvalidModifierError({param:e,type:s==null?void 0:s.type,modifier:c.modifier});if(functionModifiers.has(c.modifier)&&!isValidDataLocation(m,!!c.array))throw new InvalidFunctionModifierError({param:e,type:s==null?void 0:s.type,modifier:c.modifier})}const v={type:`${m}${c.array??""}`,...u,...h,...y};return parameterCache.set(o,v),v}function splitParameters(e,s=[],o="",a=0){const c=e.trim().length;for(let u=0;u<c;u++){const h=e[u],p=e.slice(u+1);switch(h){case",":return a===0?splitParameters(p,[...s,o.trim()]):splitParameters(p,s,`${o}${h}`,a);case"(":return splitParameters(p,s,`${o}${h}`,a+1);case")":return splitParameters(p,s,`${o}${h}`,a-1);default:return splitParameters(p,s,`${o}${h}`,a)}}if(o==="")return s;if(a!==0)throw new InvalidParenthesisError({current:o,depth:a});return s.push(o.trim()),s}function isSolidityType(e){return e==="address"||e==="bool"||e==="function"||e==="string"||bytesRegex.test(e)||integerRegex.test(e)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||bytesRegex.test(e)||integerRegex.test(e)||protectedKeywordsRegex.test(e)}function isValidDataLocation(e,s){return s||e==="bytes"||e==="string"||e==="tuple"}function parseStructs(e){const s={},o=e.length;for(let h=0;h<o;h++){const p=e[h];if(!isStructSignature(p))continue;const m=execStructSignature(p);if(!m)throw new InvalidSignatureError({signature:p,type:"struct"});const y=m.properties.split(";"),v=[],b=y.length;for(let w=0;w<b;w++){const P=y[w].trim();if(!P)continue;const R=parseAbiParameter(P,{type:"struct"});v.push(R)}if(!v.length)throw new InvalidStructSignatureError({signature:p});s[m.name]=v}const a={},c=Object.entries(s),u=c.length;for(let h=0;h<u;h++){const[p,m]=c[h];a[p]=resolveStructs(m,s)}return a}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(e,s,o=new Set){const a=[],c=e.length;for(let u=0;u<c;u++){const h=e[u];if(isTupleRegex.test(h.type))a.push(h);else{const m=execTyped(typeWithoutTupleRegex,h.type);if(!(m!=null&&m.type))throw new InvalidAbiTypeParameterError({abiParameter:h});const{array:y,type:v}=m;if(v in s){if(o.has(v))throw new CircularReferenceError({type:v});a.push({...h,type:`tuple${y??""}`,components:resolveStructs(s[v]??[],s,new Set([...o,v]))})}else if(isSolidityType(v))a.push(h);else throw new UnknownTypeError({type:v})}}return a}function parseAbi(e){const s=parseStructs(e),o=[],a=e.length;for(let c=0;c<a;c++){const u=e[c];isStructSignature(u)||o.push(parseSignature(u,s))}return o}function normalizeSignature$1(e){let s=!0,o="",a=0,c="",u=!1;for(let h=0;h<e.length;h++){const p=e[h];if(["(",")",","].includes(p)&&(s=!0),p==="("&&a++,p===")"&&a--,!!s){if(a===0){if(p===" "&&["event","function",""].includes(c))c="";else if(c+=p,p===")"){u=!0;break}continue}if(p===" "){e[h-1]!==","&&o!==","&&o!==",("&&(o="",s=!1);continue}c+=p,o+=p}}if(!u)throw new BaseError$5("Unable to normalize signature.");return c}const toSignature=e=>{const s=typeof e=="string"?e:formatAbiItem(e);return normalizeSignature$1(s)};function toSignatureHash(e){return hashSignature(toSignature(e))}const toEventSelector=toSignatureHash,toFunctionSelector=e=>slice(toSignatureHash(e),0,4);function getAbiItem(e){const{abi:s,args:o=[],name:a}=e,c=isHex$1(a,{strict:!1}),u=s.filter(p=>c?p.type==="function"?toFunctionSelector(p)===a:p.type==="event"?toEventSelector(p)===a:!1:"name"in p&&p.name===a);if(u.length===0)return;if(u.length===1)return u[0];let h;for(const p of u){if(!("inputs"in p))continue;if(!o||o.length===0){if(!p.inputs||p.inputs.length===0)return p;continue}if(!p.inputs||p.inputs.length===0||p.inputs.length!==o.length)continue;if(o.every((y,v)=>{const b="inputs"in p&&p.inputs[v];return b?isArgOfType(y,b):!1})){if(h&&"inputs"in h&&h.inputs){const y=getAmbiguousTypes(p.inputs,h.inputs,o);if(y)throw new AbiItemAmbiguityError({abiItem:p,type:y[0]},{abiItem:h,type:y[1]})}h=p}}return h||u[0]}function isArgOfType(e,s){const o=typeof e,a=s.type;switch(a){case"address":return isAddress$1(e,{strict:!1});case"bool":return o==="boolean";case"function":return o==="string";case"string":return o==="string";default:return a==="tuple"&&"components"in s?Object.values(s.components).every((c,u)=>isArgOfType(Object.values(e)[u],c)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?o==="number"||o==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?o==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)?Array.isArray(e)&&e.every(c=>isArgOfType(c,{...s,type:a.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function getAmbiguousTypes(e,s,o){for(const a in e){const c=e[a],u=s[a];if(c.type==="tuple"&&u.type==="tuple"&&"components"in c&&"components"in u)return getAmbiguousTypes(c.components,u.components,o[a]);const h=[c.type,u.type];if(h.includes("address")&&h.includes("bytes20")?!0:h.includes("address")&&h.includes("string")?isAddress$1(o[a],{strict:!1}):h.includes("address")&&h.includes("bytes")?isAddress$1(o[a],{strict:!1}):!1)return h}}const docsPath$1="/docs/contract/decodeFunctionResult";function decodeFunctionResult(e){const{abi:s,args:o,functionName:a,data:c}=e;let u=s[0];if(a){const p=getAbiItem({abi:s,args:o,name:a});if(!p)throw new AbiFunctionNotFoundError(a,{docsPath:docsPath$1});u=p}if(u.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$1});if(!u.outputs)throw new AbiFunctionOutputsNotFoundError(u.name,{docsPath:docsPath$1});const h=decodeAbiParameters(u.outputs,c);if(h&&h.length>1)return h;if(h&&h.length===1)return h[0]}const docsPath="/docs/contract/encodeFunctionData";function prepareEncodeFunctionData(e){const{abi:s,args:o,functionName:a}=e;let c=s[0];if(a){const u=getAbiItem({abi:s,args:o,name:a});if(!u)throw new AbiFunctionNotFoundError(a,{docsPath});c=u}if(c.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath});return{abi:[c],functionName:toFunctionSelector(formatAbiItem$1(c))}}function encodeFunctionData(e){const{args:s}=e,{abi:o,functionName:a}=(()=>{var p;return e.abi.length===1&&((p=e.functionName)!=null&&p.startsWith("0x"))?e:prepareEncodeFunctionData(e)})(),c=o[0],u=a,h="inputs"in c&&c.inputs?encodeAbiParameters(c.inputs,s??[]):void 0;return concatHex$1([u,h??"0x"])}function getChainContractAddress({blockNumber:e,chain:s,contract:o}){var c;const a=(c=s==null?void 0:s.contracts)==null?void 0:c[o];if(!a)throw new ChainDoesNotSupportContract({chain:s,contract:{name:o}});if(e&&a.blockCreated&&a.blockCreated>e)throw new ChainDoesNotSupportContract({blockNumber:e,chain:s,contract:{name:o,blockCreated:a.blockCreated}});return a.address}const panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function decodeErrorResult(e){const{abi:s,data:o}=e,a=slice(o,0,4);if(a==="0x")throw new AbiDecodingZeroDataError;const u=[...s||[],solidityError,solidityPanic].find(h=>h.type==="error"&&a===toFunctionSelector(formatAbiItem$1(h)));if(!u)throw new AbiErrorSignatureNotFoundError(a,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?decodeAbiParameters(u.inputs,slice(o,4)):void 0,errorName:u.name}}function formatAbiItemWithArgs({abiItem:e,args:s,includeFunctionName:o=!0,includeName:a=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${o?e.name:""}(${e.inputs.map((c,u)=>`${a&&c.name?`${c.name}: `:""}${typeof s[u]=="object"?stringify(s[u]):s[u]}`).join(", ")})`}class CallExecutionError extends BaseError$5{constructor(s,{account:o,docsPath:a,chain:c,data:u,gas:h,gasPrice:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:b,value:w,stateOverride:S}){var T;const P=o?parseAccount(o):void 0;let R=prettyPrint({from:P==null?void 0:P.address,to:b,value:typeof w<"u"&&`${formatEther(w)} ${((T=c==null?void 0:c.nativeCurrency)==null?void 0:T.symbol)||"ETH"}`,data:u,gas:h,gasPrice:typeof p<"u"&&`${formatGwei(p)} gwei`,maxFeePerGas:typeof m<"u"&&`${formatGwei(m)} gwei`,maxPriorityFeePerGas:typeof y<"u"&&`${formatGwei(y)} gwei`,nonce:v});S&&(R+=`
${prettyStateOverride(S)}`),super(s.shortMessage,{cause:s,docsPath:a,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],"Raw Call Arguments:",R].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=s}}class ContractFunctionExecutionError extends BaseError$5{constructor(s,{abi:o,args:a,contractAddress:c,docsPath:u,functionName:h,sender:p}){const m=getAbiItem({abi:o,args:a,name:h}),y=m?formatAbiItemWithArgs({abiItem:m,args:a,includeFunctionName:!1,includeName:!1}):void 0,v=m?formatAbiItem$1(m,{includeName:!0}):void 0,b=prettyPrint({address:c&&getContractAddress(c),function:v,args:y&&y!=="()"&&`${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${y}`,sender:p});super(s.shortMessage||`An unknown error occurred while executing the contract function "${h}".`,{cause:s,docsPath:u,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],b&&"Contract Call:",b].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=o,this.args=a,this.cause=s,this.contractAddress=c,this.functionName=h,this.sender=p}}class ContractFunctionRevertedError extends BaseError$5{constructor({abi:s,data:o,functionName:a,message:c}){let u,h,p,m;if(o&&o!=="0x")try{h=decodeErrorResult({abi:s,data:o});const{abiItem:v,errorName:b,args:w}=h;if(b==="Error")m=w[0];else if(b==="Panic"){const[S]=w;m=panicReasons[S]}else{const S=v?formatAbiItem$1(v,{includeName:!0}):void 0,P=v&&w?formatAbiItemWithArgs({abiItem:v,args:w,includeFunctionName:!1,includeName:!1}):void 0;p=[S?`Error: ${S}`:"",P&&P!=="()"?`       ${[...Array((b==null?void 0:b.length)??0).keys()].map(()=>" ").join("")}${P}`:""]}}catch(v){u=v}else c&&(m=c);let y;u instanceof AbiErrorSignatureNotFoundError&&(y=u.signature,p=[`Unable to decode signature "${y}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${y}.`]),super(m&&m!=="execution reverted"||y?[`The contract function "${a}" reverted with the following ${y?"signature":"reason"}:`,m||y].join(`
`):`The contract function "${a}" reverted.`,{cause:u,metaMessages:p,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=h,this.raw=o,this.reason=m,this.signature=y}}class ContractFunctionZeroDataError extends BaseError$5{constructor({functionName:s}){super(`The contract function "${s}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${s}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class CounterfactualDeploymentFailedError extends BaseError$5{constructor({factory:s}){super(`Deployment for counterfactual contract call failed${s?` for factory "${s}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class RawContractError extends BaseError$5{constructor({data:s,message:o}){super(o||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s}}function isNullUniversalResolverError(e,s){var a,c,u,h,p,m;if(!(e instanceof BaseError$5))return!1;const o=e.walk(y=>y instanceof ContractFunctionRevertedError);return o instanceof ContractFunctionRevertedError?!!(((a=o.data)==null?void 0:a.errorName)==="ResolverNotFound"||((c=o.data)==null?void 0:c.errorName)==="ResolverWildcardNotSupported"||((u=o.data)==null?void 0:u.errorName)==="ResolverNotContract"||((h=o.data)==null?void 0:h.errorName)==="ResolverError"||((p=o.data)==null?void 0:p.errorName)==="HttpError"||(m=o.reason)!=null&&m.includes("Wildcard on non-extended resolvers is not supported")||o.reason===panicReasons[50]):!1}function encodedLabelToLabelhash(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const s=`0x${e.slice(1,65)}`;return isHex$1(s)?s:null}function encodeLabelhash(e){return`[${e.slice(2)}]`}function labelhash(e){const s=new Uint8Array(32).fill(0);return e?encodedLabelToLabelhash(e)||keccak256$1(stringToBytes$1(e)):bytesToHex$4(s)}function packetToBytes(e){const s=e.replace(/^\.|\.$/gm,"");if(s.length===0)return new Uint8Array(1);const o=new Uint8Array(stringToBytes$1(s).byteLength+2);let a=0;const c=s.split(".");for(let u=0;u<c.length;u++){let h=stringToBytes$1(c[u]);h.byteLength>255&&(h=stringToBytes$1(encodeLabelhash(labelhash(c[u])))),o[a]=h.length,o.set(h,a+1),a+=h.length+1}return o.byteLength!==a+1?o.slice(0,a+1):o}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(e,{abi:s,address:o,args:a,docsPath:c,functionName:u,sender:h}){const p=e instanceof RawContractError?e:e instanceof BaseError$5?e.walk(P=>"data"in P)||e.walk():{},{code:m,data:y,details:v,message:b,shortMessage:w}=p,S=e instanceof AbiDecodingZeroDataError?new ContractFunctionZeroDataError({functionName:u}):[EXECUTION_REVERTED_ERROR_CODE,InternalRpcError.code].includes(m)&&(y||v||b||w)?new ContractFunctionRevertedError({abi:s,data:typeof y=="object"?y.data:y,functionName:u,message:p instanceof RpcRequestError?v:w??b}):e;return new ContractFunctionExecutionError(S,{abi:s,args:a,contractAddress:o,docsPath:c,functionName:u,sender:h})}const version$4="0.1.1";function getVersion$3(){return version$4}let BaseError$3=class Vd extends Error{constructor(s,o={}){const a=(()=>{var m;if(o.cause instanceof Vd){if(o.cause.details)return o.cause.details;if(o.cause.shortMessage)return o.cause.shortMessage}return o.cause&&"details"in o.cause&&typeof o.cause.details=="string"?o.cause.details:(m=o.cause)!=null&&m.message?o.cause.message:o.details})(),c=o.cause instanceof Vd&&o.cause.docsPath||o.docsPath,h=`https://oxlib.sh${c??""}`,p=[s||"An error occurred.",...o.metaMessages?["",...o.metaMessages]:[],...a||c?["",a?`Details: ${a}`:void 0,c?`See: ${h}`:void 0]:[]].filter(m=>typeof m=="string").join(`
`);super(p,o.cause?{cause:o.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${getVersion$3()}`}),this.cause=o.cause,this.details=a,this.docs=h,this.docsPath=c,this.shortMessage=s}walk(s){return walk$1(this,s)}};function walk$1(e,s){return s!=null&&s(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?walk$1(e.cause,s):s?null:e}function pad$1(e,s={}){const{dir:o,size:a=32}=s;if(a===0)return e;const c=e.replace("0x","");if(c.length>a*2)throw new SizeExceedsPaddingSizeError$1({size:Math.ceil(c.length/2),targetSize:a,type:"Hex"});return`0x${c[o==="right"?"padEnd":"padStart"](a*2,"0")}`}function fromNumber$1(e,s={}){const{signed:o,size:a}=s,c=BigInt(e);let u;a?o?u=(1n<<BigInt(a)*8n-1n)-1n:u=2n**(BigInt(a)*8n)-1n:typeof e=="number"&&(u=BigInt(Number.MAX_SAFE_INTEGER));const h=typeof u=="bigint"&&o?-u-1n:0;if(u&&c>u||c<h){const y=typeof e=="bigint"?"n":"";throw new IntegerOutOfRangeError$1({max:u?`${u}${y}`:void 0,min:`${h}${y}`,signed:o,size:a,value:`${e}${y}`})}const m=`0x${(o&&c<0?(1n<<BigInt(a*8))+BigInt(c):c).toString(16)}`;return a?padLeft(m,a):m}function padLeft(e,s){return pad$1(e,{dir:"left",size:s})}let IntegerOutOfRangeError$1=class extends BaseError$3{constructor({max:s,min:o,signed:a,size:c,value:u}){super(`Number \`${u}\` is not in safe${c?` ${c*8}-bit`:""}${a?" signed":" unsigned"} integer range ${s?`(\`${o}\` to \`${s}\`)`:`(above \`${o}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},SizeExceedsPaddingSizeError$1=class extends BaseError$3{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (\`${s}\`) exceeds padding size (\`${o}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function toRpc$1(e){return{address:e.address,amount:fromNumber$1(e.amount),index:fromNumber$1(e.index),validatorIndex:fromNumber$1(e.validatorIndex)}}function toRpc(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:fromNumber$1(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:fromNumber$1(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:fromNumber$1(e.gasLimit)},...typeof e.number=="bigint"&&{number:fromNumber$1(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:fromNumber$1(e.prevRandao)},...typeof e.time=="bigint"&&{time:fromNumber$1(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(toRpc$1)}}}const aggregate3Signature="0x82ad56cb",deploylessCallViaBytecodeBytecode="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",deploylessCallViaFactoryBytecode="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function getCallError(e,{docsPath:s,...o}){const a=(()=>{const c=getNodeError(e,o);return c instanceof UnknownNodeError?e:c})();return new CallExecutionError(a,{docsPath:s,...o})}function withResolvers(){let e=()=>{},s=()=>{};return{promise:new Promise((a,c)=>{e=a,s=c}),resolve:e,reject:s}}const schedulerCache=new Map;function createBatchScheduler({fn:e,id:s,shouldSplitBatch:o,wait:a=0,sort:c}){const u=async()=>{const v=m();h();const b=v.map(({args:w})=>w);b.length!==0&&e(b).then(w=>{c&&Array.isArray(w)&&w.sort(c);for(let S=0;S<v.length;S++){const{resolve:P}=v[S];P==null||P([w[S],w])}}).catch(w=>{for(let S=0;S<v.length;S++){const{reject:P}=v[S];P==null||P(w)}})},h=()=>schedulerCache.delete(s),p=()=>m().map(({args:v})=>v),m=()=>schedulerCache.get(s)||[],y=v=>schedulerCache.set(s,[...m(),v]);return{flush:h,async schedule(v){const{promise:b,resolve:w,reject:S}=withResolvers();return(o==null?void 0:o([...p(),v]))&&u(),m().length>0?(y({args:v,resolve:w,reject:S}),b):(y({args:v,resolve:w,reject:S}),setTimeout(u,a),b)}}}async function call(e,s){var B,ur,er,H;const{account:o=e.account,authorizationList:a,batch:c=!!((B=e.batch)!=null&&B.multicall),blockNumber:u,blockTag:h="latest",accessList:p,blobs:m,blockOverrides:y,code:v,data:b,factory:w,factoryData:S,gas:P,gasPrice:R,maxFeePerBlobGas:T,maxFeePerGas:k,maxPriorityFeePerGas:or,nonce:dr,to:yr,value:lr,stateOverride:br,...wr}=s,Sr=o?parseAccount(o):void 0;if(v&&(w||S))throw new BaseError$5("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(v&&yr)throw new BaseError$5("Cannot provide both `code` & `to` as parameters.");const Rr=v&&b,Ir=w&&S&&yr&&b,xr=Rr||Ir,C=Rr?toDeploylessCallViaBytecodeData({code:v,data:b}):Ir?toDeploylessCallViaFactoryData({data:b,factory:w,factoryData:S,to:yr}):b;try{assertRequest(s);const hr=(typeof u=="bigint"?numberToHex$1(u):void 0)||h,mr=y?toRpc(y):void 0,$=serializeStateOverride(br),fr=(H=(er=(ur=e.chain)==null?void 0:ur.formatters)==null?void 0:er.transactionRequest)==null?void 0:H.format,Or=(fr||formatTransactionRequest)({...extract(wr,{format:fr}),from:Sr==null?void 0:Sr.address,accessList:p,authorizationList:a,blobs:m,data:C,gas:P,gasPrice:R,maxFeePerBlobGas:T,maxFeePerGas:k,maxPriorityFeePerGas:or,nonce:dr,to:xr?void 0:yr,value:lr});if(c&&shouldPerformMulticall({request:Or})&&!$&&!mr)try{return await scheduleMulticall(e,{...Or,blockNumber:u,blockTag:h})}catch(qr){if(!(qr instanceof ClientChainNotConfiguredError)&&!(qr instanceof ChainDoesNotSupportContract))throw qr}const jr=(()=>{const qr=[Or,hr];return $&&mr?[...qr,$,mr]:$?[...qr,$]:mr?[...qr,{},mr]:qr})(),Ur=await e.request({method:"eth_call",params:jr});return Ur==="0x"?{data:void 0}:{data:Ur}}catch(pr){const hr=getRevertErrorData(pr),{offchainLookup:mr,offchainLookupSignature:$}=await __vitePreload(async()=>{const{offchainLookup:fr,offchainLookupSignature:Ar}=await import("./ccip-DzjitSMY.js");return{offchainLookup:fr,offchainLookupSignature:Ar}},[]);if(e.ccipRead!==!1&&(hr==null?void 0:hr.slice(0,10))===$&&yr)return{data:await mr(e,{data:hr,to:yr})};throw xr&&(hr==null?void 0:hr.slice(0,10))==="0x101bb98d"?new CounterfactualDeploymentFailedError({factory:w}):getCallError(pr,{...s,account:Sr,chain:e.chain})}}function shouldPerformMulticall({request:e}){const{data:s,to:o,...a}=e;return!(!s||s.startsWith(aggregate3Signature)||!o||Object.values(a).filter(c=>typeof c<"u").length>0)}async function scheduleMulticall(e,s){var R;const{batchSize:o=1024,wait:a=0}=typeof((R=e.batch)==null?void 0:R.multicall)=="object"?e.batch.multicall:{},{blockNumber:c,blockTag:u="latest",data:h,multicallAddress:p,to:m}=s;let y=p;if(!y){if(!e.chain)throw new ClientChainNotConfiguredError;y=getChainContractAddress({blockNumber:c,chain:e.chain,contract:"multicall3"})}const b=(typeof c=="bigint"?numberToHex$1(c):void 0)||u,{schedule:w}=createBatchScheduler({id:`${e.uid}.${b}`,wait:a,shouldSplitBatch(T){return T.reduce((or,{data:dr})=>or+(dr.length-2),0)>o*2},fn:async T=>{const k=T.map(yr=>({allowFailure:!0,callData:yr.data,target:yr.to})),or=encodeFunctionData({abi:multicall3Abi,args:[k],functionName:"aggregate3"}),dr=await e.request({method:"eth_call",params:[{data:or,to:y},b]});return decodeFunctionResult({abi:multicall3Abi,args:[k],functionName:"aggregate3",data:dr||"0x"})}}),[{returnData:S,success:P}]=await w({data:h,to:m});if(!P)throw new RawContractError({data:S});return S==="0x"?{data:void 0}:{data:S}}function toDeploylessCallViaBytecodeData(e){const{code:s,data:o}=e;return encodeDeployData({abi:parseAbi(["constructor(bytes, bytes)"]),bytecode:deploylessCallViaBytecodeBytecode,args:[s,o]})}function toDeploylessCallViaFactoryData(e){const{data:s,factory:o,factoryData:a,to:c}=e;return encodeDeployData({abi:parseAbi(["constructor(address, bytes, address, bytes)"]),bytecode:deploylessCallViaFactoryBytecode,args:[c,s,o,a]})}function getRevertErrorData(e){var o;if(!(e instanceof BaseError$5))return;const s=e.walk();return typeof(s==null?void 0:s.data)=="object"?(o=s.data)==null?void 0:o.data:s.data}async function readContract(e,s){const{abi:o,address:a,args:c,functionName:u,...h}=s,p=encodeFunctionData({abi:o,args:c,functionName:u});try{const{data:m}=await getAction$1(e,call,"call")({...h,data:p,to:a});return decodeFunctionResult({abi:o,args:c,functionName:u,data:m||"0x"})}catch(m){throw getContractError(m,{abi:o,address:a,args:c,docsPath:"/docs/contract/readContract",functionName:u})}}async function getEnsName$1(e,{address:s,blockNumber:o,blockTag:a,gatewayUrls:c,strict:u,universalResolverAddress:h}){let p=h;if(!p){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");p=getChainContractAddress({blockNumber:o,chain:e.chain,contract:"ensUniversalResolver"})}const m=`${s.toLowerCase().substring(2)}.addr.reverse`;try{const y={address:p,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex$1(packetToBytes(m))],blockNumber:o,blockTag:a},v=getAction$1(e,readContract,"readContract"),[b,w]=c?await v({...y,args:[...y.args,c]}):await v(y);return s.toLowerCase()!==w.toLowerCase()?null:b}catch(y){if(u)throw y;if(isNullUniversalResolverError(y))return null;throw y}}function isAddressEqual$1(e,s){if(!isAddress$1(e,{strict:!1}))throw new InvalidAddressError$1({address:e});if(!isAddress$1(s,{strict:!1}))throw new InvalidAddressError$1({address:s});return e.toLowerCase()===s.toLowerCase()}function formatLog(e,{args:s,eventName:o}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...o?{args:s,eventName:o}:{}}}const receiptStatuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(e){const s={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(o=>formatLog(o)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?hexToNumber$3(e.transactionIndex):null,status:e.status?receiptStatuses[e.status]:null,type:e.type?transactionType[e.type]||e.type:null};return e.blobGasPrice&&(s.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(s.blobGasUsed=BigInt(e.blobGasUsed)),s}const defineTransactionReceipt=defineFormatter("transactionReceipt",formatTransactionReceipt),promiseCache=new LruMap$1(8192);function withDedupe(e,{enabled:s=!0,id:o}){if(!s||!o)return e();if(promiseCache.get(o))return promiseCache.get(o);const a=e().finally(()=>promiseCache.delete(o));return promiseCache.set(o,a),a}async function wait(e){return new Promise(s=>setTimeout(s,e))}function withRetry(e,{delay:s=100,retryCount:o=2,shouldRetry:a=()=>!0}={}){return new Promise((c,u)=>{const h=async({count:p=0}={})=>{const m=async({error:y})=>{const v=typeof s=="function"?s({count:p,error:y}):s;v&&await wait(v),h({count:p+1})};try{const y=await e();c(y)}catch(y){if(p<o&&await a({count:p,error:y}))return m({error:y});u(y)}};h()})}function buildRequest(e,s={}){return async(o,a={})=>{var b;const{dedupe:c=!1,methods:u,retryDelay:h=150,retryCount:p=3,uid:m}={...s,...a},{method:y}=o;if((b=u==null?void 0:u.exclude)!=null&&b.includes(y))throw new MethodNotSupportedRpcError(new Error("method not supported"),{method:y});if(u!=null&&u.include&&!u.include.includes(y))throw new MethodNotSupportedRpcError(new Error("method not supported"),{method:y});const v=c?stringToHex$1(`${m}.${stringify(o)}`):void 0;return withDedupe(()=>withRetry(async()=>{try{return await e(o)}catch(w){const S=w;switch(S.code){case ParseRpcError.code:throw new ParseRpcError(S);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(S);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(S,{method:o.method});case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(S);case InternalRpcError.code:throw new InternalRpcError(S);case InvalidInputRpcError.code:throw new InvalidInputRpcError(S);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(S);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(S);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(S);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(S,{method:o.method});case LimitExceededRpcError.code:throw new LimitExceededRpcError(S);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(S);case UserRejectedRequestError.code:throw new UserRejectedRequestError(S);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(S);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(S);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(S);case ChainDisconnectedError.code:throw new ChainDisconnectedError(S);case SwitchChainError.code:throw new SwitchChainError(S);case UnsupportedNonOptionalCapabilityError.code:throw new UnsupportedNonOptionalCapabilityError(S);case UnsupportedChainIdError.code:throw new UnsupportedChainIdError(S);case DuplicateIdError.code:throw new DuplicateIdError(S);case UnknownBundleIdError.code:throw new UnknownBundleIdError(S);case BundleTooLargeError.code:throw new BundleTooLargeError(S);case AtomicReadyWalletRejectedUpgradeError.code:throw new AtomicReadyWalletRejectedUpgradeError(S);case AtomicityNotSupportedError.code:throw new AtomicityNotSupportedError(S);case 5e3:throw new UserRejectedRequestError(S);default:throw w instanceof BaseError$5?w:new UnknownRpcError(S)}}},{delay:({count:w,error:S})=>{var P;if(S&&S instanceof HttpRequestError){const R=(P=S==null?void 0:S.headers)==null?void 0:P.get("Retry-After");if(R!=null&&R.match(/\d/))return Number.parseInt(R)*1e3}return~~(1<<w)*h},retryCount:p,shouldRetry:({error:w})=>shouldRetry(w)}),{enabled:c,id:v})}}function shouldRetry(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===LimitExceededRpcError.code||e.code===InternalRpcError.code:e instanceof HttpRequestError&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function defineChain(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function withTimeout(e,{errorInstance:s=new Error("timed out"),timeout:o,signal:a}){return new Promise((c,u)=>{(async()=>{let h;try{const p=new AbortController;o>0&&(h=setTimeout(()=>{a?p.abort():u(s)},o)),c(await e({signal:(p==null?void 0:p.signal)||null}))}catch(p){(p==null?void 0:p.name)==="AbortError"&&u(s),u(p)}finally{clearTimeout(h)}})()})}function createIdStore(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const idCache=createIdStore();function getHttpRpcClient(e,s={}){return{async request(o){var b;const{body:a,onRequest:c=s.onRequest,onResponse:u=s.onResponse,timeout:h=s.timeout??1e4}=o,p={...s.fetchOptions??{},...o.fetchOptions??{}},{headers:m,method:y,signal:v}=p;try{const w=await withTimeout(async({signal:P})=>{const R={...p,body:Array.isArray(a)?stringify(a.map(dr=>({jsonrpc:"2.0",id:dr.id??idCache.take(),...dr}))):stringify({jsonrpc:"2.0",id:a.id??idCache.take(),...a}),headers:{"Content-Type":"application/json",...m},method:y||"POST",signal:v||(h>0?P:null)},T=new Request(e,R),k=await(c==null?void 0:c(T,R))??{...R,url:e};return await fetch(k.url??e,k)},{errorInstance:new TimeoutError({body:a,url:e}),timeout:h,signal:!0});u&&await u(w);let S;if((b=w.headers.get("Content-Type"))!=null&&b.startsWith("application/json"))S=await w.json();else{S=await w.text();try{S=JSON.parse(S||"{}")}catch(P){if(w.ok)throw P;S={error:S}}}if(!w.ok)throw new HttpRequestError({body:a,details:stringify(S.error)||w.statusText,headers:w.headers,status:w.status,url:e});return S}catch(w){throw w instanceof HttpRequestError||w instanceof TimeoutError?w:new HttpRequestError({body:a,cause:w,url:e})}}}}class InvalidDomainError extends BaseError$5{constructor({domain:s}){super(`Invalid domain "${stringify(s)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class InvalidPrimaryTypeError extends BaseError$5{constructor({primaryType:s,types:o}){super(`Invalid primary type \`${s}\` must be one of \`${JSON.stringify(Object.keys(o))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class InvalidStructTypeError extends BaseError$5{constructor({type:s}){super(`Struct type "${s}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function serializeTypedData(e){const{domain:s,message:o,primaryType:a,types:c}=e,u=(m,y)=>{const v={...y};for(const b of m){const{name:w,type:S}=b;S==="address"&&(v[w]=v[w].toLowerCase())}return v},h=c.EIP712Domain?s?u(c.EIP712Domain,s):{}:{},p=(()=>{if(a!=="EIP712Domain")return u(c[a],o)})();return stringify({domain:h,message:p,primaryType:a,types:c})}function validateTypedData(e){const{domain:s,message:o,primaryType:a,types:c}=e,u=(h,p)=>{for(const m of h){const{name:y,type:v}=m,b=p[y],w=v.match(integerRegex$1);if(w&&(typeof b=="number"||typeof b=="bigint")){const[R,T,k]=w;numberToHex$1(b,{signed:T==="int",size:Number.parseInt(k)/8})}if(v==="address"&&typeof b=="string"&&!isAddress$1(b))throw new InvalidAddressError$1({address:b});const S=v.match(bytesRegex$1);if(S){const[R,T]=S;if(T&&size$6(b)!==Number.parseInt(T))throw new BytesSizeMismatchError({expectedSize:Number.parseInt(T),givenSize:size$6(b)})}const P=c[v];P&&(validateReference(v),u(P,b))}};if(c.EIP712Domain&&s){if(typeof s!="object")throw new InvalidDomainError({domain:s});u(c.EIP712Domain,s)}if(a!=="EIP712Domain")if(c[a])u(c[a],o);else throw new InvalidPrimaryTypeError({primaryType:a,types:c})}function getTypesForEIP712Domain({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function validateReference(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new InvalidStructTypeError({type:e})}function assertTransactionEIP7702(e){const{authorizationList:s}=e;if(s)for(const o of s){const{chainId:a}=o,c=o.address;if(!isAddress$1(c))throw new InvalidAddressError$1({address:c});if(a<0)throw new InvalidChainIdError({chainId:a})}assertTransactionEIP1559(e)}function assertTransactionEIP4844(e){const{blobVersionedHashes:s}=e;if(s){if(s.length===0)throw new EmptyBlobError;for(const o of s){const a=size$6(o),c=hexToNumber$3(slice(o,0,1));if(a!==32)throw new InvalidVersionedHashSizeError({hash:o,size:a});if(c!==versionedHashVersionKzg)throw new InvalidVersionedHashVersionError({hash:o,version:c})}}assertTransactionEIP1559(e)}function assertTransactionEIP1559(e){const{chainId:s,maxPriorityFeePerGas:o,maxFeePerGas:a,to:c}=e;if(s<=0)throw new InvalidChainIdError({chainId:s});if(c&&!isAddress$1(c))throw new InvalidAddressError$1({address:c});if(a&&a>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:a});if(o&&a&&o>a)throw new TipAboveFeeCapError({maxFeePerGas:a,maxPriorityFeePerGas:o})}function assertTransactionEIP2930(e){const{chainId:s,maxPriorityFeePerGas:o,gasPrice:a,maxFeePerGas:c,to:u}=e;if(s<=0)throw new InvalidChainIdError({chainId:s});if(u&&!isAddress$1(u))throw new InvalidAddressError$1({address:u});if(o||c)throw new BaseError$5("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(a&&a>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:a})}function assertTransactionLegacy(e){const{chainId:s,maxPriorityFeePerGas:o,gasPrice:a,maxFeePerGas:c,to:u}=e;if(u&&!isAddress$1(u))throw new InvalidAddressError$1({address:u});if(typeof s<"u"&&s<=0)throw new InvalidChainIdError({chainId:s});if(o||c)throw new BaseError$5("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(a&&a>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:a})}function serializeAccessList(e){if(!e||e.length===0)return[];const s=[];for(let o=0;o<e.length;o++){const{address:a,storageKeys:c}=e[o];for(let u=0;u<c.length;u++)if(c[u].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:c[u]});if(!isAddress$1(a,{strict:!1}))throw new InvalidAddressError$1({address:a});s.push([a,c])}return s}function serializeTransaction$1(e,s){const o=getTransactionType(e);return o==="eip1559"?serializeTransactionEIP1559(e,s):o==="eip2930"?serializeTransactionEIP2930(e,s):o==="eip4844"?serializeTransactionEIP4844(e,s):o==="eip7702"?serializeTransactionEIP7702(e,s):serializeTransactionLegacy(e,s)}function serializeTransactionEIP7702(e,s){const{authorizationList:o,chainId:a,gas:c,nonce:u,to:h,value:p,maxFeePerGas:m,maxPriorityFeePerGas:y,accessList:v,data:b}=e;assertTransactionEIP7702(e);const w=serializeAccessList(v),S=serializeAuthorizationList(o);return concatHex$1(["0x04",toRlp([numberToHex$1(a),u?numberToHex$1(u):"0x",y?numberToHex$1(y):"0x",m?numberToHex$1(m):"0x",c?numberToHex$1(c):"0x",h??"0x",p?numberToHex$1(p):"0x",b??"0x",w,S,...toYParitySignatureArray(e,s)])])}function serializeTransactionEIP4844(e,s){const{chainId:o,gas:a,nonce:c,to:u,value:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,accessList:v,data:b}=e;assertTransactionEIP4844(e);let w=e.blobVersionedHashes,S=e.sidecars;if(e.blobs&&(typeof w>"u"||typeof S>"u")){const dr=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(br=>bytesToHex$4(br)),yr=e.kzg,lr=blobsToCommitments({blobs:dr,kzg:yr});if(typeof w>"u"&&(w=commitmentsToVersionedHashes({commitments:lr})),typeof S>"u"){const br=blobsToProofs({blobs:dr,commitments:lr,kzg:yr});S=toBlobSidecars({blobs:dr,commitments:lr,proofs:br})}}const P=serializeAccessList(v),R=[numberToHex$1(o),c?numberToHex$1(c):"0x",y?numberToHex$1(y):"0x",m?numberToHex$1(m):"0x",a?numberToHex$1(a):"0x",u??"0x",h?numberToHex$1(h):"0x",b??"0x",P,p?numberToHex$1(p):"0x",w??[],...toYParitySignatureArray(e,s)],T=[],k=[],or=[];if(S)for(let dr=0;dr<S.length;dr++){const{blob:yr,commitment:lr,proof:br}=S[dr];T.push(yr),k.push(lr),or.push(br)}return concatHex$1(["0x03",toRlp(S?[R,T,k,or]:R)])}function serializeTransactionEIP1559(e,s){const{chainId:o,gas:a,nonce:c,to:u,value:h,maxFeePerGas:p,maxPriorityFeePerGas:m,accessList:y,data:v}=e;assertTransactionEIP1559(e);const b=serializeAccessList(y),w=[numberToHex$1(o),c?numberToHex$1(c):"0x",m?numberToHex$1(m):"0x",p?numberToHex$1(p):"0x",a?numberToHex$1(a):"0x",u??"0x",h?numberToHex$1(h):"0x",v??"0x",b,...toYParitySignatureArray(e,s)];return concatHex$1(["0x02",toRlp(w)])}function serializeTransactionEIP2930(e,s){const{chainId:o,gas:a,data:c,nonce:u,to:h,value:p,accessList:m,gasPrice:y}=e;assertTransactionEIP2930(e);const v=serializeAccessList(m),b=[numberToHex$1(o),u?numberToHex$1(u):"0x",y?numberToHex$1(y):"0x",a?numberToHex$1(a):"0x",h??"0x",p?numberToHex$1(p):"0x",c??"0x",v,...toYParitySignatureArray(e,s)];return concatHex$1(["0x01",toRlp(b)])}function serializeTransactionLegacy(e,s){const{chainId:o=0,gas:a,data:c,nonce:u,to:h,value:p,gasPrice:m}=e;assertTransactionLegacy(e);let y=[u?numberToHex$1(u):"0x",m?numberToHex$1(m):"0x",a?numberToHex$1(a):"0x",h??"0x",p?numberToHex$1(p):"0x",c??"0x"];if(s){const v=(()=>{if(s.v>=35n)return(s.v-35n)/2n>0?s.v:27n+(s.v===35n?0n:1n);if(o>0)return BigInt(o*2)+BigInt(35n+s.v-27n);const S=27n+(s.v===27n?0n:1n);if(s.v!==S)throw new InvalidLegacyVError({v:s.v});return S})(),b=trim(s.r),w=trim(s.s);y=[...y,numberToHex$1(v),b==="0x00"?"0x":b,w==="0x00"?"0x":w]}else o>0&&(y=[...y,numberToHex$1(o),"0x","0x"]);return toRlp(y)}function toYParitySignatureArray(e,s){const o=s??e,{v:a,yParity:c}=o;if(typeof o.r>"u")return[];if(typeof o.s>"u")return[];if(typeof a>"u"&&typeof c>"u")return[];const u=trim(o.r),h=trim(o.s);return[typeof c=="number"?c?numberToHex$1(1):"0x":a===0n?"0x":a===1n?numberToHex$1(1):a===27n?"0x":numberToHex$1(1),u==="0x00"?"0x":u,h==="0x00"?"0x":h]}function serializeAuthorizationList(e){if(!e||e.length===0)return[];const s=[];for(const o of e){const{chainId:a,nonce:c,...u}=o,h=o.address;s.push([a?toHex$1(a):"0x",h,c?toHex$1(c):"0x",...toYParitySignatureArray({},u)])}return s}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(e,s,o){const a=++callbackCount,c=()=>listenersCache.get(e)||[],u=()=>{const v=c();listenersCache.set(e,v.filter(b=>b.id!==a))},h=()=>{const v=c();if(!v.some(w=>w.id===a))return;const b=cleanupCache.get(e);if(v.length===1&&b){const w=b();w instanceof Promise&&w.catch(()=>{})}u()},p=c();if(listenersCache.set(e,[...p,{id:a,fns:s}]),p&&p.length>0)return h;const m={};for(const v in s)m[v]=(...b)=>{var S,P;const w=c();if(w.length!==0)for(const R of w)(P=(S=R.fns)[v])==null||P.call(S,...b)};const y=o(m);return typeof y=="function"&&cleanupCache.set(e,y),h}function poll(e,{emitOnBegin:s,initialWaitTime:o,interval:a}){let c=!0;const u=()=>c=!1;return(async()=>{let p;p=await e({unpoll:u});const m=await(o==null?void 0:o(p))??a;await wait(m);const y=async()=>{c&&(await e({unpoll:u}),await wait(a),y())};y()})(),u}async function getAddresses(e){var o;return((o=e.account)==null?void 0:o.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(a=>checksumAddress$1(a))}async function getPermissions(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function getCapabilities(e,s={}){const{account:o=e.account,chainId:a}=s,c=o?parseAccount(o):void 0,u=a?[c==null?void 0:c.address,[numberToHex$1(a)]]:[c==null?void 0:c.address],h=await e.request({method:"wallet_getCapabilities",params:u}),p={};for(const[m,y]of Object.entries(h)){p[Number(m)]={};for(let[v,b]of Object.entries(y))v==="addSubAccount"&&(v="unstable_addSubAccount"),p[Number(m)][v]=b}return typeof a=="number"?p[a]:p}const fallbackMagicIdentifier="0x5792579257925792579257925792579257925792579257925792579257925792",fallbackTransactionErrorMagicIdentifier=numberToHex$1(0,{size:32});async function sendCalls(e,s){const{account:o=e.account,capabilities:a,chain:c=e.chain,experimental_fallback:u,experimental_fallbackDelay:h=32,forceAtomic:p=!1,id:m,version:y="2.0.0"}=s,v=o?parseAccount(o):null,b=s.calls.map(w=>{const S=w;return{data:S.abi?encodeFunctionData({abi:S.abi,functionName:S.functionName,args:S.args}):S.data,to:S.to,value:S.value?numberToHex$1(S.value):void 0}});try{const w=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:p,calls:b,capabilities:a,chainId:numberToHex$1(c.id),from:v==null?void 0:v.address,id:m,version:y}]},{retryCount:0});return typeof w=="string"?{id:w}:w}catch(w){const S=w;if(u&&(S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"||S.name==="UnknownRpcError"||S.details.toLowerCase().includes("does not exist / is not available")||S.details.toLowerCase().includes("missing or invalid. request()")||S.details.toLowerCase().includes("did not match any variant of untagged enum")||S.details.toLowerCase().includes("account upgraded to unsupported contract")||S.details.toLowerCase().includes("eip-7702 not supported")||S.details.toLowerCase().includes("unsupported wc_ method"))){if(a&&Object.values(a).some(or=>!or.optional)){const or="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new UnsupportedNonOptionalCapabilityError(new BaseError$5(or,{details:or}))}if(p&&b.length>1){const k="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new AtomicityNotSupportedError(new BaseError$5(k,{details:k}))}const P=[];for(const k of b){const or=sendTransaction(e,{account:v,chain:c,data:k.data,to:k.to,value:k.value?hexToBigInt$1(k.value):void 0});P.push(or),h>0&&await new Promise(dr=>setTimeout(dr,h))}const R=await Promise.allSettled(P);if(R.every(k=>k.status==="rejected"))throw R[0].reason;const T=R.map(k=>k.status==="fulfilled"?k.value:fallbackTransactionErrorMagicIdentifier);return{id:concat$1([...T,numberToHex$1(c.id,{size:32}),fallbackMagicIdentifier])}}throw getTransactionError(w,{...s,account:v,chain:s.chain})}}async function getCallsStatus(e,s){async function o(v){if(v.endsWith(fallbackMagicIdentifier.slice(2))){const w=trim(sliceHex(v,-64,-32)),S=sliceHex(v,0,-64).slice(2).match(/.{1,64}/g),P=await Promise.all(S.map(T=>fallbackTransactionErrorMagicIdentifier.slice(2)!==T?e.request({method:"eth_getTransactionReceipt",params:[`0x${T}`]},{dedupe:!0}):void 0)),R=P.some(T=>T===null)?100:P.every(T=>(T==null?void 0:T.status)==="0x1")?200:P.every(T=>(T==null?void 0:T.status)==="0x0")?500:600;return{atomic:!1,chainId:hexToNumber$3(w),receipts:P.filter(Boolean),status:R,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[v]})}const{atomic:a=!1,chainId:c,receipts:u,version:h="2.0.0",...p}=await o(s.id),[m,y]=(()=>{const v=p.status;return v>=100&&v<200?["pending",v]:v>=200&&v<300?["success",v]:v>=300&&v<700?["failure",v]:v==="CONFIRMED"?["success",200]:v==="PENDING"?["pending",100]:[void 0,v]})();return{...p,atomic:a,chainId:c?hexToNumber$3(c):void 0,receipts:(u==null?void 0:u.map(v=>({...v,blockNumber:hexToBigInt$1(v.blockNumber),gasUsed:hexToBigInt$1(v.gasUsed),status:receiptStatuses[v.status]})))??[],statusCode:y,status:m,version:h}}async function showCallsStatus(e,s){const{id:o}=s;await e.request({method:"wallet_showCallsStatus",params:[o]})}async function waitForCallsStatus(e,s){const{id:o,pollingInterval:a=e.pollingInterval,status:c=({statusCode:w})=>w>=200,timeout:u=6e4}=s,h=stringify(["waitForCallsStatus",e.uid,o]),{promise:p,resolve:m,reject:y}=withResolvers();let v;const b=observe(h,{resolve:m,reject:y},w=>{const S=poll(async()=>{const P=R=>{clearTimeout(v),S(),R(),b()};try{const R=await getCallsStatus(e,{id:o});if(!c(R))return;P(()=>w.resolve(R))}catch(R){P(()=>w.reject(R))}},{interval:a,emitOnBegin:!0});return S});return v=u?setTimeout(()=>{b(),clearTimeout(v),y(new WaitForCallsStatusTimeoutError({id:o}))},u):void 0,await p}class WaitForCallsStatusTimeoutError extends BaseError$5{constructor({id:s}){super(`Timed out while waiting for call bundle with id "${s}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function requestAddresses(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(o=>getAddress$1(o))}async function requestPermissions(e,s){return e.request({method:"wallet_requestPermissions",params:[s]},{retryCount:0})}async function prepareAuthorization(e,s){var m;const{account:o=e.account,chainId:a,nonce:c}=s;if(!o)throw new AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});const u=parseAccount(o),h=(()=>{if(s.executor)return s.executor==="self"?s.executor:parseAccount(s.executor)})(),p={address:s.contractAddress??s.address,chainId:a,nonce:c};return typeof p.chainId>"u"&&(p.chainId=((m=e.chain)==null?void 0:m.id)??await getAction$1(e,getChainId$1,"getChainId")({})),typeof p.nonce>"u"&&(p.nonce=await getAction$1(e,getTransactionCount,"getTransactionCount")({address:u.address,blockTag:"pending"}),(h==="self"||h!=null&&h.address&&isAddressEqual$1(h.address,u.address))&&(p.nonce+=1)),p}async function signAuthorization(e,s){const{account:o=e.account}=s;if(!o)throw new AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});const a=parseAccount(o);if(!a.signAuthorization)throw new AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const c=await prepareAuthorization(e,s);return a.signAuthorization(c)}async function signTransaction(e,s){var y,v,b,w;const{account:o=e.account,chain:a=e.chain,...c}=s;if(!o)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const u=parseAccount(o);assertRequest({account:u,...s});const h=await getAction$1(e,getChainId$1,"getChainId")({});a!==null&&assertCurrentChain({currentChainId:h,chain:a});const p=(a==null?void 0:a.formatters)||((y=e.chain)==null?void 0:y.formatters),m=((v=p==null?void 0:p.transactionRequest)==null?void 0:v.format)||formatTransactionRequest;return u.signTransaction?u.signTransaction({...c,chainId:h},{serializer:(w=(b=e.chain)==null?void 0:b.serializers)==null?void 0:w.transaction}):await e.request({method:"eth_signTransaction",params:[{...m(c),chainId:numberToHex$1(h),from:u.address}]},{retryCount:0})}async function signMessage(e,{account:s=e.account,message:o}){if(!s)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const a=parseAccount(s);if(a.signMessage)return a.signMessage({message:o});const c=typeof o=="string"?stringToHex$1(o):o.raw instanceof Uint8Array?toHex$1(o.raw):o.raw;return e.request({method:"personal_sign",params:[c,a.address]},{retryCount:0})}async function signTypedData(e,s){const{account:o=e.account,domain:a,message:c,primaryType:u}=s;if(!o)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const h=parseAccount(o),p={EIP712Domain:getTypesForEIP712Domain({domain:a}),...s.types};if(validateTypedData({domain:a,message:c,primaryType:u,types:p}),h.signTypedData)return h.signTypedData({domain:a,message:c,primaryType:u,types:p});const m=serializeTypedData({domain:a,message:c,primaryType:u,types:p});return e.request({method:"eth_signTypedData_v4",params:[h.address,m]},{retryCount:0})}async function switchChain(e,{id:s}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex$1(s)}]},{retryCount:0})}async function watchAsset(e,s){return await e.request({method:"wallet_watchAsset",params:s},{retryCount:0})}async function writeContract(e,s){const{abi:o,account:a=e.account,address:c,args:u,dataSuffix:h,functionName:p,...m}=s;if(typeof a>"u")throw new AccountNotFoundError({docsPath:"/docs/contract/writeContract"});const y=a?parseAccount(a):null,v=encodeFunctionData({abi:o,args:u,functionName:p});try{return await getAction$1(e,sendTransaction,"sendTransaction")({data:`${v}${h?h.replace("0x",""):""}`,to:c,account:y,...m})}catch(b){throw getContractError(b,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:p,sender:y==null?void 0:y.address})}}function getAction(e,s,o){const a=e[s.name];if(typeof a=="function")return a;const c=e[o];return typeof c=="function"?c:u=>s(e,u)}const version$3="2.17.3",getVersion$2=()=>`@wagmi/core@${version$3}`;var __classPrivateFieldGet$1=function(e,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?e!==s||!a:!s.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(e):a?a.value:s.get(e)},_BaseError_instances,_BaseError_walk;let BaseError$2=class zd extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return getVersion$2()}constructor(s,o={}){var u;super(),_BaseError_instances.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const a=o.cause instanceof zd?o.cause.details:(u=o.cause)!=null&&u.message?o.cause.message:o.details,c=o.cause instanceof zd&&o.cause.docsPath||o.docsPath;this.message=[s||"An error occurred.","",...o.metaMessages?[...o.metaMessages,""]:[],...c?[`Docs: ${this.docsBaseUrl}${c}.html${o.docsSlug?`#${o.docsSlug}`:""}`]:[],...a?[`Details: ${a}`]:[],`Version: ${this.version}`].join(`
`),o.cause&&(this.cause=o.cause),this.details=a,this.docsPath=c,this.metaMessages=o.metaMessages,this.shortMessage=s}walk(s){return __classPrivateFieldGet$1(this,_BaseError_instances,"m",_BaseError_walk).call(this,this,s)}};_BaseError_instances=new WeakSet,_BaseError_walk=function e(s,o){return o!=null&&o(s)?s:s.cause?__classPrivateFieldGet$1(this,_BaseError_instances,"m",e).call(this,s.cause,o):s};class ChainNotConfiguredError extends BaseError$2{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class ConnectorAlreadyConnectedError extends BaseError$2{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class ConnectorNotConnectedError extends BaseError$2{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class ConnectorAccountNotFoundError extends BaseError$2{constructor({address:s,connector:o}){super(`Account "${s}" not found for connector "${o.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class ConnectorChainMismatchError extends BaseError$2{constructor({connectionChainId:s,connectorChainId:o}){super(`The current chain of the connector (id: ${o}) does not match the connection's chain (id: ${s}).`,{metaMessages:[`Current Chain ID:  ${o}`,`Expected Chain ID: ${s}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class ConnectorUnavailableReconnectingError extends BaseError$2{constructor({connector:s}){super(`Connector "${s.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function connect(e,s){var a;let o;if(typeof s.connector=="function"?o=e._internal.connectors.setup(s.connector):o=s.connector,o.uid===e.state.current)throw new ConnectorAlreadyConnectedError;try{e.setState(m=>({...m,status:"connecting"})),o.emitter.emit("message",{type:"connecting"});const{connector:c,...u}=s,h=await o.connect(u),p=h.accounts;return o.emitter.off("connect",e._internal.events.connect),o.emitter.on("change",e._internal.events.change),o.emitter.on("disconnect",e._internal.events.disconnect),await((a=e.storage)==null?void 0:a.setItem("recentConnectorId",o.id)),e.setState(m=>({...m,connections:new Map(m.connections).set(o.uid,{accounts:p,chainId:h.chainId,connector:o}),current:o.uid,status:"connected"})),{accounts:p,chainId:h.chainId}}catch(c){throw e.setState(u=>({...u,status:u.current?"connected":"disconnected"})),c}}const size$5=256;let index$2=size$5,buffer$1;function uid$1(e=11){if(!buffer$1||index$2+e>size$5*2){buffer$1="",index$2=0;for(let s=0;s<size$5;s++)buffer$1+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer$1.substring(index$2,index$2+++e)}function createClient(e){const{batch:s,chain:o,ccipRead:a,key:c="base",name:u="Base Client",type:h="base"}=e,p=(o==null?void 0:o.blockTime)??12e3,m=Math.min(Math.max(Math.floor(p/2),500),4e3),y=e.pollingInterval??m,v=e.cacheTime??y,b=e.account?parseAccount(e.account):void 0,{config:w,request:S,value:P}=e.transport({chain:o,pollingInterval:y}),R={...w,...P},T={account:b,batch:s,cacheTime:v,ccipRead:a,chain:o,key:c,name:u,pollingInterval:y,request:S,transport:R,type:h,uid:uid$1()};function k(or){return dr=>{const yr=dr(or);for(const br in T)delete yr[br];const lr={...or,...yr};return Object.assign(lr,{extend:k(lr)})}}return Object.assign(T,{extend:k(T)})}function createTransport({key:e,methods:s,name:o,request:a,retryCount:c=3,retryDelay:u=150,timeout:h,type:p},m){const y=uid$1();return{config:{key:e,methods:s,name:o,request:a,retryCount:c,retryDelay:u,timeout:h,type:p},request:buildRequest(a,{methods:s,retryCount:c,retryDelay:u,uid:y}),value:m}}function custom(e,s={}){const{key:o="custom",methods:a,name:c="Custom Provider",retryDelay:u}=s;return({retryCount:h})=>createTransport({key:o,methods:a,name:c,request:e.request.bind(e),retryCount:s.retryCount??h,retryDelay:u,type:"custom"})}class UrlRequiredError extends BaseError$5{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function http(e,s={}){const{batch:o,fetchOptions:a,key:c="http",methods:u,name:h="HTTP JSON-RPC",onFetchRequest:p,onFetchResponse:m,retryDelay:y,raw:v}=s;return({chain:b,retryCount:w,timeout:S})=>{const{batchSize:P=1e3,wait:R=0}=typeof o=="object"?o:{},T=s.retryCount??w,k=S??s.timeout??1e4,or=b==null?void 0:b.rpcUrls.default.http[0];if(!or)throw new UrlRequiredError;const dr=getHttpRpcClient(or,{fetchOptions:a,onRequest:p,onResponse:m,timeout:k});return createTransport({key:c,methods:u,name:h,async request({method:yr,params:lr}){const br={method:yr,params:lr},{schedule:wr}=createBatchScheduler({id:or,wait:R,shouldSplitBatch(xr){return xr.length>P},fn:xr=>dr.request({body:xr}),sort:(xr,C)=>xr.id-C.id}),Sr=async xr=>o?wr(xr):[await dr.request({body:xr})],[{error:Rr,result:Ir}]=await Sr(br);if(v)return{error:Rr,result:Ir};if(Rr)throw new RpcRequestError({body:br,error:Rr,url:or});return Ir},retryCount:T,retryDelay:y,timeout:k,type:"http"},{fetchOptions:a,url:or})}}function walletActions(e){return{addChain:s=>addChain(e,s),deployContract:s=>deployContract(e,s),getAddresses:()=>getAddresses(e),getCallsStatus:s=>getCallsStatus(e,s),getCapabilities:s=>getCapabilities(e,s),getChainId:()=>getChainId$1(e),getPermissions:()=>getPermissions(e),prepareAuthorization:s=>prepareAuthorization(e,s),prepareTransactionRequest:s=>prepareTransactionRequest(e,s),requestAddresses:()=>requestAddresses(e),requestPermissions:s=>requestPermissions(e,s),sendCalls:s=>sendCalls(e,s),sendRawTransaction:s=>sendRawTransaction(e,s),sendTransaction:s=>sendTransaction(e,s),showCallsStatus:s=>showCallsStatus(e,s),signAuthorization:s=>signAuthorization(e,s),signMessage:s=>signMessage(e,s),signTransaction:s=>signTransaction(e,s),signTypedData:s=>signTypedData(e,s),switchChain:s=>switchChain(e,s),waitForCallsStatus:s=>waitForCallsStatus(e,s),watchAsset:s=>watchAsset(e,s),writeContract:s=>writeContract(e,s)}}async function getConnectorClient(e,s={}){let o;if(s.connector){const{connector:y}=s;if(e.state.status==="reconnecting"&&!y.getAccounts&&!y.getChainId)throw new ConnectorUnavailableReconnectingError({connector:y});const[v,b]=await Promise.all([y.getAccounts().catch(w=>{if(s.account===null)return[];throw w}),y.getChainId()]);o={accounts:v,chainId:b,connector:y}}else o=e.state.connections.get(e.state.current);if(!o)throw new ConnectorNotConnectedError;const a=s.chainId??o.chainId,c=await o.connector.getChainId();if(c!==o.chainId)throw new ConnectorChainMismatchError({connectionChainId:o.chainId,connectorChainId:c});const u=o.connector;if(u.getClient)return u.getClient({chainId:a});const h=parseAccount(s.account??o.accounts[0]);if(h&&(h.address=getAddress$1(h.address)),s.account&&!o.accounts.some(y=>y.toLowerCase()===h.address.toLowerCase()))throw new ConnectorAccountNotFoundError({address:h.address,connector:u});const p=e.chains.find(y=>y.id===a),m=await o.connector.getProvider({chainId:a});return createClient({account:h,chain:p,name:"Connector Client",transport:y=>custom(m)({...y,retryCount:0})})}async function disconnect(e,s={}){var c,u;let o;if(s.connector)o=s.connector;else{const{connections:h,current:p}=e.state,m=h.get(p);o=m==null?void 0:m.connector}const a=e.state.connections;o&&(await o.disconnect(),o.emitter.off("change",e._internal.events.change),o.emitter.off("disconnect",e._internal.events.disconnect),o.emitter.on("connect",e._internal.events.connect),a.delete(o.uid)),e.setState(h=>{if(a.size===0)return{...h,connections:new Map,current:null,status:"disconnected"};const p=a.values().next().value;return{...h,connections:new Map(a),current:p.connector.uid}});{const h=e.state.current;if(!h)return;const p=(c=e.state.connections.get(h))==null?void 0:c.connector;if(!p)return;await((u=e.storage)==null?void 0:u.setItem("recentConnectorId",p.id))}}function getAccount(e){const s=e.state.current,o=e.state.connections.get(s),a=o==null?void 0:o.accounts,c=a==null?void 0:a[0],u=e.chains.find(p=>p.id===(o==null?void 0:o.chainId)),h=e.state.status;switch(h){case"connected":return{address:c,addresses:a,chain:u,chainId:o==null?void 0:o.chainId,connector:o==null?void 0:o.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:h};case"reconnecting":return{address:c,addresses:a,chain:u,chainId:o==null?void 0:o.chainId,connector:o==null?void 0:o.connector,isConnected:!!c,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:h};case"connecting":return{address:c,addresses:a,chain:u,chainId:o==null?void 0:o.chainId,connector:o==null?void 0:o.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:h};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:h}}}function getChainId(e){return e.state.chainId}function deepEqual$1(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;let o,a;if(Array.isArray(e)&&Array.isArray(s)){if(o=e.length,o!==s.length)return!1;for(a=o;a--!==0;)if(!deepEqual$1(e[a],s[a]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();const c=Object.keys(e);if(o=c.length,o!==Object.keys(s).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(s,c[a]))return!1;for(a=o;a--!==0;){const u=c[a];if(u&&!deepEqual$1(e[u],s[u]))return!1}return!0}return e!==e&&s!==s}let previousConnections=[];function getConnections(e){const s=[...e.state.connections.values()];return e.state.status==="reconnecting"||deepEqual$1(previousConnections,s)?previousConnections:(previousConnections=s,s)}let previousConnectors=[];function getConnectors(e){const s=e.connectors;return deepEqual$1(previousConnectors,s)?previousConnectors:(previousConnectors=s,s)}function getEnsName(e,s){const{chainId:o,...a}=s,c=e.getClient({chainId:o});return getAction(c,getEnsName$1,"getEnsName")(a)}async function getWalletClient(e,s={}){return(await getConnectorClient(e,s)).extend(walletActions)}let isReconnecting=!1;async function reconnect(e,s={}){var y,v;if(isReconnecting)return[];isReconnecting=!0,e.setState(b=>({...b,status:b.current?"reconnecting":"connecting"}));const o=[];if((y=s.connectors)!=null&&y.length)for(const b of s.connectors){let w;typeof b=="function"?w=e._internal.connectors.setup(b):w=b,o.push(w)}else o.push(...e.connectors);let a;try{a=await((v=e.storage)==null?void 0:v.getItem("recentConnectorId"))}catch{}const c={};for(const[,b]of e.state.connections)c[b.connector.id]=1;a&&(c[a]=0);const u=Object.keys(c).length>0?[...o].sort((b,w)=>(c[b.id]??10)-(c[w.id]??10)):o;let h=!1;const p=[],m=[];for(const b of u){const w=await b.getProvider().catch(()=>{});if(!w||m.some(R=>R===w)||!await b.isAuthorized())continue;const P=await b.connect({isReconnecting:!0}).catch(()=>null);P&&(b.emitter.off("connect",e._internal.events.connect),b.emitter.on("change",e._internal.events.change),b.emitter.on("disconnect",e._internal.events.disconnect),e.setState(R=>{const T=new Map(h?R.connections:new Map).set(b.uid,{accounts:P.accounts,chainId:P.chainId,connector:b});return{...R,current:h?R.current:b.uid,connections:T}}),p.push({accounts:P.accounts,chainId:P.chainId,connector:b}),m.push(w),h=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(h?e.setState(b=>({...b,status:"connected"})):e.setState(b=>({...b,connections:new Map,current:null,status:"disconnected"}))),isReconnecting=!1,p}class ProviderNotFoundError extends BaseError$2{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function watchAccount(e,s){const{onChange:o}=s;return e.subscribe(()=>getAccount(e),o,{equalityFn(a,c){const{connector:u,...h}=a,{connector:p,...m}=c;return deepEqual$1(h,m)&&(u==null?void 0:u.id)===(p==null?void 0:p.id)&&(u==null?void 0:u.uid)===(p==null?void 0:p.uid)}})}function watchChainId(e,s){const{onChange:o}=s;return e.subscribe(a=>a.chainId,o)}function watchConnections(e,s){const{onChange:o}=s;return e.subscribe(()=>getConnections(e),o,{equalityFn:deepEqual$1})}function watchConnectors(e,s){const{onChange:o}=s;return e._internal.connectors.subscribe((a,c)=>{o(Object.values(a),c)})}function createConnector(e){return e}injected.type="injected";function injected(e={}){const{shimDisconnect:s=!0,unstable_shimAsyncInject:o}=e;function a(){const m=e.target;if(typeof m=="function"){const y=m();if(y)return y}return typeof m=="object"?m:typeof m=="string"?{...targetMap[m]??{id:m,name:`${m[0].toUpperCase()}${m.slice(1)}`,provider:`is${m[0].toUpperCase()}${m.slice(1)}`}}:{id:"injected",name:"Injected",provider(y){return y==null?void 0:y.ethereum}}}let c,u,h,p;return m=>({get icon(){return a().icon},get id(){return a().id},get name(){return a().name},get supportsSimulation(){return!0},type:injected.type,async setup(){const y=await this.getProvider();y!=null&&y.on&&e.target&&(h||(h=this.onConnect.bind(this),y.on("connect",h)),c||(c=this.onAccountsChanged.bind(this),y.on("accountsChanged",c)))},async connect({chainId:y,isReconnecting:v}={}){var S,P,R,T,k,or;const b=await this.getProvider();if(!b)throw new ProviderNotFoundError;let w=[];if(v)w=await this.getAccounts().catch(()=>[]);else if(s)try{w=(T=(R=(P=(S=(await b.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:S.caveats)==null?void 0:P[0])==null?void 0:R.value)==null?void 0:T.map(yr=>getAddress$1(yr)),w.length>0&&(w=await this.getAccounts())}catch(dr){const yr=dr;if(yr.code===UserRejectedRequestError.code)throw new UserRejectedRequestError(yr);if(yr.code===ResourceUnavailableRpcError.code)throw yr}try{!(w!=null&&w.length)&&!v&&(w=(await b.request({method:"eth_requestAccounts"})).map(lr=>getAddress$1(lr))),h&&(b.removeListener("connect",h),h=void 0),c||(c=this.onAccountsChanged.bind(this),b.on("accountsChanged",c)),u||(u=this.onChainChanged.bind(this),b.on("chainChanged",u)),p||(p=this.onDisconnect.bind(this),b.on("disconnect",p));let dr=await this.getChainId();if(y&&dr!==y){const yr=await this.switchChain({chainId:y}).catch(lr=>{if(lr.code===UserRejectedRequestError.code)throw lr;return{id:dr}});dr=(yr==null?void 0:yr.id)??dr}return s&&await((k=m.storage)==null?void 0:k.removeItem(`${this.id}.disconnected`)),e.target||await((or=m.storage)==null?void 0:or.setItem("injected.connected",!0)),{accounts:w,chainId:dr}}catch(dr){const yr=dr;throw yr.code===UserRejectedRequestError.code?new UserRejectedRequestError(yr):yr.code===ResourceUnavailableRpcError.code?new ResourceUnavailableRpcError(yr):yr}},async disconnect(){var v,b;const y=await this.getProvider();if(!y)throw new ProviderNotFoundError;u&&(y.removeListener("chainChanged",u),u=void 0),p&&(y.removeListener("disconnect",p),p=void 0),h||(h=this.onConnect.bind(this),y.on("connect",h));try{await withTimeout(()=>y.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}s&&await((v=m.storage)==null?void 0:v.setItem(`${this.id}.disconnected`,!0)),e.target||await((b=m.storage)==null?void 0:b.removeItem("injected.connected"))},async getAccounts(){const y=await this.getProvider();if(!y)throw new ProviderNotFoundError;return(await y.request({method:"eth_accounts"})).map(b=>getAddress$1(b))},async getChainId(){const y=await this.getProvider();if(!y)throw new ProviderNotFoundError;const v=await y.request({method:"eth_chainId"});return Number(v)},async getProvider(){if(typeof window>"u")return;let y;const v=a();return typeof v.provider=="function"?y=v.provider(window):typeof v.provider=="string"?y=findProvider(window,v.provider):y=v.provider,y&&!y.removeListener&&("off"in y&&typeof y.off=="function"?y.removeListener=y.off:y.removeListener=()=>{}),y},async isAuthorized(){var y,v;try{if(s&&await((y=m.storage)==null?void 0:y.getItem(`${this.id}.disconnected`))||!e.target&&!await((v=m.storage)==null?void 0:v.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(o!==void 0&&o!==!1){const P=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",P),!!await this.getProvider()),R=typeof o=="number"?o:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(k=>window.addEventListener("ethereum#initialized",()=>k(P()),{once:!0}))]:[],new Promise(k=>setTimeout(()=>k(P()),R))]))return!0}throw new ProviderNotFoundError}return!!(await withRetry(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:y,chainId:v}){var P,R,T,k;const b=await this.getProvider();if(!b)throw new ProviderNotFoundError;const w=m.chains.find(or=>or.id===v);if(!w)throw new SwitchChainError(new ChainNotConfiguredError);const S=new Promise(or=>{const dr=yr=>{"chainId"in yr&&yr.chainId===v&&(m.emitter.off("change",dr),or())};m.emitter.on("change",dr)});try{return await Promise.all([b.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex$1(v)}]}).then(async()=>{await this.getChainId()===v&&m.emitter.emit("change",{chainId:v})}),S]),w}catch(or){const dr=or;if(dr.code===4902||((R=(P=dr==null?void 0:dr.data)==null?void 0:P.originalError)==null?void 0:R.code)===4902)try{const{default:yr,...lr}=w.blockExplorers??{};let br;y!=null&&y.blockExplorerUrls?br=y.blockExplorerUrls:yr&&(br=[yr.url,...Object.values(lr).map(Rr=>Rr.url)]);let wr;(T=y==null?void 0:y.rpcUrls)!=null&&T.length?wr=y.rpcUrls:wr=[((k=w.rpcUrls.default)==null?void 0:k.http[0])??""];const Sr={blockExplorerUrls:br,chainId:numberToHex$1(v),chainName:(y==null?void 0:y.chainName)??w.name,iconUrls:y==null?void 0:y.iconUrls,nativeCurrency:(y==null?void 0:y.nativeCurrency)??w.nativeCurrency,rpcUrls:wr};return await Promise.all([b.request({method:"wallet_addEthereumChain",params:[Sr]}).then(async()=>{if(await this.getChainId()===v)m.emitter.emit("change",{chainId:v});else throw new UserRejectedRequestError(new Error("User rejected switch after adding network."))}),S]),w}catch(yr){throw new UserRejectedRequestError(yr)}throw dr.code===UserRejectedRequestError.code?new UserRejectedRequestError(dr):new SwitchChainError(dr)}},async onAccountsChanged(y){var v;if(y.length===0)this.onDisconnect();else if(m.emitter.listenerCount("connect")){const b=(await this.getChainId()).toString();this.onConnect({chainId:b}),s&&await((v=m.storage)==null?void 0:v.removeItem(`${this.id}.disconnected`))}else m.emitter.emit("change",{accounts:y.map(b=>getAddress$1(b))})},onChainChanged(y){const v=Number(y);m.emitter.emit("change",{chainId:v})},async onConnect(y){const v=await this.getAccounts();if(v.length===0)return;const b=Number(y.chainId);m.emitter.emit("connect",{accounts:v,chainId:b});const w=await this.getProvider();w&&(h&&(w.removeListener("connect",h),h=void 0),c||(c=this.onAccountsChanged.bind(this),w.on("accountsChanged",c)),u||(u=this.onChainChanged.bind(this),w.on("chainChanged",u)),p||(p=this.onDisconnect.bind(this),w.on("disconnect",p)))},async onDisconnect(y){const v=await this.getProvider();y&&y.code===1013&&v&&(await this.getAccounts()).length||(m.emitter.emit("disconnect"),v&&(u&&(v.removeListener("chainChanged",u),u=void 0),p&&(v.removeListener("disconnect",p),p=void 0),h||(h=this.onConnect.bind(this),v.on("connect",h))))}})}const targetMap={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:findProvider(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return findProvider(e,s=>{if(!s.isMetaMask||s.isBraveWallet&&!s._events&&!s._state)return!1;const o=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const a of o)if(s[a])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var s,o;return(s=e==null?void 0:e.phantom)!=null&&s.ethereum?(o=e.phantom)==null?void 0:o.ethereum:findProvider(e,"isPhantom")}}};function findProvider(e,s){function o(c){return typeof s=="function"?s(c):typeof s=="string"?c[s]:!0}const a=e.ethereum;if(a!=null&&a.providers)return a.providers.find(c=>o(c));if(a&&o(a))return a}function requestProviders(e){if(typeof window>"u")return;const s=o=>e(o.detail);return window.addEventListener("eip6963:announceProvider",s),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",s)}function createStore$1(){const e=new Set;let s=[];const o=()=>requestProviders(c=>{s.some(({info:u})=>u.uuid===c.info.uuid)||(s=[...s,c],e.forEach(u=>u(s,{added:[c]})))});let a=o();return{_listeners(){return e},clear(){e.forEach(c=>c([],{removed:[...s]})),s=[]},destroy(){this.clear(),e.clear(),a==null||a()},findProvider({rdns:c}){return s.find(u=>u.info.rdns===c)},getProviders(){return s},reset(){this.clear(),a==null||a(),a=o()},subscribe(c,{emitImmediately:u}={}){return e.add(c),u&&c(s,{added:s}),()=>e.delete(c)}}}const subscribeWithSelectorImpl=e=>(s,o,a)=>{const c=a.subscribe;return a.subscribe=(h,p,m)=>{let y=h;if(p){const v=(m==null?void 0:m.equalityFn)||Object.is;let b=h(a.getState());y=w=>{const S=h(w);if(!v(b,S)){const P=b;p(b=S,P)}},m!=null&&m.fireImmediately&&p(b,b)}return c(y)},e(s,o,a)},subscribeWithSelector=subscribeWithSelectorImpl;function createJSONStorage(e,s){let o;try{o=e()}catch{return}return{getItem:c=>{var u;const h=m=>m===null?null:JSON.parse(m,void 0),p=(u=o.getItem(c))!=null?u:null;return p instanceof Promise?p.then(h):h(p)},setItem:(c,u)=>o.setItem(c,JSON.stringify(u,void 0)),removeItem:c=>o.removeItem(c)}}const toThenable=e=>s=>{try{const o=e(s);return o instanceof Promise?o:{then(a){return toThenable(a)(o)},catch(a){return this}}}catch(o){return{then(a){return this},catch(a){return toThenable(a)(o)}}}},persistImpl=(e,s)=>(o,a,c)=>{let u={storage:createJSONStorage(()=>localStorage),partialize:R=>R,version:0,merge:(R,T)=>({...T,...R}),...s},h=!1;const p=new Set,m=new Set;let y=u.storage;if(!y)return e((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),o(...R)},a,c);const v=()=>{const R=u.partialize({...a()});return y.setItem(u.name,{state:R,version:u.version})},b=c.setState;c.setState=(R,T)=>{b(R,T),v()};const w=e((...R)=>{o(...R),v()},a,c);c.getInitialState=()=>w;let S;const P=()=>{var R,T;if(!y)return;h=!1,p.forEach(or=>{var dr;return or((dr=a())!=null?dr:w)});const k=((T=u.onRehydrateStorage)==null?void 0:T.call(u,(R=a())!=null?R:w))||void 0;return toThenable(y.getItem.bind(y))(u.name).then(or=>{if(or)if(typeof or.version=="number"&&or.version!==u.version){if(u.migrate)return[!0,u.migrate(or.state,or.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,or.state];return[!1,void 0]}).then(or=>{var dr;const[yr,lr]=or;if(S=u.merge(lr,(dr=a())!=null?dr:w),o(S,!0),yr)return v()}).then(()=>{k==null||k(S,void 0),S=a(),h=!0,m.forEach(or=>or(S))}).catch(or=>{k==null||k(void 0,or)})};return c.persist={setOptions:R=>{u={...u,...R},R.storage&&(y=R.storage)},clearStorage:()=>{y==null||y.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>P(),hasHydrated:()=>h,onHydrate:R=>(p.add(R),()=>{p.delete(R)}),onFinishHydration:R=>(m.add(R),()=>{m.delete(R)})},u.skipHydration||P(),S||w},persist=persistImpl,createStoreImpl=e=>{let s;const o=new Set,a=(y,v)=>{const b=typeof y=="function"?y(s):y;if(!Object.is(b,s)){const w=s;s=v??(typeof b!="object"||b===null)?b:Object.assign({},s,b),o.forEach(S=>S(s,w))}},c=()=>s,p={setState:a,getState:c,getInitialState:()=>m,subscribe:y=>(o.add(y),()=>o.delete(y))},m=s=e(a,c,p);return p},createStore=e=>e?createStoreImpl(e):createStoreImpl;var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(e){var s=Object.prototype.hasOwnProperty,o="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(o=!1));function c(m,y,v){this.fn=m,this.context=y,this.once=v||!1}function u(m,y,v,b,w){if(typeof v!="function")throw new TypeError("The listener must be a function");var S=new c(v,b||m,w),P=o?o+y:y;return m._events[P]?m._events[P].fn?m._events[P]=[m._events[P],S]:m._events[P].push(S):(m._events[P]=S,m._eventsCount++),m}function h(m,y){--m._eventsCount===0?m._events=new a:delete m._events[y]}function p(){this._events=new a,this._eventsCount=0}p.prototype.eventNames=function(){var y=[],v,b;if(this._eventsCount===0)return y;for(b in v=this._events)s.call(v,b)&&y.push(o?b.slice(1):b);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(v)):y},p.prototype.listeners=function(y){var v=o?o+y:y,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var w=0,S=b.length,P=new Array(S);w<S;w++)P[w]=b[w].fn;return P},p.prototype.listenerCount=function(y){var v=o?o+y:y,b=this._events[v];return b?b.fn?1:b.length:0},p.prototype.emit=function(y,v,b,w,S,P){var R=o?o+y:y;if(!this._events[R])return!1;var T=this._events[R],k=arguments.length,or,dr;if(T.fn){switch(T.once&&this.removeListener(y,T.fn,void 0,!0),k){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,b),!0;case 4:return T.fn.call(T.context,v,b,w),!0;case 5:return T.fn.call(T.context,v,b,w,S),!0;case 6:return T.fn.call(T.context,v,b,w,S,P),!0}for(dr=1,or=new Array(k-1);dr<k;dr++)or[dr-1]=arguments[dr];T.fn.apply(T.context,or)}else{var yr=T.length,lr;for(dr=0;dr<yr;dr++)switch(T[dr].once&&this.removeListener(y,T[dr].fn,void 0,!0),k){case 1:T[dr].fn.call(T[dr].context);break;case 2:T[dr].fn.call(T[dr].context,v);break;case 3:T[dr].fn.call(T[dr].context,v,b);break;case 4:T[dr].fn.call(T[dr].context,v,b,w);break;default:if(!or)for(lr=1,or=new Array(k-1);lr<k;lr++)or[lr-1]=arguments[lr];T[dr].fn.apply(T[dr].context,or)}}return!0},p.prototype.on=function(y,v,b){return u(this,y,v,b,!1)},p.prototype.once=function(y,v,b){return u(this,y,v,b,!0)},p.prototype.removeListener=function(y,v,b,w){var S=o?o+y:y;if(!this._events[S])return this;if(!v)return h(this,S),this;var P=this._events[S];if(P.fn)P.fn===v&&(!w||P.once)&&(!b||P.context===b)&&h(this,S);else{for(var R=0,T=[],k=P.length;R<k;R++)(P[R].fn!==v||w&&!P[R].once||b&&P[R].context!==b)&&T.push(P[R]);T.length?this._events[S]=T.length===1?T[0]:T:h(this,S)}return this},p.prototype.removeAllListeners=function(y){var v;return y?(v=o?o+y:y,this._events[v]&&h(this,v)):(this._events=new a,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=o,p.EventEmitter=p,e.exports=p}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);class Emitter{constructor(s){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new EventEmitter})}on(s,o){this._emitter.on(s,o)}once(s,o){this._emitter.once(s,o)}off(s,o){this._emitter.off(s,o)}emit(s,...o){const a=o[0];this._emitter.emit(s,{uid:this.uid,...a})}listenerCount(s){return this._emitter.listenerCount(s)}}function createEmitter(e){return new Emitter(e)}function deserialize(e,s){return JSON.parse(e,(o,a)=>{let c=a;return(c==null?void 0:c.__type)==="bigint"&&(c=BigInt(c.value)),(c==null?void 0:c.__type)==="Map"&&(c=new Map(c.value)),(s==null?void 0:s(o,c))??c})}function getReferenceKey(e,s){return e.slice(0,s).join(".")||"."}function getCutoff(e,s){const{length:o}=e;for(let a=0;a<o;++a)if(e[a]===s)return a+1;return 0}function createReplacer(e,s){const o=typeof e=="function",a=typeof s=="function",c=[],u=[];return function(p,m){if(typeof m=="object")if(c.length){const y=getCutoff(c,this);y===0?c[c.length]=this:(c.splice(y),u.splice(y)),u[u.length]=p;const v=getCutoff(c,m);if(v!==0)return a?s.call(this,p,m,getReferenceKey(u,v)):`[ref=${getReferenceKey(u,v)}]`}else c[0]=m,u[0]=p;return o?e.call(this,p,m):m}}function serialize(e,s,o,a){return JSON.stringify(e,createReplacer((c,u)=>{let h=u;return typeof h=="bigint"&&(h={__type:"bigint",value:u.toString()}),h instanceof Map&&(h={__type:"Map",value:Array.from(u.entries())}),(s==null?void 0:s(c,h))??h},a),o??void 0)}function createStorage(e){const{deserialize:s=deserialize,key:o="wagmi",serialize:a=serialize,storage:c=noopStorage}=e;function u(h){return h instanceof Promise?h.then(p=>p).catch(()=>null):h}return{...c,key:o,async getItem(h,p){const m=c.getItem(`${o}.${h}`),y=await u(m);return y?s(y)??null:p??null},async setItem(h,p){const m=`${o}.${h}`;p===null?await u(c.removeItem(m)):await u(c.setItem(m,a(p)))},async removeItem(h){await u(c.removeItem(`${o}.${h}`))}}}const noopStorage={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function getDefaultStorage(){const e=typeof window<"u"&&window.localStorage?window.localStorage:noopStorage;return{getItem(s){return e.getItem(s)},removeItem(s){e.removeItem(s)},setItem(s,o){try{e.setItem(s,o)}catch{}}}}const size$4=256;let index$1=size$4,buffer;function uid(e=11){if(!buffer||index$1+e>size$4*2){buffer="",index$1=0;for(let s=0;s<size$4;s++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index$1,index$1+++e)}function createConfig(e){const{multiInjectedProviderDiscovery:s=!0,storage:o=createStorage({storage:getDefaultStorage()}),syncConnectedChain:a=!0,ssr:c=!1,...u}=e,h=typeof window<"u"&&s?createStore$1():void 0,p=createStore(()=>u.chains),m=createStore(()=>{const lr=[],br=new Set;for(const wr of u.connectors??[]){const Sr=y(wr);if(lr.push(Sr),!c&&Sr.rdns){const Rr=typeof Sr.rdns=="string"?[Sr.rdns]:Sr.rdns;for(const Ir of Rr)br.add(Ir)}}if(!c&&h){const wr=h.getProviders();for(const Sr of wr)br.has(Sr.info.rdns)||lr.push(y(v(Sr)))}return lr});function y(lr){var Sr;const br=createEmitter(uid()),wr={...lr({emitter:br,chains:p.getState(),storage:o,transports:u.transports}),emitter:br,uid:br.uid};return br.on("connect",dr),(Sr=wr.setup)==null||Sr.call(wr),wr}function v(lr){const{info:br}=lr,wr=lr.provider;return injected({target:{...br,id:br.rdns,provider:wr}})}const b=new Map;function w(lr={}){const br=lr.chainId??T.getState().chainId,wr=p.getState().find(Rr=>Rr.id===br);if(lr.chainId&&!wr)throw new ChainNotConfiguredError;{const Rr=b.get(T.getState().chainId);if(Rr&&!wr)return Rr;if(!wr)throw new ChainNotConfiguredError}{const Rr=b.get(br);if(Rr)return Rr}let Sr;if(u.client)Sr=u.client({chain:wr});else{const Rr=wr.id,Ir=p.getState().map(B=>B.id),xr={},C=Object.entries(u);for(const[B,ur]of C)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof ur=="object")if(Rr in ur)xr[B]=ur[Rr];else{if(Ir.some(H=>H in ur))continue;xr[B]=ur}else xr[B]=ur;Sr=createClient({...xr,chain:wr,batch:xr.batch??{multicall:!0},transport:B=>u.transports[Rr]({...B,connectors:m})})}return b.set(br,Sr),Sr}function S(){return{chainId:p.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let P;const R="0.0.0-canary-";version$3.startsWith(R)?P=Number.parseInt(version$3.replace(R,"")):P=Number.parseInt(version$3.split(".")[0]??"0");const T=createStore(subscribeWithSelector(o?persist(S,{migrate(lr,br){if(br===P)return lr;const wr=S(),Sr=k(lr,wr.chainId);return{...wr,chainId:Sr}},name:"store",partialize(lr){return{connections:{__type:"Map",value:Array.from(lr.connections.entries()).map(([br,wr])=>{const{id:Sr,name:Rr,type:Ir,uid:xr}=wr.connector;return[br,{...wr,connector:{id:Sr,name:Rr,type:Ir,uid:xr}}]})},chainId:lr.chainId,current:lr.current}},merge(lr,br){typeof lr=="object"&&lr&&"status"in lr&&delete lr.status;const wr=k(lr,br.chainId);return{...br,...lr,chainId:wr}},skipHydration:c,storage:o,version:P}):S));T.setState(S());function k(lr,br){return lr&&typeof lr=="object"&&"chainId"in lr&&typeof lr.chainId=="number"&&p.getState().some(wr=>wr.id===lr.chainId)?lr.chainId:br}a&&T.subscribe(({connections:lr,current:br})=>{var wr;return br?(wr=lr.get(br))==null?void 0:wr.chainId:void 0},lr=>{if(p.getState().some(wr=>wr.id===lr))return T.setState(wr=>({...wr,chainId:lr??wr.chainId}))}),h==null||h.subscribe(lr=>{const br=new Set,wr=new Set;for(const Rr of m.getState())if(br.add(Rr.id),Rr.rdns){const Ir=typeof Rr.rdns=="string"?[Rr.rdns]:Rr.rdns;for(const xr of Ir)wr.add(xr)}const Sr=[];for(const Rr of lr){if(wr.has(Rr.info.rdns))continue;const Ir=y(v(Rr));br.has(Ir.id)||Sr.push(Ir)}o&&!T.persist.hasHydrated()||m.setState(Rr=>[...Rr,...Sr],!0)});function or(lr){T.setState(br=>{const wr=br.connections.get(lr.uid);return wr?{...br,connections:new Map(br.connections).set(lr.uid,{accounts:lr.accounts??wr.accounts,chainId:lr.chainId??wr.chainId,connector:wr.connector})}:br})}function dr(lr){T.getState().status==="connecting"||T.getState().status==="reconnecting"||T.setState(br=>{const wr=m.getState().find(Sr=>Sr.uid===lr.uid);return wr?(wr.emitter.listenerCount("connect")&&wr.emitter.off("connect",or),wr.emitter.listenerCount("change")||wr.emitter.on("change",or),wr.emitter.listenerCount("disconnect")||wr.emitter.on("disconnect",yr),{...br,connections:new Map(br.connections).set(lr.uid,{accounts:lr.accounts,chainId:lr.chainId,connector:wr}),current:lr.uid,status:"connected"}):br})}function yr(lr){T.setState(br=>{const wr=br.connections.get(lr.uid);if(wr){const Rr=wr.connector;Rr.emitter.listenerCount("change")&&wr.connector.emitter.off("change",or),Rr.emitter.listenerCount("disconnect")&&wr.connector.emitter.off("disconnect",yr),Rr.emitter.listenerCount("connect")||wr.connector.emitter.on("connect",dr)}if(br.connections.delete(lr.uid),br.connections.size===0)return{...br,connections:new Map,current:null,status:"disconnected"};const Sr=br.connections.values().next().value;return{...br,connections:new Map(br.connections),current:Sr.connector.uid}})}return{get chains(){return p.getState()},get connectors(){return m.getState()},storage:o,getClient:w,get state(){return T.getState()},setState(lr){let br;typeof lr=="function"?br=lr(T.getState()):br=lr;const wr=S();typeof br!="object"&&(br=wr),Object.keys(wr).some(Rr=>!(Rr in br))&&(br=wr),T.setState(br,!0)},subscribe(lr,br,wr){return T.subscribe(lr,br,wr?{...wr,fireImmediately:wr.emitImmediately}:void 0)},_internal:{mipd:h,store:T,ssr:!!c,syncConnectedChain:a,transports:u.transports,chains:{setState(lr){const br=typeof lr=="function"?lr(p.getState()):lr;if(br.length!==0)return p.setState(br,!0)},subscribe(lr){return p.subscribe(lr)}},connectors:{providerDetailToConnector:v,setup:y,setState(lr){return m.setState(typeof lr=="function"?lr(m.getState()):lr,!0)},subscribe(lr){return m.subscribe(lr)}},events:{change:or,connect:dr,disconnect:yr}}}}function hydrate(e,s){const{initialState:o,reconnectOnMount:a}=s;return o&&!e._internal.store.persist.hasHydrated()&&e.setState({...o,chainId:e.chains.some(c=>c.id===o.chainId)?o.chainId:e.chains[0].id,connections:a?o.connections:new Map,status:a?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(c=>{var m;const u=new Set;for(const y of c??[])if(y.rdns){const v=Array.isArray(y.rdns)?y.rdns:[y.rdns];for(const b of v)u.add(b)}const h=[],p=((m=e._internal.mipd)==null?void 0:m.getProviders())??[];for(const y of p){if(u.has(y.info.rdns))continue;const v=e._internal.connectors.providerDetailToConnector(y),b=e._internal.connectors.setup(v);h.push(b)}return[...c,...h]})),a?reconnect(e):e.storage&&e.setState(c=>({...c,connections:new Map}))}}}function extractRpcUrls(e){var u,h,p;const{chain:s}=e,o=s.rpcUrls.default.http[0];if(!e.transports)return[o];const a=(h=(u=e.transports)==null?void 0:u[s.id])==null?void 0:h.call(u,{chain:s});return(((p=a==null?void 0:a.value)==null?void 0:p.transports)||[a]).map(({value:m})=>(m==null?void 0:m.url)||o)}function Hydrate(e){const{children:s,config:o,initialState:a,reconnectOnMount:c=!0}=e,{onMount:u}=hydrate(o,{initialState:a,reconnectOnMount:c});o._internal.ssr||u();const h=reactExports.useRef(!0);return reactExports.useEffect(()=>{if(h.current&&o._internal.ssr)return u(),()=>{h.current=!1}},[]),s}const WagmiContext=reactExports.createContext(void 0);function WagmiProvider(e){const{children:s,config:o}=e,a={value:o};return reactExports.createElement(Hydrate,e,reactExports.createElement(WagmiContext.Provider,a,s))}const version$2="2.15.6",getVersion$1=()=>`wagmi@${version$2}`;let BaseError$1=class extends BaseError$2{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return getVersion$1()}};class WagmiProviderNotFoundError extends BaseError$1{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function useConfig(e={}){const s=e.config??reactExports.useContext(WagmiContext);if(!s)throw new WagmiProviderNotFoundError;return s}var withSelector={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var e=requireReact();function s(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var o=typeof Object.is=="function"?Object.is:s,a=e.useState,c=e.useEffect,u=e.useLayoutEffect,h=e.useDebugValue;function p(b,w){var S=w(),P=a({inst:{value:S,getSnapshot:w}}),R=P[0].inst,T=P[1];return u(function(){R.value=S,R.getSnapshot=w,m(R)&&T({inst:R})},[b,S,w]),c(function(){return m(R)&&T({inst:R}),b(function(){m(R)&&T({inst:R})})},[b]),h(S),S}function m(b){var w=b.getSnapshot;b=b.value;try{var S=w();return!o(b,S)}catch{return!0}}function y(b,w){return w()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:p;return useSyncExternalStoreShim_production.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var e=requireReact(),s=requireShim();function o(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var a=typeof Object.is=="function"?Object.is:o,c=s.useSyncExternalStore,u=e.useRef,h=e.useEffect,p=e.useMemo,m=e.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(y,v,b,w,S){var P=u(null);if(P.current===null){var R={hasValue:!1,value:null};P.current=R}else R=P.current;P=p(function(){function k(br){if(!or){if(or=!0,dr=br,br=w(br),S!==void 0&&R.hasValue){var wr=R.value;if(S(wr,br))return yr=wr}return yr=br}if(wr=yr,a(dr,br))return wr;var Sr=w(br);return S!==void 0&&S(wr,Sr)?(dr=br,wr):(dr=br,yr=Sr)}var or=!1,dr,yr,lr=b===void 0?null:b;return[function(){return k(v())},lr===null?void 0:function(){return k(lr())}]},[v,b,w,S]);var T=c(y,P[0],P[1]);return h(function(){R.hasValue=!0,R.value=T},[T]),m(T),T},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();const isPlainObject$3=e=>typeof e=="object"&&!Array.isArray(e);function useSyncExternalStoreWithTracked(e,s,o=s,a=deepEqual$1){const c=reactExports.useRef([]),u=withSelectorExports.useSyncExternalStoreWithSelector(e,s,o,h=>h,(h,p)=>{if(isPlainObject$3(h)&&isPlainObject$3(p)&&c.current.length){for(const m of c.current)if(!a(h[m],p[m]))return!1;return!0}return a(h,p)});return reactExports.useMemo(()=>{if(isPlainObject$3(u)){const h={...u};let p={};for(const[m,y]of Object.entries(h))p={...p,[m]:{configurable:!1,enumerable:!0,get:()=>(c.current.includes(m)||c.current.push(m),y)}};return Object.defineProperties(h,p),h}return u},[u])}function useAccount(e={}){const s=useConfig(e);return useSyncExternalStoreWithTracked(o=>watchAccount(s,{onChange:o}),()=>getAccount(s))}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(e,s){return typeof e=="function"?e(s):e}function isValidTimeout(e){return typeof e=="number"&&e>=0&&e!==1/0}function timeUntilStale(e,s){return Math.max(e+(s||0)-Date.now(),0)}function resolveStaleTime(e,s){return typeof e=="function"?e(s):e}function resolveEnabled(e,s){return typeof e=="function"?e(s):e}function matchQuery(e,s){const{type:o="all",exact:a,fetchStatus:c,predicate:u,queryKey:h,stale:p}=e;if(h){if(a){if(s.queryHash!==hashQueryKeyByOptions(h,s.options))return!1}else if(!partialMatchKey(s.queryKey,h))return!1}if(o!=="all"){const m=s.isActive();if(o==="active"&&!m||o==="inactive"&&m)return!1}return!(typeof p=="boolean"&&s.isStale()!==p||c&&c!==s.state.fetchStatus||u&&!u(s))}function matchMutation(e,s){const{exact:o,status:a,predicate:c,mutationKey:u}=e;if(u){if(!s.options.mutationKey)return!1;if(o){if(hashKey(s.options.mutationKey)!==hashKey(u))return!1}else if(!partialMatchKey(s.options.mutationKey,u))return!1}return!(a&&s.state.status!==a||c&&!c(s))}function hashQueryKeyByOptions(e,s){return((s==null?void 0:s.queryKeyHashFn)||hashKey)(e)}function hashKey(e){return JSON.stringify(e,(s,o)=>isPlainObject$2(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):o)}function partialMatchKey(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(o=>partialMatchKey(e[o],s[o])):!1}function replaceEqualDeep(e,s){if(e===s)return e;const o=isPlainArray(e)&&isPlainArray(s);if(o||isPlainObject$2(e)&&isPlainObject$2(s)){const a=o?e:Object.keys(e),c=a.length,u=o?s:Object.keys(s),h=u.length,p=o?[]:{},m=new Set(a);let y=0;for(let v=0;v<h;v++){const b=o?v:u[v];(!o&&m.has(b)||o)&&e[b]===void 0&&s[b]===void 0?(p[b]=void 0,y++):(p[b]=replaceEqualDeep(e[b],s[b]),p[b]===e[b]&&e[b]!==void 0&&y++)}return c===h&&y===c?e:p}return s}function shallowEqualObjects(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const o in e)if(e[o]!==s[o])return!1;return!0}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject$2(e){if(!hasObjectPrototype$1(e))return!1;const s=e.constructor;if(s===void 0)return!0;const o=s.prototype;return!(!hasObjectPrototype$1(o)||!o.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hasObjectPrototype$1(e){return Object.prototype.toString.call(e)==="[object Object]"}function sleep(e){return new Promise(s=>{setTimeout(s,e)})}function replaceData(e,s,o){return typeof o.structuralSharing=="function"?o.structuralSharing(e,s):o.structuralSharing!==!1?replaceEqualDeep(e,s):s}function addToEnd(e,s,o=0){const a=[...e,s];return o&&a.length>o?a.slice(1):a}function addToStart(e,s,o=0){const a=[s,...e];return o&&a.length>o?a.slice(0,-1):a}var skipToken=Symbol();function ensureQueryFn(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function shouldThrowError(e,s){return typeof e=="function"?e(...s):!!e}var fa,Ko,Za,Ap,FocusManager=(Ap=class extends Subscribable{constructor(){super();sn(this,fa);sn(this,Ko);sn(this,Za);Yr(this,Za,s=>{if(!isServer&&window.addEventListener){const o=()=>s();return window.addEventListener("visibilitychange",o,!1),()=>{window.removeEventListener("visibilitychange",o)}}})}onSubscribe(){Pr(this,Ko)||this.setEventListener(Pr(this,Za))}onUnsubscribe(){var s;this.hasListeners()||((s=Pr(this,Ko))==null||s.call(this),Yr(this,Ko,void 0))}setEventListener(s){var o;Yr(this,Za,s),(o=Pr(this,Ko))==null||o.call(this),Yr(this,Ko,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){Pr(this,fa)!==s&&(Yr(this,fa,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(o=>{o(s)})}isFocused(){var s;return typeof Pr(this,fa)=="boolean"?Pr(this,fa):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},fa=new WeakMap,Ko=new WeakMap,Za=new WeakMap,Ap),focusManager=new FocusManager,Ya,qo,Xa,Pp,OnlineManager=(Pp=class extends Subscribable{constructor(){super();sn(this,Ya,!0);sn(this,qo);sn(this,Xa);Yr(this,Xa,s=>{if(!isServer&&window.addEventListener){const o=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",o,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",a)}}})}onSubscribe(){Pr(this,qo)||this.setEventListener(Pr(this,Xa))}onUnsubscribe(){var s;this.hasListeners()||((s=Pr(this,qo))==null||s.call(this),Yr(this,qo,void 0))}setEventListener(s){var o;Yr(this,Xa,s),(o=Pr(this,qo))==null||o.call(this),Yr(this,qo,s(this.setOnline.bind(this)))}setOnline(s){Pr(this,Ya)!==s&&(Yr(this,Ya,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return Pr(this,Ya)}},Ya=new WeakMap,qo=new WeakMap,Xa=new WeakMap,Pp),onlineManager=new OnlineManager;function pendingThenable(){let e,s;const o=new Promise((c,u)=>{e=c,s=u});o.status="pending",o.catch(()=>{});function a(c){Object.assign(o,c),delete o.resolve,delete o.reject}return o.resolve=c=>{a({status:"fulfilled",value:c}),e(c)},o.reject=c=>{a({status:"rejected",reason:c}),s(c)},o}function defaultRetryDelay(e){return Math.min(1e3*2**e,3e4)}function canFetch(e){return(e??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function isCancelledError(e){return e instanceof CancelledError}function createRetryer(e){let s=!1,o=0,a=!1,c;const u=pendingThenable(),h=R=>{var T;a||(w(new CancelledError(R)),(T=e.abort)==null||T.call(e))},p=()=>{s=!0},m=()=>{s=!1},y=()=>focusManager.isFocused()&&(e.networkMode==="always"||onlineManager.isOnline())&&e.canRun(),v=()=>canFetch(e.networkMode)&&e.canRun(),b=R=>{var T;a||(a=!0,(T=e.onSuccess)==null||T.call(e,R),c==null||c(),u.resolve(R))},w=R=>{var T;a||(a=!0,(T=e.onError)==null||T.call(e,R),c==null||c(),u.reject(R))},S=()=>new Promise(R=>{var T;c=k=>{(a||y())&&R(k)},(T=e.onPause)==null||T.call(e)}).then(()=>{var R;c=void 0,a||(R=e.onContinue)==null||R.call(e)}),P=()=>{if(a)return;let R;const T=o===0?e.initialPromise:void 0;try{R=T??e.fn()}catch(k){R=Promise.reject(k)}Promise.resolve(R).then(b).catch(k=>{var br;if(a)return;const or=e.retry??(isServer?0:3),dr=e.retryDelay??defaultRetryDelay,yr=typeof dr=="function"?dr(o,k):dr,lr=or===!0||typeof or=="number"&&o<or||typeof or=="function"&&or(o,k);if(s||!lr){w(k);return}o++,(br=e.onFail)==null||br.call(e,o,k),sleep(yr).then(()=>y()?void 0:S()).then(()=>{s?w(k):P()})})};return{promise:u,cancel:h,continue:()=>(c==null||c(),u),cancelRetry:p,continueRetry:m,canStart:v,start:()=>(v()?P():S().then(P),u)}}var defaultScheduler=e=>setTimeout(e,0);function createNotifyManager(){let e=[],s=0,o=p=>{p()},a=p=>{p()},c=defaultScheduler;const u=p=>{s?e.push(p):c(()=>{o(p)})},h=()=>{const p=e;e=[],p.length&&c(()=>{a(()=>{p.forEach(m=>{o(m)})})})};return{batch:p=>{let m;s++;try{m=p()}finally{s--,s||h()}return m},batchCalls:p=>(...m)=>{u(()=>{p(...m)})},schedule:u,setNotifyFunction:p=>{o=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{c=p}}}var notifyManager=createNotifyManager(),ha,Np,Removable=(Np=class{constructor(){sn(this,ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Yr(this,ha,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Pr(this,ha)&&(clearTimeout(Pr(this,ha)),Yr(this,ha,void 0))}},ha=new WeakMap,Np),Qa,tc,Ui,pa,mi,Xc,ma,Wi,mo,Cp,Query=(Cp=class extends Removable{constructor(s){super();sn(this,Wi);sn(this,Qa);sn(this,tc);sn(this,Ui);sn(this,pa);sn(this,mi);sn(this,Xc);sn(this,ma);Yr(this,ma,!1),Yr(this,Xc,s.defaultOptions),this.setOptions(s.options),this.observers=[],Yr(this,pa,s.client),Yr(this,Ui,Pr(this,pa).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Yr(this,Qa,getDefaultState$1(this.options)),this.state=s.state??Pr(this,Qa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=Pr(this,mi))==null?void 0:s.promise}setOptions(s){this.options={...Pr(this,Xc),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Pr(this,Ui).remove(this)}setData(s,o){const a=replaceData(this.state.data,s,this.options);return mn(this,Wi,mo).call(this,{data:a,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt,manual:o==null?void 0:o.manual}),a}setState(s,o){mn(this,Wi,mo).call(this,{type:"setState",state:s,setStateOptions:o})}cancel(s){var a,c;const o=(a=Pr(this,mi))==null?void 0:a.promise;return(c=Pr(this,mi))==null||c.cancel(s),o?o.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Pr(this,Qa))}isActive(){return this.observers.some(s=>resolveEnabled(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>resolveStaleTime(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,s)}onFocus(){var o;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(o=Pr(this,mi))==null||o.continue()}onOnline(){var o;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(o=Pr(this,mi))==null||o.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),Pr(this,Ui).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(o=>o!==s),this.observers.length||(Pr(this,mi)&&(Pr(this,ma)?Pr(this,mi).cancel({revert:!0}):Pr(this,mi).cancelRetry()),this.scheduleGc()),Pr(this,Ui).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mn(this,Wi,mo).call(this,{type:"invalidate"})}fetch(s,o){var y,v,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(Pr(this,mi))return Pr(this,mi).continueRetry(),Pr(this,mi).promise}if(s&&this.setOptions(s),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const a=new AbortController,c=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Yr(this,ma,!0),a.signal)})},u=()=>{const w=ensureQueryFn(this.options,o),P=(()=>{const R={client:Pr(this,pa),queryKey:this.queryKey,meta:this.meta};return c(R),R})();return Yr(this,ma,!1),this.options.persister?this.options.persister(w,P,this):w(P)},p=(()=>{const w={fetchOptions:o,options:this.options,queryKey:this.queryKey,client:Pr(this,pa),state:this.state,fetchFn:u};return c(w),w})();(y=this.options.behavior)==null||y.onFetch(p,this),Yr(this,tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=p.fetchOptions)==null?void 0:v.meta))&&mn(this,Wi,mo).call(this,{type:"fetch",meta:(b=p.fetchOptions)==null?void 0:b.meta});const m=w=>{var S,P,R,T;isCancelledError(w)&&w.silent||mn(this,Wi,mo).call(this,{type:"error",error:w}),isCancelledError(w)||((P=(S=Pr(this,Ui).config).onError)==null||P.call(S,w,this),(T=(R=Pr(this,Ui).config).onSettled)==null||T.call(R,this.state.data,w,this)),this.scheduleGc()};return Yr(this,mi,createRetryer({initialPromise:o==null?void 0:o.initialPromise,fn:p.fetchFn,abort:a.abort.bind(a),onSuccess:w=>{var S,P,R,T;if(w===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(k){m(k);return}(P=(S=Pr(this,Ui).config).onSuccess)==null||P.call(S,w,this),(T=(R=Pr(this,Ui).config).onSettled)==null||T.call(R,w,this.state.error,this),this.scheduleGc()},onError:m,onFail:(w,S)=>{mn(this,Wi,mo).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{mn(this,Wi,mo).call(this,{type:"pause"})},onContinue:()=>{mn(this,Wi,mo).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0})),Pr(this,mi).start()}},Qa=new WeakMap,tc=new WeakMap,Ui=new WeakMap,pa=new WeakMap,mi=new WeakMap,Xc=new WeakMap,ma=new WeakMap,Wi=new WeakSet,mo=function(s){const o=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...fetchState(a.data,this.options),fetchMeta:s.meta??null};case"success":return{...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=s.error;return isCancelledError(c)&&c.revert&&Pr(this,tc)?{...Pr(this,tc),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=o(this.state),notifyManager.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Pr(this,Ui).notify({query:this,type:"updated",action:s})})},Cp);function fetchState(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,o=s!==void 0,a=o?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:o?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}var to,Tp,QueryCache=(Tp=class extends Subscribable{constructor(s={}){super();sn(this,to);this.config=s,Yr(this,to,new Map)}build(s,o,a){const c=o.queryKey,u=o.queryHash??hashQueryKeyByOptions(c,o);let h=this.get(u);return h||(h=new Query({client:s,queryKey:c,queryHash:u,options:s.defaultQueryOptions(o),state:a,defaultOptions:s.getQueryDefaults(c)}),this.add(h)),h}add(s){Pr(this,to).has(s.queryHash)||(Pr(this,to).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const o=Pr(this,to).get(s.queryHash);o&&(s.destroy(),o===s&&Pr(this,to).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return Pr(this,to).get(s)}getAll(){return[...Pr(this,to).values()]}find(s){const o={exact:!0,...s};return this.getAll().find(a=>matchQuery(o,a))}findAll(s={}){const o=this.getAll();return Object.keys(s).length>0?o.filter(a=>matchQuery(s,a)):o}notify(s){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(s)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},to=new WeakMap,Tp),ro,vi,ya,no,Fo,Ip,Mutation=(Ip=class extends Removable{constructor(s){super();sn(this,no);sn(this,ro);sn(this,vi);sn(this,ya);this.mutationId=s.mutationId,Yr(this,vi,s.mutationCache),Yr(this,ro,[]),this.state=s.state||getDefaultState(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){Pr(this,ro).includes(s)||(Pr(this,ro).push(s),this.clearGcTimeout(),Pr(this,vi).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Yr(this,ro,Pr(this,ro).filter(o=>o!==s)),this.scheduleGc(),Pr(this,vi).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){Pr(this,ro).length||(this.state.status==="pending"?this.scheduleGc():Pr(this,vi).remove(this))}continue(){var s;return((s=Pr(this,ya))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var u,h,p,m,y,v,b,w,S,P,R,T,k,or,dr,yr,lr,br,wr,Sr;const o=()=>{mn(this,no,Fo).call(this,{type:"continue"})};Yr(this,ya,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(Rr,Ir)=>{mn(this,no,Fo).call(this,{type:"failed",failureCount:Rr,error:Ir})},onPause:()=>{mn(this,no,Fo).call(this,{type:"pause"})},onContinue:o,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Pr(this,vi).canRun(this)}));const a=this.state.status==="pending",c=!Pr(this,ya).canStart();try{if(a)o();else{mn(this,no,Fo).call(this,{type:"pending",variables:s,isPaused:c}),await((h=(u=Pr(this,vi).config).onMutate)==null?void 0:h.call(u,s,this));const Ir=await((m=(p=this.options).onMutate)==null?void 0:m.call(p,s));Ir!==this.state.context&&mn(this,no,Fo).call(this,{type:"pending",context:Ir,variables:s,isPaused:c})}const Rr=await Pr(this,ya).start();return await((v=(y=Pr(this,vi).config).onSuccess)==null?void 0:v.call(y,Rr,s,this.state.context,this)),await((w=(b=this.options).onSuccess)==null?void 0:w.call(b,Rr,s,this.state.context)),await((P=(S=Pr(this,vi).config).onSettled)==null?void 0:P.call(S,Rr,null,this.state.variables,this.state.context,this)),await((T=(R=this.options).onSettled)==null?void 0:T.call(R,Rr,null,s,this.state.context)),mn(this,no,Fo).call(this,{type:"success",data:Rr}),Rr}catch(Rr){try{throw await((or=(k=Pr(this,vi).config).onError)==null?void 0:or.call(k,Rr,s,this.state.context,this)),await((yr=(dr=this.options).onError)==null?void 0:yr.call(dr,Rr,s,this.state.context)),await((br=(lr=Pr(this,vi).config).onSettled)==null?void 0:br.call(lr,void 0,Rr,this.state.variables,this.state.context,this)),await((Sr=(wr=this.options).onSettled)==null?void 0:Sr.call(wr,void 0,Rr,s,this.state.context)),Rr}finally{mn(this,no,Fo).call(this,{type:"error",error:Rr})}}finally{Pr(this,vi).runNext(this)}}},ro=new WeakMap,vi=new WeakMap,ya=new WeakMap,no=new WeakSet,Fo=function(s){const o=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=o(this.state),notifyManager.batch(()=>{Pr(this,ro).forEach(a=>{a.onMutationUpdate(s)}),Pr(this,vi).notify({mutation:this,type:"updated",action:s})})},Ip);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yo,Ji,Qc,kp,MutationCache=(kp=class extends Subscribable{constructor(s={}){super();sn(this,yo);sn(this,Ji);sn(this,Qc);this.config=s,Yr(this,yo,new Set),Yr(this,Ji,new Map),Yr(this,Qc,0)}build(s,o,a){const c=new Mutation({mutationCache:this,mutationId:++al(this,Qc)._,options:s.defaultMutationOptions(o),state:a});return this.add(c),c}add(s){Pr(this,yo).add(s);const o=scopeFor(s);if(typeof o=="string"){const a=Pr(this,Ji).get(o);a?a.push(s):Pr(this,Ji).set(o,[s])}this.notify({type:"added",mutation:s})}remove(s){if(Pr(this,yo).delete(s)){const o=scopeFor(s);if(typeof o=="string"){const a=Pr(this,Ji).get(o);if(a)if(a.length>1){const c=a.indexOf(s);c!==-1&&a.splice(c,1)}else a[0]===s&&Pr(this,Ji).delete(o)}}this.notify({type:"removed",mutation:s})}canRun(s){const o=scopeFor(s);if(typeof o=="string"){const a=Pr(this,Ji).get(o),c=a==null?void 0:a.find(u=>u.state.status==="pending");return!c||c===s}else return!0}runNext(s){var a;const o=scopeFor(s);if(typeof o=="string"){const c=(a=Pr(this,Ji).get(o))==null?void 0:a.find(u=>u!==s&&u.state.isPaused);return(c==null?void 0:c.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{Pr(this,yo).forEach(s=>{this.notify({type:"removed",mutation:s})}),Pr(this,yo).clear(),Pr(this,Ji).clear()})}getAll(){return Array.from(Pr(this,yo))}find(s){const o={exact:!0,...s};return this.getAll().find(a=>matchMutation(o,a))}findAll(s={}){return this.getAll().filter(o=>matchMutation(s,o))}notify(s){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(s)})})}resumePausedMutations(){const s=this.getAll().filter(o=>o.state.isPaused);return notifyManager.batch(()=>Promise.all(s.map(o=>o.continue().catch(noop$1))))}},yo=new WeakMap,Ji=new WeakMap,Qc=new WeakMap,kp);function scopeFor(e){var s;return(s=e.options.scope)==null?void 0:s.id}function infiniteQueryBehavior(e){return{onFetch:(s,o)=>{var v,b,w,S,P;const a=s.options,c=(w=(b=(v=s.fetchOptions)==null?void 0:v.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,u=((S=s.state.data)==null?void 0:S.pages)||[],h=((P=s.state.data)==null?void 0:P.pageParams)||[];let p={pages:[],pageParams:[]},m=0;const y=async()=>{let R=!1;const T=dr=>{Object.defineProperty(dr,"signal",{enumerable:!0,get:()=>(s.signal.aborted?R=!0:s.signal.addEventListener("abort",()=>{R=!0}),s.signal)})},k=ensureQueryFn(s.options,s.fetchOptions),or=async(dr,yr,lr)=>{if(R)return Promise.reject();if(yr==null&&dr.pages.length)return Promise.resolve(dr);const wr=(()=>{const xr={client:s.client,queryKey:s.queryKey,pageParam:yr,direction:lr?"backward":"forward",meta:s.options.meta};return T(xr),xr})(),Sr=await k(wr),{maxPages:Rr}=s.options,Ir=lr?addToStart:addToEnd;return{pages:Ir(dr.pages,Sr,Rr),pageParams:Ir(dr.pageParams,yr,Rr)}};if(c&&u.length){const dr=c==="backward",yr=dr?getPreviousPageParam:getNextPageParam,lr={pages:u,pageParams:h},br=yr(a,lr);p=await or(lr,br,dr)}else{const dr=e??u.length;do{const yr=m===0?h[0]??a.initialPageParam:getNextPageParam(a,p);if(m>0&&yr==null)break;p=await or(p,yr),m++}while(m<dr)}return p};s.options.persister?s.fetchFn=()=>{var R,T;return(T=(R=s.options).persister)==null?void 0:T.call(R,y,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},o)}:s.fetchFn=y}}}function getNextPageParam(e,{pages:s,pageParams:o}){const a=s.length-1;return s.length>0?e.getNextPageParam(s[a],s,o[a],o):void 0}function getPreviousPageParam(e,{pages:s,pageParams:o}){var a;return s.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,s[0],s,o[0],o):void 0}var ti,Ho,Vo,rc,nc,zo,sc,ic,Bp,QueryClient=(Bp=class{constructor(e={}){sn(this,ti);sn(this,Ho);sn(this,Vo);sn(this,rc);sn(this,nc);sn(this,zo);sn(this,sc);sn(this,ic);Yr(this,ti,e.queryCache||new QueryCache),Yr(this,Ho,e.mutationCache||new MutationCache),Yr(this,Vo,e.defaultOptions||{}),Yr(this,rc,new Map),Yr(this,nc,new Map),Yr(this,zo,0)}mount(){al(this,zo)._++,Pr(this,zo)===1&&(Yr(this,sc,focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),Pr(this,ti).onFocus())})),Yr(this,ic,onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),Pr(this,ti).onOnline())})))}unmount(){var e,s;al(this,zo)._--,Pr(this,zo)===0&&((e=Pr(this,sc))==null||e.call(this),Yr(this,sc,void 0),(s=Pr(this,ic))==null||s.call(this),Yr(this,ic,void 0))}isFetching(e){return Pr(this,ti).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Pr(this,Ho).findAll({...e,status:"pending"}).length}getQueryData(e){var o;const s=this.defaultQueryOptions({queryKey:e});return(o=Pr(this,ti).get(s.queryHash))==null?void 0:o.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),o=Pr(this,ti).build(this,s),a=o.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&o.isStaleByTime(resolveStaleTime(s.staleTime,o))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(e){return Pr(this,ti).findAll(e).map(({queryKey:s,state:o})=>{const a=o.data;return[s,a]})}setQueryData(e,s,o){const a=this.defaultQueryOptions({queryKey:e}),c=Pr(this,ti).get(a.queryHash),u=c==null?void 0:c.state.data,h=functionalUpdate(s,u);if(h!==void 0)return Pr(this,ti).build(this,a).setData(h,{...o,manual:!0})}setQueriesData(e,s,o){return notifyManager.batch(()=>Pr(this,ti).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,s,o)]))}getQueryState(e){var o;const s=this.defaultQueryOptions({queryKey:e});return(o=Pr(this,ti).get(s.queryHash))==null?void 0:o.state}removeQueries(e){const s=Pr(this,ti);notifyManager.batch(()=>{s.findAll(e).forEach(o=>{s.remove(o)})})}resetQueries(e,s){const o=Pr(this,ti);return notifyManager.batch(()=>(o.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const o={revert:!0,...s},a=notifyManager.batch(()=>Pr(this,ti).findAll(e).map(c=>c.cancel(o)));return Promise.all(a).then(noop$1).catch(noop$1)}invalidateQueries(e,s={}){return notifyManager.batch(()=>(Pr(this,ti).findAll(e).forEach(o=>{o.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const o={...s,cancelRefetch:s.cancelRefetch??!0},a=notifyManager.batch(()=>Pr(this,ti).findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,o);return o.throwOnError||(u=u.catch(noop$1)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(noop$1)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const o=Pr(this,ti).build(this,s);return o.isStaleByTime(resolveStaleTime(s.staleTime,o))?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop$1).catch(noop$1)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop$1).catch(noop$1)}ensureInfiniteQueryData(e){return e.behavior=infiniteQueryBehavior(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return onlineManager.isOnline()?Pr(this,Ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return Pr(this,ti)}getMutationCache(){return Pr(this,Ho)}getDefaultOptions(){return Pr(this,Vo)}setDefaultOptions(e){Yr(this,Vo,e)}setQueryDefaults(e,s){Pr(this,rc).set(hashKey(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...Pr(this,rc).values()],o={};return s.forEach(a=>{partialMatchKey(e,a.queryKey)&&Object.assign(o,a.defaultOptions)}),o}setMutationDefaults(e,s){Pr(this,nc).set(hashKey(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...Pr(this,nc).values()],o={};return s.forEach(a=>{partialMatchKey(e,a.mutationKey)&&Object.assign(o,a.defaultOptions)}),o}defaultQueryOptions(e){if(e._defaulted)return e;const s={...Pr(this,Vo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=hashQueryKeyByOptions(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===skipToken&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Pr(this,Vo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Pr(this,ti).clear(),Pr(this,Ho).clear()}},ti=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,rc=new WeakMap,nc=new WeakMap,zo=new WeakMap,sc=new WeakMap,ic=new WeakMap,Bp),Pi,wn,eu,bi,ga,oc,Go,Wo,tu,ac,cc,va,ba,Jo,uc,Nn,Yc,Gd,Wd,Jd,Zd,Yd,Xd,Qd,jp,Op,QueryObserver=(Op=class extends Subscribable{constructor(s,o){super();sn(this,Nn);sn(this,Pi);sn(this,wn);sn(this,eu);sn(this,bi);sn(this,ga);sn(this,oc);sn(this,Go);sn(this,Wo);sn(this,tu);sn(this,ac);sn(this,cc);sn(this,va);sn(this,ba);sn(this,Jo);sn(this,uc,new Set);this.options=o,Yr(this,Pi,s),Yr(this,Wo,null),Yr(this,Go,pendingThenable()),this.options.experimental_prefetchInRender||Pr(this,Go).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(o)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Pr(this,wn).addObserver(this),shouldFetchOnMount(Pr(this,wn),this.options)?mn(this,Nn,Yc).call(this):this.updateResult(),mn(this,Nn,Zd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Pr(this,wn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Pr(this,wn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mn(this,Nn,Yd).call(this),mn(this,Nn,Xd).call(this),Pr(this,wn).removeObserver(this)}setOptions(s){const o=this.options,a=Pr(this,wn);if(this.options=Pr(this,Pi).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,Pr(this,wn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mn(this,Nn,Qd).call(this),Pr(this,wn).setOptions(this.options),o._defaulted&&!shallowEqualObjects(this.options,o)&&Pr(this,Pi).getQueryCache().notify({type:"observerOptionsUpdated",query:Pr(this,wn),observer:this});const c=this.hasListeners();c&&shouldFetchOptionally(Pr(this,wn),a,this.options,o)&&mn(this,Nn,Yc).call(this),this.updateResult(),c&&(Pr(this,wn)!==a||resolveEnabled(this.options.enabled,Pr(this,wn))!==resolveEnabled(o.enabled,Pr(this,wn))||resolveStaleTime(this.options.staleTime,Pr(this,wn))!==resolveStaleTime(o.staleTime,Pr(this,wn)))&&mn(this,Nn,Gd).call(this);const u=mn(this,Nn,Wd).call(this);c&&(Pr(this,wn)!==a||resolveEnabled(this.options.enabled,Pr(this,wn))!==resolveEnabled(o.enabled,Pr(this,wn))||u!==Pr(this,Jo))&&mn(this,Nn,Jd).call(this,u)}getOptimisticResult(s){const o=Pr(this,Pi).getQueryCache().build(Pr(this,Pi),s),a=this.createResult(o,s);return shouldAssignObserverCurrentProperties(this,a)&&(Yr(this,bi,a),Yr(this,oc,this.options),Yr(this,ga,Pr(this,wn).state)),a}getCurrentResult(){return Pr(this,bi)}trackResult(s,o){return new Proxy(s,{get:(a,c)=>(this.trackProp(c),o==null||o(c),Reflect.get(a,c))})}trackProp(s){Pr(this,uc).add(s)}getCurrentQuery(){return Pr(this,wn)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const o=Pr(this,Pi).defaultQueryOptions(s),a=Pr(this,Pi).getQueryCache().build(Pr(this,Pi),o);return a.fetch().then(()=>this.createResult(a,o))}fetch(s){return mn(this,Nn,Yc).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),Pr(this,bi)))}createResult(s,o){var Rr;const a=Pr(this,wn),c=this.options,u=Pr(this,bi),h=Pr(this,ga),p=Pr(this,oc),y=s!==a?s.state:Pr(this,eu),{state:v}=s;let b={...v},w=!1,S;if(o._optimisticResults){const Ir=this.hasListeners(),xr=!Ir&&shouldFetchOnMount(s,o),C=Ir&&shouldFetchOptionally(s,a,o,c);(xr||C)&&(b={...b,...fetchState(v.data,s.options)}),o._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:P,errorUpdatedAt:R,status:T}=b;S=b.data;let k=!1;if(o.placeholderData!==void 0&&S===void 0&&T==="pending"){let Ir;u!=null&&u.isPlaceholderData&&o.placeholderData===(p==null?void 0:p.placeholderData)?(Ir=u.data,k=!0):Ir=typeof o.placeholderData=="function"?o.placeholderData((Rr=Pr(this,cc))==null?void 0:Rr.state.data,Pr(this,cc)):o.placeholderData,Ir!==void 0&&(T="success",S=replaceData(u==null?void 0:u.data,Ir,o),w=!0)}if(o.select&&S!==void 0&&!k)if(u&&S===(h==null?void 0:h.data)&&o.select===Pr(this,tu))S=Pr(this,ac);else try{Yr(this,tu,o.select),S=o.select(S),S=replaceData(u==null?void 0:u.data,S,o),Yr(this,ac,S),Yr(this,Wo,null)}catch(Ir){Yr(this,Wo,Ir)}Pr(this,Wo)&&(P=Pr(this,Wo),S=Pr(this,ac),R=Date.now(),T="error");const or=b.fetchStatus==="fetching",dr=T==="pending",yr=T==="error",lr=dr&&or,br=S!==void 0,Sr={status:T,fetchStatus:b.fetchStatus,isPending:dr,isSuccess:T==="success",isError:yr,isInitialLoading:lr,isLoading:lr,data:S,dataUpdatedAt:b.dataUpdatedAt,error:P,errorUpdatedAt:R,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>y.dataUpdateCount||b.errorUpdateCount>y.errorUpdateCount,isFetching:or,isRefetching:or&&!dr,isLoadingError:yr&&!br,isPaused:b.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:yr&&br,isStale:isStale(s,o),refetch:this.refetch,promise:Pr(this,Go)};if(this.options.experimental_prefetchInRender){const Ir=B=>{Sr.status==="error"?B.reject(Sr.error):Sr.data!==void 0&&B.resolve(Sr.data)},xr=()=>{const B=Yr(this,Go,Sr.promise=pendingThenable());Ir(B)},C=Pr(this,Go);switch(C.status){case"pending":s.queryHash===a.queryHash&&Ir(C);break;case"fulfilled":(Sr.status==="error"||Sr.data!==C.value)&&xr();break;case"rejected":(Sr.status!=="error"||Sr.error!==C.reason)&&xr();break}}return Sr}updateResult(){const s=Pr(this,bi),o=this.createResult(Pr(this,wn),this.options);if(Yr(this,ga,Pr(this,wn).state),Yr(this,oc,this.options),Pr(this,ga).data!==void 0&&Yr(this,cc,Pr(this,wn)),shallowEqualObjects(o,s))return;Yr(this,bi,o);const a=()=>{if(!s)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!Pr(this,uc).size)return!0;const h=new Set(u??Pr(this,uc));return this.options.throwOnError&&h.add("error"),Object.keys(Pr(this,bi)).some(p=>{const m=p;return Pr(this,bi)[m]!==s[m]&&h.has(m)})};mn(this,Nn,jp).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mn(this,Nn,Zd).call(this)}},Pi=new WeakMap,wn=new WeakMap,eu=new WeakMap,bi=new WeakMap,ga=new WeakMap,oc=new WeakMap,Go=new WeakMap,Wo=new WeakMap,tu=new WeakMap,ac=new WeakMap,cc=new WeakMap,va=new WeakMap,ba=new WeakMap,Jo=new WeakMap,uc=new WeakMap,Nn=new WeakSet,Yc=function(s){mn(this,Nn,Qd).call(this);let o=Pr(this,wn).fetch(this.options,s);return s!=null&&s.throwOnError||(o=o.catch(noop$1)),o},Gd=function(){mn(this,Nn,Yd).call(this);const s=resolveStaleTime(this.options.staleTime,Pr(this,wn));if(isServer||Pr(this,bi).isStale||!isValidTimeout(s))return;const a=timeUntilStale(Pr(this,bi).dataUpdatedAt,s)+1;Yr(this,va,setTimeout(()=>{Pr(this,bi).isStale||this.updateResult()},a))},Wd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Pr(this,wn)):this.options.refetchInterval)??!1},Jd=function(s){mn(this,Nn,Xd).call(this),Yr(this,Jo,s),!(isServer||resolveEnabled(this.options.enabled,Pr(this,wn))===!1||!isValidTimeout(Pr(this,Jo))||Pr(this,Jo)===0)&&Yr(this,ba,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&mn(this,Nn,Yc).call(this)},Pr(this,Jo)))},Zd=function(){mn(this,Nn,Gd).call(this),mn(this,Nn,Jd).call(this,mn(this,Nn,Wd).call(this))},Yd=function(){Pr(this,va)&&(clearTimeout(Pr(this,va)),Yr(this,va,void 0))},Xd=function(){Pr(this,ba)&&(clearInterval(Pr(this,ba)),Yr(this,ba,void 0))},Qd=function(){const s=Pr(this,Pi).getQueryCache().build(Pr(this,Pi),this.options);if(s===Pr(this,wn))return;const o=Pr(this,wn);Yr(this,wn,s),Yr(this,eu,s.state),this.hasListeners()&&(o==null||o.removeObserver(this),s.addObserver(this))},jp=function(s){notifyManager.batch(()=>{s.listeners&&this.listeners.forEach(o=>{o(Pr(this,bi))}),Pr(this,Pi).getQueryCache().notify({query:Pr(this,wn),type:"observerResultsUpdated"})})},Op);function shouldLoadOnMount(e,s){return resolveEnabled(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function shouldFetchOnMount(e,s){return shouldLoadOnMount(e,s)||e.state.data!==void 0&&shouldFetchOn(e,s,s.refetchOnMount)}function shouldFetchOn(e,s,o){if(resolveEnabled(s.enabled,e)!==!1&&resolveStaleTime(s.staleTime,e)!=="static"){const a=typeof o=="function"?o(e):o;return a==="always"||a!==!1&&isStale(e,s)}return!1}function shouldFetchOptionally(e,s,o,a){return(e!==s||resolveEnabled(a.enabled,e)===!1)&&(!o.suspense||e.state.status!=="error")&&isStale(e,o)}function isStale(e,s){return resolveEnabled(s.enabled,e)!==!1&&e.isStaleByTime(resolveStaleTime(s.staleTime,e))}function shouldAssignObserverCurrentProperties(e,s){return!shallowEqualObjects(e.getCurrentResult(),s)}var Zo,Yo,Ni,go,vo,cl,ef,$p,MutationObserver$1=($p=class extends Subscribable{constructor(o,a){super();sn(this,vo);sn(this,Zo);sn(this,Yo);sn(this,Ni);sn(this,go);Yr(this,Zo,o),this.setOptions(a),this.bindMethods(),mn(this,vo,cl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(o){var c;const a=this.options;this.options=Pr(this,Zo).defaultMutationOptions(o),shallowEqualObjects(this.options,a)||Pr(this,Zo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Pr(this,Ni),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&hashKey(a.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((c=Pr(this,Ni))==null?void 0:c.state.status)==="pending"&&Pr(this,Ni).setOptions(this.options)}onUnsubscribe(){var o;this.hasListeners()||(o=Pr(this,Ni))==null||o.removeObserver(this)}onMutationUpdate(o){mn(this,vo,cl).call(this),mn(this,vo,ef).call(this,o)}getCurrentResult(){return Pr(this,Yo)}reset(){var o;(o=Pr(this,Ni))==null||o.removeObserver(this),Yr(this,Ni,void 0),mn(this,vo,cl).call(this),mn(this,vo,ef).call(this)}mutate(o,a){var c;return Yr(this,go,a),(c=Pr(this,Ni))==null||c.removeObserver(this),Yr(this,Ni,Pr(this,Zo).getMutationCache().build(Pr(this,Zo),this.options)),Pr(this,Ni).addObserver(this),Pr(this,Ni).execute(o)}},Zo=new WeakMap,Yo=new WeakMap,Ni=new WeakMap,go=new WeakMap,vo=new WeakSet,cl=function(){var a;const o=((a=Pr(this,Ni))==null?void 0:a.state)??getDefaultState();Yr(this,Yo,{...o,isPending:o.status==="pending",isSuccess:o.status==="success",isError:o.status==="error",isIdle:o.status==="idle",mutate:this.mutate,reset:this.reset})},ef=function(o){notifyManager.batch(()=>{var a,c,u,h,p,m,y,v;if(Pr(this,go)&&this.hasListeners()){const b=Pr(this,Yo).variables,w=Pr(this,Yo).context;(o==null?void 0:o.type)==="success"?((c=(a=Pr(this,go)).onSuccess)==null||c.call(a,o.data,b,w),(h=(u=Pr(this,go)).onSettled)==null||h.call(u,o.data,null,b,w)):(o==null?void 0:o.type)==="error"&&((m=(p=Pr(this,go)).onError)==null||m.call(p,o.error,b,w),(v=(y=Pr(this,go)).onSettled)==null||v.call(y,void 0,o.error,b,w))}this.listeners.forEach(b=>{b(Pr(this,Yo))})})},$p);function hashFn(e){return JSON.stringify(e,(s,o)=>isPlainObject$1(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):typeof o=="bigint"?o.toString():o)}function isPlainObject$1(e){if(!hasObjectPrototype(e))return!1;const s=e.constructor;if(typeof s>"u")return!0;const o=s.prototype;return!(!hasObjectPrototype(o)||!o.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(e){return Object.prototype.toString.call(e)==="[object Object]"}function filterQueryOptions(e){const{_defaulted:s,behavior:o,gcTime:a,initialData:c,initialDataUpdatedAt:u,maxPages:h,meta:p,networkMode:m,queryFn:y,queryHash:v,queryKey:b,queryKeyHashFn:w,retry:S,retryDelay:P,structuralSharing:R,getPreviousPageParam:T,getNextPageParam:k,initialPageParam:or,_optimisticResults:dr,enabled:yr,notifyOnChangeProps:lr,placeholderData:br,refetchInterval:wr,refetchIntervalInBackground:Sr,refetchOnMount:Rr,refetchOnReconnect:Ir,refetchOnWindowFocus:xr,retryOnMount:C,select:B,staleTime:ur,suspense:er,throwOnError:H,config:pr,connector:hr,query:mr,...$}=e;return $}function connectMutationOptions(e){return{mutationFn(s){return connect(e,s)},mutationKey:["connect"]}}function disconnectMutationOptions(e){return{mutationFn(s){return disconnect(e,s)},mutationKey:["disconnect"]}}function getEnsNameQueryOptions(e,s={}){return{async queryFn({queryKey:o}){const{address:a,scopeKey:c,...u}=o[1];if(!a)throw new Error("address is required");return getEnsName(e,{...u,address:a})},queryKey:getEnsNameQueryKey(s)}}function getEnsNameQueryKey(e={}){return["ensName",filterQueryOptions(e)]}function getWalletClientQueryOptions(e,s={}){return{gcTime:0,async queryFn({queryKey:o}){const{connector:a}=s,{connectorUid:c,scopeKey:u,...h}=o[1];return getWalletClient(e,{...h,connector:a})},queryKey:getWalletClientQueryKey(s)}}function getWalletClientQueryKey(e={}){const{connector:s,...o}=e;return["walletClient",{...filterQueryOptions(o),connectorUid:s==null?void 0:s.uid}]}var QueryClientContext=reactExports.createContext(void 0),useQueryClient=e=>{const s=reactExports.useContext(QueryClientContext);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},QueryClientProvider=({client:e,children:s})=>(reactExports.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:e,children:s})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(e,s)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(s.isReset()||(e.retryOnMount=!1))},useClearResetErrorBoundary=e=>{reactExports.useEffect(()=>{e.clearReset()},[e])},getHasError=({result:e,errorResetBoundary:s,throwOnError:o,query:a,suspense:c})=>e.isError&&!s.isReset()&&!e.isFetching&&a&&(c&&e.data===void 0||shouldThrowError(o,[e.error,a])),ensureSuspenseTimers=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...a)=>s(o(...a)):s(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},willFetch=(e,s)=>e.isLoading&&e.isFetching&&!s,shouldSuspend=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,fetchOptimistic=(e,s,o)=>s.fetchOptimistic(e).catch(()=>{o.clearReset()});function useBaseQuery(e,s,o){var b,w,S,P,R;const a=useIsRestoring(),c=useQueryErrorResetBoundary(),u=useQueryClient(),h=u.defaultQueryOptions(e);(w=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||w.call(b,h),h._optimisticResults=a?"isRestoring":"optimistic",ensureSuspenseTimers(h),ensurePreventErrorBoundaryRetry(h,c),useClearResetErrorBoundary(c);const p=!u.getQueryCache().get(h.queryHash),[m]=reactExports.useState(()=>new s(u,h)),y=m.getOptimisticResult(h),v=!a&&e.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(T=>{const k=v?m.subscribe(notifyManager.batchCalls(T)):noop$1;return m.updateResult(),k},[m,v]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),reactExports.useEffect(()=>{m.setOptions(h)},[h,m]),shouldSuspend(h,y))throw fetchOptimistic(h,m,c);if(getHasError({result:y,errorResetBoundary:c,throwOnError:h.throwOnError,query:u.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw y.error;if((P=(S=u.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||P.call(S,h,y),h.experimental_prefetchInRender&&!isServer&&willFetch(y,a)){const T=p?fetchOptimistic(h,m,c):(R=u.getQueryCache().get(h.queryHash))==null?void 0:R.promise;T==null||T.catch(noop$1).finally(()=>{m.updateResult()})}return h.notifyOnChangeProps?y:m.trackResult(y)}function useQuery$1(e,s){return useBaseQuery(e,QueryObserver)}function useMutation(e,s){const o=useQueryClient(),[a]=reactExports.useState(()=>new MutationObserver$1(o,e));reactExports.useEffect(()=>{a.setOptions(e)},[a,e]);const c=reactExports.useSyncExternalStore(reactExports.useCallback(h=>a.subscribe(notifyManager.batchCalls(h)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=reactExports.useCallback((h,p)=>{a.mutate(h,p).catch(noop$1)},[a]);if(c.error&&shouldThrowError(a.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function useQuery(e){const s=useQuery$1({...e,queryKeyHashFn:hashFn});return s.queryKey=e.queryKey,s}function useChainId(e={}){const s=useConfig(e);return reactExports.useSyncExternalStore(o=>watchChainId(s,{onChange:o}),()=>getChainId(s),()=>getChainId(s))}function useConnectors(e={}){const s=useConfig(e);return reactExports.useSyncExternalStore(o=>watchConnectors(s,{onChange:o}),()=>getConnectors(s),()=>getConnectors(s))}function useConnect(e={}){const{mutation:s}=e,o=useConfig(e),a=connectMutationOptions(o),{mutate:c,mutateAsync:u,...h}=useMutation({...s,...a});return reactExports.useEffect(()=>o.subscribe(({status:p})=>p,(p,m)=>{m==="connected"&&p==="disconnected"&&h.reset()}),[o,h.reset]),{...h,connect:c,connectAsync:u,connectors:useConnectors({config:o})}}function useConnections(e={}){const s=useConfig(e);return reactExports.useSyncExternalStore(o=>watchConnections(s,{onChange:o}),()=>getConnections(s),()=>getConnections(s))}function useDisconnect(e={}){const{mutation:s}=e,o=useConfig(e),a=disconnectMutationOptions(o),{mutate:c,mutateAsync:u,...h}=useMutation({...s,...a});return{...h,connectors:useConnections({config:o}).map(p=>p.connector),disconnect:c,disconnectAsync:u}}function useEnsName(e={}){const{address:s,query:o={}}=e,a=useConfig(e),c=useChainId({config:a}),u=getEnsNameQueryOptions(a,{...e,chainId:e.chainId??c}),h=!!(s&&(o.enabled??!0));return useQuery({...o,...u,enabled:h})}function useWalletClient(e={}){const{query:s={},...o}=e,a=useConfig(o),c=useQueryClient(),{address:u,connector:h,status:p}=useAccount({config:a}),m=useChainId({config:a}),y=e.connector??h,{queryKey:v,...b}=getWalletClientQueryOptions(a,{...e,chainId:e.chainId??m,connector:e.connector??h}),w=!!((p==="connected"||p==="reconnecting"&&(y!=null&&y.getProvider))&&(s.enabled??!0)),S=reactExports.useRef(u);return reactExports.useEffect(()=>{const P=S.current;!u&&P?(c.removeQueries({queryKey:v}),S.current=void 0):u!==P&&(c.invalidateQueries({queryKey:v}),S.current=u)},[u,c]),useQuery({...s,...b,queryKey:v,enabled:w,staleTime:Number.POSITIVE_INFINITY})}const contracts={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters={block:defineBlock({format(e){var o;return{transactions:(o=e.transactions)==null?void 0:o.map(a=>{if(typeof a=="string")return a;const c=formatTransaction(a);return c.typeHex==="0x7e"&&(c.isSystemTx=a.isSystemTx,c.mint=a.mint?hexToBigInt$1(a.mint):void 0,c.sourceHash=a.sourceHash,c.type="deposit"),c}),stateRoot:e.stateRoot}}}),transaction:defineTransaction({format(e){const s={};return e.type==="0x7e"&&(s.isSystemTx=e.isSystemTx,s.mint=e.mint?hexToBigInt$1(e.mint):void 0,s.sourceHash=e.sourceHash,s.type="deposit"),s}}),transactionReceipt:defineTransactionReceipt({format(e){return{l1GasPrice:e.l1GasPrice?hexToBigInt$1(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?hexToBigInt$1(e.l1GasUsed):null,l1Fee:e.l1Fee?hexToBigInt$1(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function serializeTransaction(e,s){return isDeposit(e)?serializeTransactionDeposit(e):serializeTransaction$1(e,s)}const serializers={transaction:serializeTransaction};function serializeTransactionDeposit(e){assertTransactionDeposit(e);const{sourceHash:s,data:o,from:a,gas:c,isSystemTx:u,mint:h,to:p,value:m}=e,y=[s,a,p??"0x",h?toHex$1(h):"0x",m?toHex$1(m):"0x",c?toHex$1(c):"0x",u?"0x1":"0x",o??"0x"];return concatHex$1(["0x7e",toRlp(y)])}function isDeposit(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function assertTransactionDeposit(e){const{from:s,to:o}=e;if(s&&!isAddress$1(s))throw new InvalidAddressError$1({address:s});if(o&&!isAddress$1(o))throw new InvalidAddressError$1({address:o})}const chainConfig={blockTime:2e3,contracts,formatters,serializers},sourceId$1=1,base$1=defineChain({...chainConfig,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...chainConfig.contracts,disputeGameFactory:{[sourceId$1]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[sourceId$1]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[sourceId$1]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[sourceId$1]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:sourceId$1}),sourceId=11155111,baseSepolia=defineChain({...chainConfig,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...chainConfig.contracts,disputeGameFactory:{[sourceId]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[sourceId]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[sourceId]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[sourceId]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId});coinbaseWallet.type="coinbaseWallet";function coinbaseWallet(e={}){return e.version==="3"||e.headlessMode?version3(e):version4(e)}function version4(e){let s,o,a,c;return u=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:coinbaseWallet.type,async connect({chainId:h,...p}={}){try{const m=await this.getProvider(),y=(await m.request({method:"eth_requestAccounts",params:"instantOnboarding"in p&&p.instantOnboarding?[{onboarding:"instant"}]:[]})).map(b=>getAddress$1(b));o||(o=this.onAccountsChanged.bind(this),m.on("accountsChanged",o)),a||(a=this.onChainChanged.bind(this),m.on("chainChanged",a)),c||(c=this.onDisconnect.bind(this),m.on("disconnect",c));let v=await this.getChainId();if(h&&v!==h){const b=await this.switchChain({chainId:h}).catch(w=>{if(w.code===UserRejectedRequestError.code)throw w;return{id:v}});v=(b==null?void 0:b.id)??v}return{accounts:y,chainId:v}}catch(m){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(m.message)?new UserRejectedRequestError(m):m}},async disconnect(){var p;const h=await this.getProvider();o&&(h.removeListener("accountsChanged",o),o=void 0),a&&(h.removeListener("chainChanged",a),a=void 0),c&&(h.removeListener("disconnect",c),c=void 0),h.disconnect(),(p=h.close)==null||p.call(h)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(p=>getAddress$1(p))},async getChainId(){const p=await(await this.getProvider()).request({method:"eth_chainId"});return Number(p)},async getProvider(){if(!s){const h=(()=>{var y;return typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:((y=e.preference)==null?void 0:y.options)??"all"}})(),{createCoinbaseWalletSDK:p}=await __vitePreload(async()=>{const{createCoinbaseWalletSDK:y}=await import("./index-BXNzpq3A.js");return{createCoinbaseWalletSDK:y}},__vite__mapDeps([0,1]));s=p({...e,appChainIds:u.chains.map(y=>y.id),preference:h}).getProvider()}return s},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:p}){var v,b,w,S;const m=u.chains.find(P=>P.id===p);if(!m)throw new SwitchChainError(new ChainNotConfiguredError);const y=await this.getProvider();try{return await y.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex$1(m.id)}]}),m}catch(P){if(P.code===4902)try{let R;h!=null&&h.blockExplorerUrls?R=h.blockExplorerUrls:R=(v=m.blockExplorers)!=null&&v.default.url?[(b=m.blockExplorers)==null?void 0:b.default.url]:[];let T;(w=h==null?void 0:h.rpcUrls)!=null&&w.length?T=h.rpcUrls:T=[((S=m.rpcUrls.default)==null?void 0:S.http[0])??""];const k={blockExplorerUrls:R,chainId:numberToHex$1(p),chainName:(h==null?void 0:h.chainName)??m.name,iconUrls:h==null?void 0:h.iconUrls,nativeCurrency:(h==null?void 0:h.nativeCurrency)??m.nativeCurrency,rpcUrls:T};return await y.request({method:"wallet_addEthereumChain",params:[k]}),m}catch(R){throw new UserRejectedRequestError(R)}throw new SwitchChainError(P)}},onAccountsChanged(h){h.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:h.map(p=>getAddress$1(p))})},onChainChanged(h){const p=Number(h);u.emitter.emit("change",{chainId:p})},async onDisconnect(h){u.emitter.emit("disconnect");const p=await this.getProvider();o&&(p.removeListener("accountsChanged",o),o=void 0),a&&(p.removeListener("chainChanged",a),a=void 0),c&&(p.removeListener("disconnect",c),c=void 0)}})}function version3(e){let o,a,c,u,h;return p=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:coinbaseWallet.type,async connect({chainId:m}={}){try{const y=await this.getProvider(),v=(await y.request({method:"eth_requestAccounts"})).map(w=>getAddress$1(w));c||(c=this.onAccountsChanged.bind(this),y.on("accountsChanged",c)),u||(u=this.onChainChanged.bind(this),y.on("chainChanged",u)),h||(h=this.onDisconnect.bind(this),y.on("disconnect",h));let b=await this.getChainId();if(m&&b!==m){const w=await this.switchChain({chainId:m}).catch(S=>{if(S.code===UserRejectedRequestError.code)throw S;return{id:b}});b=(w==null?void 0:w.id)??b}return{accounts:v,chainId:b}}catch(y){throw/(user closed modal|accounts received is empty|user denied account)/i.test(y.message)?new UserRejectedRequestError(y):y}},async disconnect(){const m=await this.getProvider();c&&(m.removeListener("accountsChanged",c),c=void 0),u&&(m.removeListener("chainChanged",u),u=void 0),h&&(m.removeListener("disconnect",h),h=void 0),m.disconnect(),m.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(y=>getAddress$1(y))},async getChainId(){const y=await(await this.getProvider()).request({method:"eth_chainId"});return Number(y)},async getProvider(){var m;if(!a){const y=await(async()=>{const{default:P}=await __vitePreload(async()=>{const{default:R}=await import("./index-NzZyJS_h.js").then(T=>T.i);return{default:R}},__vite__mapDeps([2,1,3]));return typeof P!="function"&&typeof P.default=="function"?P.default:P})();o=new y({...e,reloadOnDisconnect:!1});const v=(m=o.walletExtension)==null?void 0:m.getChainId(),b=p.chains.find(P=>e.chainId?P.id===e.chainId:P.id===v)||p.chains[0],w=e.chainId||(b==null?void 0:b.id),S=e.jsonRpcUrl||(b==null?void 0:b.rpcUrls.default.http[0]);a=o.makeWeb3Provider(S,w)}return a},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:m,chainId:y}){var w,S,P,R;const v=p.chains.find(T=>T.id===y);if(!v)throw new SwitchChainError(new ChainNotConfiguredError);const b=await this.getProvider();try{return await b.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex$1(v.id)}]}),v}catch(T){if(T.code===4902)try{let k;m!=null&&m.blockExplorerUrls?k=m.blockExplorerUrls:k=(w=v.blockExplorers)!=null&&w.default.url?[(S=v.blockExplorers)==null?void 0:S.default.url]:[];let or;(P=m==null?void 0:m.rpcUrls)!=null&&P.length?or=m.rpcUrls:or=[((R=v.rpcUrls.default)==null?void 0:R.http[0])??""];const dr={blockExplorerUrls:k,chainId:numberToHex$1(y),chainName:(m==null?void 0:m.chainName)??v.name,iconUrls:m==null?void 0:m.iconUrls,nativeCurrency:(m==null?void 0:m.nativeCurrency)??v.nativeCurrency,rpcUrls:or};return await b.request({method:"wallet_addEthereumChain",params:[dr]}),v}catch(k){throw new UserRejectedRequestError(k)}throw new SwitchChainError(T)}},onAccountsChanged(m){m.length===0?this.onDisconnect():p.emitter.emit("change",{accounts:m.map(y=>getAddress$1(y))})},onChainChanged(m){const y=Number(m);p.emitter.emit("change",{chainId:y})},async onDisconnect(m){p.emitter.emit("disconnect");const y=await this.getProvider();c&&(y.removeListener("accountsChanged",c),c=void 0),u&&(y.removeListener("chainChanged",u),u=void 0),h&&(y.removeListener("disconnect",h),h=void 0)}})}metaMask.type="metaMask";function metaMask(e={}){let s,o,a,c,u,h,p,m;return y=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:metaMask.type,async setup(){const v=await this.getProvider();v!=null&&v.on&&(h||(h=this.onConnect.bind(this),v.on("connect",h)),c||(c=this.onAccountsChanged.bind(this),v.on("accountsChanged",c)))},async connect({chainId:v,isReconnecting:b}={}){const w=await this.getProvider();p||(p=this.onDisplayUri,w.on("display_uri",p));let S=[];b&&(S=await this.getAccounts().catch(()=>[]));try{let P,R;S!=null&&S.length||(e.connectAndSign||e.connectWith?(e.connectAndSign?P=await s.connectAndSign({msg:e.connectAndSign}):e.connectWith&&(R=await s.connectWith({method:e.connectWith.method,params:e.connectWith.params})),S=await this.getAccounts()):S=(await s.connect()).map(or=>getAddress$1(or)));let T=await this.getChainId();if(v&&T!==v){const k=await this.switchChain({chainId:v}).catch(or=>{if(or.code===UserRejectedRequestError.code)throw or;return{id:T}});T=(k==null?void 0:k.id)??T}return p&&(w.removeListener("display_uri",p),p=void 0),P?w.emit("connectAndSign",{accounts:S,chainId:T,signResponse:P}):R&&w.emit("connectWith",{accounts:S,chainId:T,connectWithResponse:R}),h&&(w.removeListener("connect",h),h=void 0),c||(c=this.onAccountsChanged.bind(this),w.on("accountsChanged",c)),u||(u=this.onChainChanged.bind(this),w.on("chainChanged",u)),m||(m=this.onDisconnect.bind(this),w.on("disconnect",m)),{accounts:S,chainId:T}}catch(P){const R=P;throw R.code===UserRejectedRequestError.code?new UserRejectedRequestError(R):R.code===ResourceUnavailableRpcError.code?new ResourceUnavailableRpcError(R):R}},async disconnect(){const v=await this.getProvider();u&&(v.removeListener("chainChanged",u),u=void 0),m&&(v.removeListener("disconnect",m),m=void 0),h||(h=this.onConnect.bind(this),v.on("connect",h)),await s.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(w=>getAddress$1(w))},async getChainId(){const v=await this.getProvider(),b=v.getChainId()||await(v==null?void 0:v.request({method:"eth_chainId"}));return Number(b)},async getProvider(){async function v(){var R,T,k,or,dr;const b=await(async()=>{const{default:yr}=await __vitePreload(async()=>{const{default:lr}=await import("./metamask-sdk-DYNMv1FF.js");return{default:lr}},__vite__mapDeps([4,3]));return typeof yr!="function"&&typeof yr.default=="function"?yr.default:yr})(),w={};for(const yr of y.chains)w[numberToHex$1(yr.id)]=(R=extractRpcUrls({chain:yr,transports:y.transports}))==null?void 0:R[0];s=new b({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...e,readonlyRPCMap:w,dappMetadata:{...e.dappMetadata,name:(T=e.dappMetadata)!=null&&T.name?(k=e.dappMetadata)==null?void 0:k.name:"wagmi",url:(or=e.dappMetadata)!=null&&or.url?(dr=e.dappMetadata)==null?void 0:dr.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:e.useDeeplink??!0});const S=await s.init(),P=S!=null&&S.activeProvider?S.activeProvider:s.getProvider();if(!P)throw new ProviderNotFoundError;return P}return o||(a||(a=v()),o=await a),o},async isAuthorized(){try{return!!(await withRetry(()=>withTimeout(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:v,chainId:b}){var T,k;const w=await this.getProvider(),S=y.chains.find(or=>or.id===b);if(!S)throw new SwitchChainError(new ChainNotConfiguredError);try{return await w.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex$1(b)}]}),await P(),await R(b),S}catch(or){const dr=or;if(dr.code===UserRejectedRequestError.code)throw new UserRejectedRequestError(dr);if(dr.code===4902||((k=(T=dr==null?void 0:dr.data)==null?void 0:T.originalError)==null?void 0:k.code)===4902)try{return await w.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:yr,...lr}=S.blockExplorers??{};if(v!=null&&v.blockExplorerUrls)return v.blockExplorerUrls;if(yr)return[yr.url,...Object.values(lr).map(br=>br.url)]})(),chainId:numberToHex$1(b),chainName:(v==null?void 0:v.chainName)??S.name,iconUrls:v==null?void 0:v.iconUrls,nativeCurrency:(v==null?void 0:v.nativeCurrency)??S.nativeCurrency,rpcUrls:(()=>{var yr,lr;return(yr=v==null?void 0:v.rpcUrls)!=null&&yr.length?v.rpcUrls:[((lr=S.rpcUrls.default)==null?void 0:lr.http[0])??""]})()}]}),await P(),await R(b),S}catch(yr){const lr=yr;throw lr.code===UserRejectedRequestError.code?new UserRejectedRequestError(lr):new SwitchChainError(lr)}throw new SwitchChainError(dr)}async function P(){await withRetry(async()=>{const or=hexToNumber$3(await w.request({method:"eth_chainId"}));if(or!==b)throw new Error("User rejected switch after adding network.");return or},{delay:50,retryCount:20})}async function R(or){await new Promise(dr=>{const yr=lr=>{"chainId"in lr&&lr.chainId===or&&(y.emitter.off("change",yr),dr())};y.emitter.on("change",yr),y.emitter.emit("change",{chainId:or})})}},async onAccountsChanged(v){if(v.length===0)if(s.isExtensionActive())this.onDisconnect();else return;else if(y.emitter.listenerCount("connect")){const b=(await this.getChainId()).toString();this.onConnect({chainId:b})}else y.emitter.emit("change",{accounts:v.map(b=>getAddress$1(b))})},onChainChanged(v){const b=Number(v);y.emitter.emit("change",{chainId:b})},async onConnect(v){const b=await this.getAccounts();if(b.length===0)return;const w=Number(v.chainId);y.emitter.emit("connect",{accounts:b,chainId:w});const S=await this.getProvider();h&&(S.removeListener("connect",h),h=void 0),c||(c=this.onAccountsChanged.bind(this),S.on("accountsChanged",c)),u||(u=this.onChainChanged.bind(this),S.on("chainChanged",u)),m||(m=this.onDisconnect.bind(this),S.on("disconnect",m))},async onDisconnect(v){const b=await this.getProvider();v&&v.code===1013&&b&&(await this.getAccounts()).length||(y.emitter.emit("disconnect"),u&&(b.removeListener("chainChanged",u),u=void 0),m&&(b.removeListener("disconnect",m),m=void 0),h||(h=this.onConnect.bind(this),b.on("connect",h)))},onDisplayUri(v){y.emitter.emit("message",{type:"display_uri",data:v})}})}const chains=[base$1,baseSepolia],config=createConfig({chains,connectors:[metaMask(),coinbaseWallet({appName:"AI Meeting Scheduler",appLogoUrl:"https://example.com/logo.png"})],transports:{[base$1.id]:http(),[baseSepolia.id]:http()}});function setRef(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function composeRefs(...e){return s=>{let o=!1;const a=e.map(c=>{const u=setRef(c,s);return!o&&typeof u=="function"&&(o=!0),u});if(o)return()=>{for(let c=0;c<a.length;c++){const u=a[c];typeof u=="function"?u():setRef(e[c],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}function createSlot(e){const s=createSlotClone(e),o=reactExports.forwardRef((a,c)=>{const{children:u,...h}=a,p=reactExports.Children.toArray(u),m=p.find(isSlottable);if(m){const y=m.props.children,v=p.map(b=>b===m?reactExports.Children.count(y)>1?reactExports.Children.only(null):reactExports.isValidElement(y)?y.props.children:null:b);return jsxRuntimeExports.jsx(s,{...h,ref:c,children:reactExports.isValidElement(y)?reactExports.cloneElement(y,void 0,v):null})}return jsxRuntimeExports.jsx(s,{...h,ref:c,children:u})});return o.displayName=`${e}.Slot`,o}var Slot$2=createSlot("Slot");function createSlotClone(e){const s=reactExports.forwardRef((o,a)=>{const{children:c,...u}=o;if(reactExports.isValidElement(c)){const h=getElementRef$1(c),p=mergeProps(u,c.props);return c.type!==reactExports.Fragment&&(p.ref=a?composeRefs(a,h):h),reactExports.cloneElement(c,p)}return reactExports.Children.count(c)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,s){const o={...s};for(const a in s){const c=e[a],u=s[a];/^on[A-Z]/.test(a)?c&&u?o[a]=(...p)=>{const m=u(...p);return c(...p),m}:c&&(o[a]=c):a==="style"?o[a]={...c,...u}:a==="className"&&(o[a]=[c,u].filter(Boolean).join(" "))}return{...e,...o}}function getElementRef$1(e){var a,c;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?e.ref:(s=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function r$1(e){var s,o,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(s=0;s<c;s++)e[s]&&(o=r$1(e[s]))&&(a&&(a+=" "),a+=o)}else for(o in e)e[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var e,s,o=0,a="",c=arguments.length;o<c;o++)(e=arguments[o])&&(s=r$1(e))&&(a&&(a+=" "),a+=s);return a}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,s)=>o=>{var a;if((s==null?void 0:s.variants)==null)return cx(e,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:c,defaultVariants:u}=s,h=Object.keys(c).map(y=>{const v=o==null?void 0:o[y],b=u==null?void 0:u[y];if(v===null)return null;const w=falsyToString(v)||falsyToString(b);return c[y][w]}),p=o&&Object.entries(o).reduce((y,v)=>{let[b,w]=v;return w===void 0||(y[b]=w),y},{}),m=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((y,v)=>{let{class:b,className:w,...S}=v;return Object.entries(S).every(P=>{let[R,T]=P;return Array.isArray(T)?T.includes({...u,...p}[R]):{...u,...p}[R]===T})?[...y,b,w]:y},[]);return cx(e,h,m,o==null?void 0:o.class,o==null?void 0:o.className)},buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:s,size:o,asChild:a=!1,...c},u)=>{const h=a?Slot$2:"button";return jsxRuntimeExports.jsx(h,{className:buttonVariants({variant:s,size:o,className:e}),ref:u,...c})});Button.displayName="Button";var __awaiter$3=function(e,s,o,a){function c(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function p(v){try{y(a.next(v))}catch(b){h(b)}}function m(v){try{y(a.throw(v))}catch(b){h(b)}}function y(v){v.done?u(v.value):c(v.value).then(p,m)}y((a=a.apply(e,s||[])).next())})},__rest$1=function(e,s){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)s.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o};const b64=new Array(64),s64=new Array(123);for(let e=0;e<64;)s64[b64[e]=e<26?e+65:e<52?e+71:e<62?e-4:e-59|43]=e++;function b64Encode(e,s,o){let a=null;const c=[];let u=0,h=0,p;for(;s<o;){const m=e[s++];switch(h){case 0:c[u++]=b64[m>>2],p=(m&3)<<4,h=1;break;case 1:c[u++]=b64[p|m>>4],p=(m&15)<<2,h=2;break;case 2:c[u++]=b64[p|m>>6],c[u++]=b64[m&63],h=0;break}u>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,c)),u=0)}return h&&(c[u++]=b64[p],c[u++]=61,h===1&&(c[u++]=61)),a?(u&&a.push(String.fromCharCode.apply(String,c.slice(0,u))),a.join("")):String.fromCharCode.apply(String,c.slice(0,u))}const invalidEncoding="invalid encoding";function b64Decode(e){const s=[];let o=0,a=0,c;for(let u=0;u<e.length;){let h=e.charCodeAt(u++);if(h===61&&a>1)break;if((h=s64[h])===void 0)throw Error(invalidEncoding);switch(a){case 0:c=h,a=1;break;case 1:s[o++]=c<<2|(h&48)>>4,c=h,a=2;break;case 2:s[o++]=(c&15)<<4|(h&60)>>2,c=h,a=3;break;case 3:s[o++]=(c&3)<<6|h,a=0;break}}if(a===1)throw Error(invalidEncoding);return new Uint8Array(s)}function replacer(e,s){return s&&s.constructor===Uint8Array?b64Encode(s,0,s.length):s}function fetchReq(e,s){const o=s||{},{pathPrefix:a}=o,c=__rest$1(o,["pathPrefix"]),u=a?`${a}${e}`:e;return fetch(u,c).then(h=>h.json().then(p=>{if(!h.ok)throw p;return p}))}function fetchStreamingRequest(e,s,o){return __awaiter$3(this,void 0,void 0,function*(){const a=o||{},{pathPrefix:c}=a,u=__rest$1(a,["pathPrefix"]),h=c?`${c}${e}`:e,p=yield fetch(h,u);if(!p.ok){const m=yield p.json(),y=m.error&&m.error.message?m.error.message:"";throw new Error(y)}if(!p.body)throw new Error("response doesnt have a body");yield p.body.pipeThrough(new TextDecoderStream).pipeThrough(getNewLineDelimitedJSONDecodingStream()).pipeTo(getNotifyEntityArrivalSink(m=>{s&&s(m)}))})}function getNewLineDelimitedJSONDecodingStream(){return new TransformStream({start(e){e.buf="",e.pos=0},transform(e,s){for(s.buf===void 0&&(s.buf=""),s.pos===void 0&&(s.pos=0),s.buf+=e;s.pos<s.buf.length;)if(s.buf[s.pos]===`
`){const o=s.buf.substring(0,s.pos),a=JSON.parse(o);s.enqueue(a.result),s.buf=s.buf.substring(s.pos+1),s.pos=0}else++s.pos}})}function getNotifyEntityArrivalSink(e){return new WritableStream({write(s){e(s)}})}function isPlainObject(e){const s=Object.prototype.toString.call(e).slice(8,-1)==="Object";if(!(e!==null&&s)||!s)return!1;const a=Object.getPrototypeOf(e);return typeof a=="object"&&a.constructor===Object.prototype.constructor}function isPrimitive(e){return["string","number","boolean"].some(s=>typeof e===s)}function isZeroValuePrimitive(e){return e===!1||e===0||e===""}function flattenRequestPayload(e,s=""){return Object.keys(e).reduce((o,a)=>{const c=e[a],u=s?[s,a].join("."):a,h=Array.isArray(c)&&c.every(y=>isPrimitive(y))&&c.length>0,p=isPrimitive(c)&&!isZeroValuePrimitive(c);let m={};return isPlainObject(c)?m=flattenRequestPayload(c,u):(p||h)&&(m={[u]:c}),Object.assign(Object.assign({},o),m)},{})}function renderURLSearchParams(e,s=[]){const o=flattenRequestPayload(e),a=Object.keys(o).reduce((c,u)=>{const h=o[u];return s.find(p=>p===u)?c:Array.isArray(h)?[...c,...h.map(p=>[u,p.toString()])]:c=[...c,[u,h.toString()]]},[]);return new URLSearchParams(a).toString()}const n$1=Object.freeze(Object.defineProperty({__proto__:null,b64Decode,b64Encode,fetchReq,fetchStreamingRequest,renderURLSearchParams,replacer},Symbol.toStringTag,{value:"Module"}));var SortDirection$1;(function(e){e.SORT_DIRECTION_UNSPECIFIED="SORT_DIRECTION_UNSPECIFIED",e.SORT_DIRECTION_ASCENDING="SORT_DIRECTION_ASCENDING",e.SORT_DIRECTION_DESCENDING="SORT_DIRECTION_DESCENDING"})(SortDirection$1||(SortDirection$1={}));class MessageApi{static Publish(s,o){return fetchReq("/message/v1/publish",Object.assign(Object.assign({},o),{method:"POST",body:JSON.stringify(s,replacer)}))}static Subscribe(s,o,a){return fetchStreamingRequest("/message/v1/subscribe",o,Object.assign(Object.assign({},a),{method:"POST",body:JSON.stringify(s,replacer)}))}static SubscribeAll(s,o,a){return fetchStreamingRequest("/message/v1/subscribe-all",o,Object.assign(Object.assign({},a),{method:"POST",body:JSON.stringify(s,replacer)}))}static Query(s,o){return fetchReq("/message/v1/query",Object.assign(Object.assign({},o),{method:"POST",body:JSON.stringify(s,replacer)}))}static BatchQuery(s,o){return fetchReq("/message/v1/batch-query",Object.assign(Object.assign({},o),{method:"POST",body:JSON.stringify(s,replacer)}))}}const d=Object.freeze(Object.defineProperty({__proto__:null,MessageApi,get SortDirection(){return SortDirection$1}},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm$1=null;try{wasm$1=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(e,s,o){this.low=e|0,this.high=s|0,this.unsigned=!!o}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(e){return(e&&e.__isLong__)===!0}function ctz32(e){var s=Math.clz32(e&-e);return e?31-s:s}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(e,s){var o,a,c;return s?(e>>>=0,(c=0<=e&&e<256)&&(a=UINT_CACHE[e],a)?a:(o=fromBits(e,0,!0),c&&(UINT_CACHE[e]=o),o)):(e|=0,(c=-128<=e&&e<128)&&(a=INT_CACHE[e],a)?a:(o=fromBits(e,e<0?-1:0,!1),c&&(INT_CACHE[e]=o),o))}Long.fromInt=fromInt;function fromNumber(e,s){if(isNaN(e))return s?UZERO:ZERO;if(s){if(e<0)return UZERO;if(e>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(e<=-TWO_PWR_63_DBL)return MIN_VALUE;if(e+1>=TWO_PWR_63_DBL)return MAX_VALUE}return e<0?fromNumber(-e,s).neg():fromBits(e%TWO_PWR_32_DBL|0,e/TWO_PWR_32_DBL|0,s)}Long.fromNumber=fromNumber;function fromBits(e,s,o){return new Long(e,s,o)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(e,s,o){if(e.length===0)throw Error("empty string");if(typeof s=="number"?(o=s,s=!1):s=!!s,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return s?UZERO:ZERO;if(o=o||10,o<2||36<o)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(a===0)return fromString(e.substring(1),s,o).neg();for(var c=fromNumber(pow_dbl(o,8)),u=ZERO,h=0;h<e.length;h+=8){var p=Math.min(8,e.length-h),m=parseInt(e.substring(h,h+p),o);if(p<8){var y=fromNumber(pow_dbl(o,p));u=u.mul(y).add(fromNumber(m))}else u=u.mul(c),u=u.add(fromNumber(m))}return u.unsigned=s,u}Long.fromString=fromString;function fromValue(e,s){return typeof e=="number"?fromNumber(e,s):typeof e=="string"?fromString(e,s):fromBits(e.low,e.high,typeof s=="boolean"?s:e.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(s){if(s=s||10,s<2||36<s)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var o=fromNumber(s),a=this.div(o),c=a.mul(o).sub(this);return a.toString(s)+c.toInt().toString(s)}else return"-"+this.neg().toString(s);for(var u=fromNumber(pow_dbl(s,6),this.unsigned),h=this,p="";;){var m=h.div(u),y=h.sub(m.mul(u)).toInt()>>>0,v=y.toString(s);if(h=m,h.isZero())return v+p;for(;v.length<6;)v="0"+v;p=""+v+p}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var s=this.high!=0?this.high:this.low,o=31;o>0&&(s&1<<o)==0;o--);return this.high!=0?o+33:o+1};LongPrototype.isSafeInteger=function(){var s=this.high>>21;return s?this.unsigned?!1:s===-1&&!(this.low===0&&this.high===-2097152):!0};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(s){return isLong(s)||(s=fromValue(s)),this.unsigned!==s.unsigned&&this.high>>>31===1&&s.high>>>31===1?!1:this.high===s.high&&this.low===s.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(s){return!this.eq(s)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(s){return this.comp(s)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(s){return this.comp(s)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(s){return this.comp(s)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(s){return this.comp(s)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(s){if(isLong(s)||(s=fromValue(s)),this.eq(s))return 0;var o=this.isNegative(),a=s.isNegative();return o&&!a?-1:!o&&a?1:this.unsigned?s.high>>>0>this.high>>>0||s.high===this.high&&s.low>>>0>this.low>>>0?-1:1:this.sub(s).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(s){isLong(s)||(s=fromValue(s));var o=this.high>>>16,a=this.high&65535,c=this.low>>>16,u=this.low&65535,h=s.high>>>16,p=s.high&65535,m=s.low>>>16,y=s.low&65535,v=0,b=0,w=0,S=0;return S+=u+y,w+=S>>>16,S&=65535,w+=c+m,b+=w>>>16,w&=65535,b+=a+p,v+=b>>>16,b&=65535,v+=o+h,v&=65535,fromBits(w<<16|S,v<<16|b,this.unsigned)};LongPrototype.subtract=function(s){return isLong(s)||(s=fromValue(s)),this.add(s.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(s){if(this.isZero())return this;if(isLong(s)||(s=fromValue(s)),wasm$1){var o=wasm$1.mul(this.low,this.high,s.low,s.high);return fromBits(o,wasm$1.get_high(),this.unsigned)}if(s.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return s.isOdd()?MIN_VALUE:ZERO;if(s.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return s.isNegative()?this.neg().mul(s.neg()):this.neg().mul(s).neg();if(s.isNegative())return this.mul(s.neg()).neg();if(this.lt(TWO_PWR_24)&&s.lt(TWO_PWR_24))return fromNumber(this.toNumber()*s.toNumber(),this.unsigned);var a=this.high>>>16,c=this.high&65535,u=this.low>>>16,h=this.low&65535,p=s.high>>>16,m=s.high&65535,y=s.low>>>16,v=s.low&65535,b=0,w=0,S=0,P=0;return P+=h*v,S+=P>>>16,P&=65535,S+=u*v,w+=S>>>16,S&=65535,S+=h*y,w+=S>>>16,S&=65535,w+=c*v,b+=w>>>16,w&=65535,w+=u*y,b+=w>>>16,w&=65535,w+=h*m,b+=w>>>16,w&=65535,b+=a*v+c*y+u*m+h*p,b&=65535,fromBits(S<<16|P,b<<16|w,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(s){if(isLong(s)||(s=fromValue(s)),s.isZero())throw Error("division by zero");if(wasm$1){if(!this.unsigned&&this.high===-2147483648&&s.low===-1&&s.high===-1)return this;var o=(this.unsigned?wasm$1.div_u:wasm$1.div_s)(this.low,this.high,s.low,s.high);return fromBits(o,wasm$1.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var a,c,u;if(this.unsigned){if(s.unsigned||(s=s.toUnsigned()),s.gt(this))return UZERO;if(s.gt(this.shru(1)))return UONE;u=UZERO}else{if(this.eq(MIN_VALUE)){if(s.eq(ONE)||s.eq(NEG_ONE))return MIN_VALUE;if(s.eq(MIN_VALUE))return ONE;var h=this.shr(1);return a=h.div(s).shl(1),a.eq(ZERO)?s.isNegative()?ONE:NEG_ONE:(c=this.sub(s.mul(a)),u=a.add(c.div(s)),u)}else if(s.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return s.isNegative()?this.neg().div(s.neg()):this.neg().div(s).neg();if(s.isNegative())return this.div(s.neg()).neg();u=ZERO}for(c=this;c.gte(s);){a=Math.max(1,Math.floor(c.toNumber()/s.toNumber()));for(var p=Math.ceil(Math.log(a)/Math.LN2),m=p<=48?1:pow_dbl(2,p-48),y=fromNumber(a),v=y.mul(s);v.isNegative()||v.gt(c);)a-=m,y=fromNumber(a,this.unsigned),v=y.mul(s);y.isZero()&&(y=ONE),u=u.add(y),c=c.sub(v)}return u};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(s){if(isLong(s)||(s=fromValue(s)),wasm$1){var o=(this.unsigned?wasm$1.rem_u:wasm$1.rem_s)(this.low,this.high,s.low,s.high);return fromBits(o,wasm$1.get_high(),this.unsigned)}return this.sub(this.div(s).mul(s))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(s){return isLong(s)||(s=fromValue(s)),fromBits(this.low&s.low,this.high&s.high,this.unsigned)};LongPrototype.or=function(s){return isLong(s)||(s=fromValue(s)),fromBits(this.low|s.low,this.high|s.high,this.unsigned)};LongPrototype.xor=function(s){return isLong(s)||(s=fromValue(s)),fromBits(this.low^s.low,this.high^s.high,this.unsigned)};LongPrototype.shiftLeft=function(s){return isLong(s)&&(s=s.toInt()),(s&=63)===0?this:s<32?fromBits(this.low<<s,this.high<<s|this.low>>>32-s,this.unsigned):fromBits(0,this.low<<s-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(s){return isLong(s)&&(s=s.toInt()),(s&=63)===0?this:s<32?fromBits(this.low>>>s|this.high<<32-s,this.high>>s,this.unsigned):fromBits(this.high>>s-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(s){return isLong(s)&&(s=s.toInt()),(s&=63)===0?this:s<32?fromBits(this.low>>>s|this.high<<32-s,this.high>>>s,this.unsigned):s===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>s-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(s){var o;return isLong(s)&&(s=s.toInt()),(s&=63)===0?this:s===32?fromBits(this.high,this.low,this.unsigned):s<32?(o=32-s,fromBits(this.low<<s|this.high>>>o,this.high<<s|this.low>>>o,this.unsigned)):(s-=32,o=32-s,fromBits(this.high<<s|this.low>>>o,this.low<<s|this.high>>>o,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(s){var o;return isLong(s)&&(s=s.toInt()),(s&=63)===0?this:s===32?fromBits(this.high,this.low,this.unsigned):s<32?(o=32-s,fromBits(this.high<<o|this.low>>>s,this.low<<o|this.high>>>s,this.unsigned)):(s-=32,o=32-s,fromBits(this.low<<o|this.high>>>s,this.high<<o|this.low>>>s,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(s){return s?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var s=this.high,o=this.low;return[o&255,o>>>8&255,o>>>16&255,o>>>24,s&255,s>>>8&255,s>>>16&255,s>>>24]};LongPrototype.toBytesBE=function(){var s=this.high,o=this.low;return[s>>>24,s>>>16&255,s>>>8&255,s&255,o>>>24,o>>>16&255,o>>>8&255,o&255]};Long.fromBytes=function(s,o,a){return a?Long.fromBytesLE(s,o):Long.fromBytesBE(s,o)};Long.fromBytesLE=function(s,o){return new Long(s[0]|s[1]<<8|s[2]<<16|s[3]<<24,s[4]|s[5]<<8|s[6]<<16|s[7]<<24,o)};Long.fromBytesBE=function(s,o){return new Long(s[4]<<24|s[5]<<16|s[6]<<8|s[7],s[0]<<24|s[1]<<16|s[2]<<8|s[3],o)};typeof BigInt=="function"&&(Long.fromBigInt=function(s,o){var a=Number(BigInt.asIntN(32,s)),c=Number(BigInt.asIntN(32,s>>BigInt(32)));return fromBits(a,c,o)},Long.fromValue=function(s,o){return typeof s=="bigint"?Long.fromBigInt(s,o):fromValue(s,o)},LongPrototype.toBigInt=function(){var s=BigInt(this.low>>>0),o=BigInt(this.unsigned?this.high>>>0:this.high);return o<<BigInt(32)|s});var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=e;function e(s,o){for(var a=new Array(arguments.length-1),c=0,u=2,h=!0;u<arguments.length;)a[c++]=arguments[u++];return new Promise(function(m,y){a[c]=function(b){if(h)if(h=!1,b)y(b);else{for(var w=new Array(arguments.length-1),S=0;S<w.length;)w[S++]=arguments[S];m.apply(null,w)}};try{s.apply(o||null,a)}catch(v){h&&(h=!1,y(v))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(e){var s=e;s.length=function(p){var m=p.length;if(!m)return 0;for(var y=0;--m%4>1&&p.charAt(m)==="=";)++y;return Math.ceil(p.length*3)/4-y};for(var o=new Array(64),a=new Array(123),c=0;c<64;)a[o[c]=c<26?c+65:c<52?c+71:c<62?c-4:c-59|43]=c++;s.encode=function(p,m,y){for(var v=null,b=[],w=0,S=0,P;m<y;){var R=p[m++];switch(S){case 0:b[w++]=o[R>>2],P=(R&3)<<4,S=1;break;case 1:b[w++]=o[P|R>>4],P=(R&15)<<2,S=2;break;case 2:b[w++]=o[P|R>>6],b[w++]=o[R&63],S=0;break}w>8191&&((v||(v=[])).push(String.fromCharCode.apply(String,b)),w=0)}return S&&(b[w++]=o[P],b[w++]=61,S===1&&(b[w++]=61)),v?(w&&v.push(String.fromCharCode.apply(String,b.slice(0,w))),v.join("")):String.fromCharCode.apply(String,b.slice(0,w))};var u="invalid encoding";s.decode=function(p,m,y){for(var v=y,b=0,w,S=0;S<p.length;){var P=p.charCodeAt(S++);if(P===61&&b>1)break;if((P=a[P])===void 0)throw Error(u);switch(b){case 0:w=P,b=1;break;case 1:m[y++]=w<<2|(P&48)>>4,w=P,b=2;break;case 2:m[y++]=(w&15)<<4|(P&60)>>2,w=P,b=3;break;case 3:m[y++]=(w&3)<<6|P,b=0;break}}if(b===1)throw Error(u);return y-v},s.test=function(p){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(p)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=e;function e(){this._listeners={}}return e.prototype.on=function(o,a,c){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:a,ctx:c||this}),this},e.prototype.off=function(o,a){if(o===void 0)this._listeners={};else if(a===void 0)this._listeners[o]=[];else for(var c=this._listeners[o],u=0;u<c.length;)c[u].fn===a?c.splice(u,1):++u;return this},e.prototype.emit=function(o){var a=this._listeners[o];if(a){for(var c=[],u=1;u<arguments.length;)c.push(arguments[u++]);for(u=0;u<a.length;)a[u].fn.apply(a[u++].ctx,c)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=e(e);function e(u){return typeof Float32Array<"u"?function(){var h=new Float32Array([-0]),p=new Uint8Array(h.buffer),m=p[3]===128;function y(S,P,R){h[0]=S,P[R]=p[0],P[R+1]=p[1],P[R+2]=p[2],P[R+3]=p[3]}function v(S,P,R){h[0]=S,P[R]=p[3],P[R+1]=p[2],P[R+2]=p[1],P[R+3]=p[0]}u.writeFloatLE=m?y:v,u.writeFloatBE=m?v:y;function b(S,P){return p[0]=S[P],p[1]=S[P+1],p[2]=S[P+2],p[3]=S[P+3],h[0]}function w(S,P){return p[3]=S[P],p[2]=S[P+1],p[1]=S[P+2],p[0]=S[P+3],h[0]}u.readFloatLE=m?b:w,u.readFloatBE=m?w:b}():function(){function h(m,y,v,b){var w=y<0?1:0;if(w&&(y=-y),y===0)m(1/y>0?0:2147483648,v,b);else if(isNaN(y))m(2143289344,v,b);else if(y>34028234663852886e22)m((w<<31|2139095040)>>>0,v,b);else if(y<11754943508222875e-54)m((w<<31|Math.round(y/1401298464324817e-60))>>>0,v,b);else{var S=Math.floor(Math.log(y)/Math.LN2),P=Math.round(y*Math.pow(2,-S)*8388608)&8388607;m((w<<31|S+127<<23|P)>>>0,v,b)}}u.writeFloatLE=h.bind(null,s),u.writeFloatBE=h.bind(null,o);function p(m,y,v){var b=m(y,v),w=(b>>31)*2+1,S=b>>>23&255,P=b&8388607;return S===255?P?NaN:w*(1/0):S===0?w*1401298464324817e-60*P:w*Math.pow(2,S-150)*(P+8388608)}u.readFloatLE=p.bind(null,a),u.readFloatBE=p.bind(null,c)}(),typeof Float64Array<"u"?function(){var h=new Float64Array([-0]),p=new Uint8Array(h.buffer),m=p[7]===128;function y(S,P,R){h[0]=S,P[R]=p[0],P[R+1]=p[1],P[R+2]=p[2],P[R+3]=p[3],P[R+4]=p[4],P[R+5]=p[5],P[R+6]=p[6],P[R+7]=p[7]}function v(S,P,R){h[0]=S,P[R]=p[7],P[R+1]=p[6],P[R+2]=p[5],P[R+3]=p[4],P[R+4]=p[3],P[R+5]=p[2],P[R+6]=p[1],P[R+7]=p[0]}u.writeDoubleLE=m?y:v,u.writeDoubleBE=m?v:y;function b(S,P){return p[0]=S[P],p[1]=S[P+1],p[2]=S[P+2],p[3]=S[P+3],p[4]=S[P+4],p[5]=S[P+5],p[6]=S[P+6],p[7]=S[P+7],h[0]}function w(S,P){return p[7]=S[P],p[6]=S[P+1],p[5]=S[P+2],p[4]=S[P+3],p[3]=S[P+4],p[2]=S[P+5],p[1]=S[P+6],p[0]=S[P+7],h[0]}u.readDoubleLE=m?b:w,u.readDoubleBE=m?w:b}():function(){function h(m,y,v,b,w,S){var P=b<0?1:0;if(P&&(b=-b),b===0)m(0,w,S+y),m(1/b>0?0:2147483648,w,S+v);else if(isNaN(b))m(0,w,S+y),m(2146959360,w,S+v);else if(b>17976931348623157e292)m(0,w,S+y),m((P<<31|2146435072)>>>0,w,S+v);else{var R;if(b<22250738585072014e-324)R=b/5e-324,m(R>>>0,w,S+y),m((P<<31|R/4294967296)>>>0,w,S+v);else{var T=Math.floor(Math.log(b)/Math.LN2);T===1024&&(T=1023),R=b*Math.pow(2,-T),m(R*4503599627370496>>>0,w,S+y),m((P<<31|T+1023<<20|R*1048576&1048575)>>>0,w,S+v)}}}u.writeDoubleLE=h.bind(null,s,0,4),u.writeDoubleBE=h.bind(null,o,4,0);function p(m,y,v,b,w){var S=m(b,w+y),P=m(b,w+v),R=(P>>31)*2+1,T=P>>>20&2047,k=4294967296*(P&1048575)+S;return T===2047?k?NaN:R*(1/0):T===0?R*5e-324*k:R*Math.pow(2,T-1075)*(k+4503599627370496)}u.readDoubleLE=p.bind(null,a,0,4),u.readDoubleBE=p.bind(null,c,4,0)}(),u}function s(u,h,p){h[p]=u&255,h[p+1]=u>>>8&255,h[p+2]=u>>>16&255,h[p+3]=u>>>24}function o(u,h,p){h[p]=u>>>24,h[p+1]=u>>>16&255,h[p+2]=u>>>8&255,h[p+3]=u&255}function a(u,h){return(u[h]|u[h+1]<<8|u[h+2]<<16|u[h+3]<<24)>>>0}function c(u,h){return(u[h]<<24|u[h+1]<<16|u[h+2]<<8|u[h+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(e){var s=e;s.length=function(a){for(var c=0,u=0,h=0;h<a.length;++h)u=a.charCodeAt(h),u<128?c+=1:u<2048?c+=2:(u&64512)===55296&&(a.charCodeAt(h+1)&64512)===56320?(++h,c+=4):c+=3;return c},s.read=function(a,c,u){var h=u-c;if(h<1)return"";for(var p=null,m=[],y=0,v;c<u;)v=a[c++],v<128?m[y++]=v:v>191&&v<224?m[y++]=(v&31)<<6|a[c++]&63:v>239&&v<365?(v=((v&7)<<18|(a[c++]&63)<<12|(a[c++]&63)<<6|a[c++]&63)-65536,m[y++]=55296+(v>>10),m[y++]=56320+(v&1023)):m[y++]=(v&15)<<12|(a[c++]&63)<<6|a[c++]&63,y>8191&&((p||(p=[])).push(String.fromCharCode.apply(String,m)),y=0);return p?(y&&p.push(String.fromCharCode.apply(String,m.slice(0,y))),p.join("")):String.fromCharCode.apply(String,m.slice(0,y))},s.write=function(a,c,u){for(var h=u,p,m,y=0;y<a.length;++y)p=a.charCodeAt(y),p<128?c[u++]=p:p<2048?(c[u++]=p>>6|192,c[u++]=p&63|128):(p&64512)===55296&&((m=a.charCodeAt(y+1))&64512)===56320?(p=65536+((p&1023)<<10)+(m&1023),++y,c[u++]=p>>18|240,c[u++]=p>>12&63|128,c[u++]=p>>6&63|128,c[u++]=p&63|128):(c[u++]=p>>12|224,c[u++]=p>>6&63|128,c[u++]=p&63|128);return u-h}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=e;function e(s,o,a){var c=a||8192,u=c>>>1,h=null,p=c;return function(y){if(y<1||y>u)return s(y);p+y>c&&(h=s(c),p=0);var v=o.call(h,p,p+=y);return p&7&&(p=(p|7)+1),v}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=s;var e=requireMinimal$1();function s(u,h){this.lo=u>>>0,this.hi=h>>>0}var o=s.zero=new s(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=s.zeroHash="\0\0\0\0\0\0\0\0";s.fromNumber=function(h){if(h===0)return o;var p=h<0;p&&(h=-h);var m=h>>>0,y=(h-m)/4294967296>>>0;return p&&(y=~y>>>0,m=~m>>>0,++m>4294967295&&(m=0,++y>4294967295&&(y=0))),new s(m,y)},s.from=function(h){if(typeof h=="number")return s.fromNumber(h);if(e.isString(h))if(e.Long)h=e.Long.fromString(h);else return s.fromNumber(parseInt(h,10));return h.low||h.high?new s(h.low>>>0,h.high>>>0):o},s.prototype.toNumber=function(h){if(!h&&this.hi>>>31){var p=~this.lo+1>>>0,m=~this.hi>>>0;return p||(m=m+1>>>0),-(p+m*4294967296)}return this.lo+this.hi*4294967296},s.prototype.toLong=function(h){return e.Long?new e.Long(this.lo|0,this.hi|0,!!h):{low:this.lo|0,high:this.hi|0,unsigned:!!h}};var c=String.prototype.charCodeAt;return s.fromHash=function(h){return h===a?o:new s((c.call(h,0)|c.call(h,1)<<8|c.call(h,2)<<16|c.call(h,3)<<24)>>>0,(c.call(h,4)|c.call(h,5)<<8|c.call(h,6)<<16|c.call(h,7)<<24)>>>0)},s.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},s.prototype.zzEncode=function(){var h=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^h)>>>0,this.lo=(this.lo<<1^h)>>>0,this},s.prototype.zzDecode=function(){var h=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^h)>>>0,this.hi=(this.hi>>>1^h)>>>0,this},s.prototype.length=function(){var h=this.lo,p=(this.lo>>>28|this.hi<<4)>>>0,m=this.hi>>>24;return m===0?p===0?h<16384?h<128?1:2:h<2097152?3:4:p<16384?p<128?5:6:p<2097152?7:8:m<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(e){var s=e;s.asPromise=requireAspromise(),s.base64=requireBase64(),s.EventEmitter=requireEventemitter(),s.float=requireFloat(),s.inquire=requireInquire(),s.utf8=requireUtf8(),s.pool=requirePool(),s.LongBits=requireLongbits(),s.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node),s.global=s.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,s.emptyArray=Object.freeze?Object.freeze([]):[],s.emptyObject=Object.freeze?Object.freeze({}):{},s.isInteger=Number.isInteger||function(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u},s.isString=function(u){return typeof u=="string"||u instanceof String},s.isObject=function(u){return u&&typeof u=="object"},s.isset=s.isSet=function(u,h){var p=u[h];return p!=null&&u.hasOwnProperty(h)?typeof p!="object"||(Array.isArray(p)?p.length:Object.keys(p).length)>0:!1},s.Buffer=function(){try{var c=s.inquire("buffer").Buffer;return c.prototype.utf8Write?c:null}catch{return null}}(),s._Buffer_from=null,s._Buffer_allocUnsafe=null,s.newBuffer=function(u){return typeof u=="number"?s.Buffer?s._Buffer_allocUnsafe(u):new s.Array(u):s.Buffer?s._Buffer_from(u):typeof Uint8Array>"u"?u:new Uint8Array(u)},s.Array=typeof Uint8Array<"u"?Uint8Array:Array,s.Long=s.global.dcodeIO&&s.global.dcodeIO.Long||s.global.Long||s.inquire("long"),s.key2Re=/^true|false|0|1$/,s.key32Re=/^-?(?:0|[1-9][0-9]*)$/,s.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,s.longToHash=function(u){return u?s.LongBits.from(u).toHash():s.LongBits.zeroHash},s.longFromHash=function(u,h){var p=s.LongBits.fromHash(u);return s.Long?s.Long.fromBits(p.lo,p.hi,h):p.toNumber(!!h)};function o(c,u,h){for(var p=Object.keys(u),m=0;m<p.length;++m)(c[p[m]]===void 0||!h)&&(c[p[m]]=u[p[m]]);return c}s.merge=o,s.lcFirst=function(u){return u.charAt(0).toLowerCase()+u.substring(1)};function a(c){function u(h,p){if(!(this instanceof u))return new u(h,p);Object.defineProperty(this,"message",{get:function(){return h}}),Error.captureStackTrace?Error.captureStackTrace(this,u):Object.defineProperty(this,"stack",{value:new Error().stack||""}),p&&o(this,p)}return u.prototype=Object.create(Error.prototype,{constructor:{value:u,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return c},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),u}s.newError=a,s.ProtocolError=a("ProtocolError"),s.oneOfGetter=function(u){for(var h={},p=0;p<u.length;++p)h[u[p]]=1;return function(){for(var m=Object.keys(this),y=m.length-1;y>-1;--y)if(h[m[y]]===1&&this[m[y]]!==void 0&&this[m[y]]!==null)return m[y]}},s.oneOfSetter=function(u){return function(h){for(var p=0;p<u.length;++p)u[p]!==h&&delete this[u[p]]}},s.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},s._configure=function(){var c=s.Buffer;if(!c){s._Buffer_from=s._Buffer_allocUnsafe=null;return}s._Buffer_from=c.from!==Uint8Array.from&&c.from||function(h,p){return new c(h,p)},s._Buffer_allocUnsafe=c.allocUnsafe||function(h){return new c(h)}}}(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=m;var e=requireMinimal$1(),s,o=e.LongBits,a=e.base64,c=e.utf8;function u(T,k,or){this.fn=T,this.len=k,this.next=void 0,this.val=or}function h(){}function p(T){this.head=T.head,this.tail=T.tail,this.len=T.len,this.next=T.states}function m(){this.len=0,this.head=new u(h,0,0),this.tail=this.head,this.states=null}var y=function(){return e.Buffer?function(){return(m.create=function(){return new s})()}:function(){return new m}};m.create=y(),m.alloc=function(k){return new e.Array(k)},e.Array!==Array&&(m.alloc=e.pool(m.alloc,e.Array.prototype.subarray)),m.prototype._push=function(k,or,dr){return this.tail=this.tail.next=new u(k,or,dr),this.len+=or,this};function v(T,k,or){k[or]=T&255}function b(T,k,or){for(;T>127;)k[or++]=T&127|128,T>>>=7;k[or]=T}function w(T,k){this.len=T,this.next=void 0,this.val=k}w.prototype=Object.create(u.prototype),w.prototype.fn=b,m.prototype.uint32=function(k){return this.len+=(this.tail=this.tail.next=new w((k=k>>>0)<128?1:k<16384?2:k<2097152?3:k<268435456?4:5,k)).len,this},m.prototype.int32=function(k){return k<0?this._push(S,10,o.fromNumber(k)):this.uint32(k)},m.prototype.sint32=function(k){return this.uint32((k<<1^k>>31)>>>0)};function S(T,k,or){for(;T.hi;)k[or++]=T.lo&127|128,T.lo=(T.lo>>>7|T.hi<<25)>>>0,T.hi>>>=7;for(;T.lo>127;)k[or++]=T.lo&127|128,T.lo=T.lo>>>7;k[or++]=T.lo}m.prototype.uint64=function(k){var or=o.from(k);return this._push(S,or.length(),or)},m.prototype.int64=m.prototype.uint64,m.prototype.sint64=function(k){var or=o.from(k).zzEncode();return this._push(S,or.length(),or)},m.prototype.bool=function(k){return this._push(v,1,k?1:0)};function P(T,k,or){k[or]=T&255,k[or+1]=T>>>8&255,k[or+2]=T>>>16&255,k[or+3]=T>>>24}m.prototype.fixed32=function(k){return this._push(P,4,k>>>0)},m.prototype.sfixed32=m.prototype.fixed32,m.prototype.fixed64=function(k){var or=o.from(k);return this._push(P,4,or.lo)._push(P,4,or.hi)},m.prototype.sfixed64=m.prototype.fixed64,m.prototype.float=function(k){return this._push(e.float.writeFloatLE,4,k)},m.prototype.double=function(k){return this._push(e.float.writeDoubleLE,8,k)};var R=e.Array.prototype.set?function(k,or,dr){or.set(k,dr)}:function(k,or,dr){for(var yr=0;yr<k.length;++yr)or[dr+yr]=k[yr]};return m.prototype.bytes=function(k){var or=k.length>>>0;if(!or)return this._push(v,1,0);if(e.isString(k)){var dr=m.alloc(or=a.length(k));a.decode(k,dr,0),k=dr}return this.uint32(or)._push(R,or,k)},m.prototype.string=function(k){var or=c.length(k);return or?this.uint32(or)._push(c.write,or,k):this._push(v,1,0)},m.prototype.fork=function(){return this.states=new p(this),this.head=this.tail=new u(h,0,0),this.len=0,this},m.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(h,0,0),this.len=0),this},m.prototype.ldelim=function(){var k=this.head,or=this.tail,dr=this.len;return this.reset().uint32(dr),dr&&(this.tail.next=k.next,this.tail=or,this.len+=dr),this},m.prototype.finish=function(){for(var k=this.head.next,or=this.constructor.alloc(this.len),dr=0;k;)k.fn(k.val,or,dr),dr+=k.len,k=k.next;return or},m._configure=function(T){s=T,m.create=y(),s._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=o;var e=requireWriter();(o.prototype=Object.create(e.prototype)).constructor=o;var s=requireMinimal$1();function o(){e.call(this)}o._configure=function(){o.alloc=s._Buffer_allocUnsafe,o.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&s.Buffer.prototype.set.name==="set"?function(u,h,p){h.set(u,p)}:function(u,h,p){if(u.copy)u.copy(h,p,0,u.length);else for(var m=0;m<u.length;)h[p++]=u[m++]}},o.prototype.bytes=function(u){s.isString(u)&&(u=s._Buffer_from(u,"base64"));var h=u.length>>>0;return this.uint32(h),h&&this._push(o.writeBytesBuffer,h,u),this};function a(c,u,h){c.length<40?s.utf8.write(c,u,h):u.utf8Write?u.utf8Write(c,h):u.write(c,h)}return o.prototype.string=function(u){var h=s.Buffer.byteLength(u);return this.uint32(h),h&&this._push(a,h,u),this},o._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=u;var e=requireMinimal$1(),s,o=e.LongBits,a=e.utf8;function c(b,w){return RangeError("index out of range: "+b.pos+" + "+(w||1)+" > "+b.len)}function u(b){this.buf=b,this.pos=0,this.len=b.length}var h=typeof Uint8Array<"u"?function(w){if(w instanceof Uint8Array||Array.isArray(w))return new u(w);throw Error("illegal buffer")}:function(w){if(Array.isArray(w))return new u(w);throw Error("illegal buffer")},p=function(){return e.Buffer?function(S){return(u.create=function(R){return e.Buffer.isBuffer(R)?new s(R):h(R)})(S)}:h};u.create=p(),u.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,u.prototype.uint32=function(){var w=4294967295;return function(){if(w=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(w=(w|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(w=(w|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return w;if((this.pos+=5)>this.len)throw this.pos=this.len,c(this,10);return w}}(),u.prototype.int32=function(){return this.uint32()|0},u.prototype.sint32=function(){var w=this.uint32();return w>>>1^-(w&1)|0};function m(){var b=new o(0,0),w=0;if(this.len-this.pos>4){for(;w<4;++w)if(b.lo=(b.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return b;if(b.lo=(b.lo|(this.buf[this.pos]&127)<<28)>>>0,b.hi=(b.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return b;w=0}else{for(;w<3;++w){if(this.pos>=this.len)throw c(this);if(b.lo=(b.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return b}return b.lo=(b.lo|(this.buf[this.pos++]&127)<<w*7)>>>0,b}if(this.len-this.pos>4){for(;w<5;++w)if(b.hi=(b.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return b}else for(;w<5;++w){if(this.pos>=this.len)throw c(this);if(b.hi=(b.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return b}throw Error("invalid varint encoding")}u.prototype.bool=function(){return this.uint32()!==0};function y(b,w){return(b[w-4]|b[w-3]<<8|b[w-2]<<16|b[w-1]<<24)>>>0}u.prototype.fixed32=function(){if(this.pos+4>this.len)throw c(this,4);return y(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw c(this,4);return y(this.buf,this.pos+=4)|0};function v(){if(this.pos+8>this.len)throw c(this,8);return new o(y(this.buf,this.pos+=4),y(this.buf,this.pos+=4))}return u.prototype.float=function(){if(this.pos+4>this.len)throw c(this,4);var w=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,w},u.prototype.double=function(){if(this.pos+8>this.len)throw c(this,4);var w=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,w},u.prototype.bytes=function(){var w=this.uint32(),S=this.pos,P=this.pos+w;if(P>this.len)throw c(this,w);if(this.pos+=w,Array.isArray(this.buf))return this.buf.slice(S,P);if(S===P){var R=e.Buffer;return R?R.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,S,P)},u.prototype.string=function(){var w=this.bytes();return a.read(w,0,w.length)},u.prototype.skip=function(w){if(typeof w=="number"){if(this.pos+w>this.len)throw c(this,w);this.pos+=w}else do if(this.pos>=this.len)throw c(this);while(this.buf[this.pos++]&128);return this},u.prototype.skipType=function(b){switch(b){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(b=this.uint32()&7)!==4;)this.skipType(b);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+b+" at offset "+this.pos)}return this},u._configure=function(b){s=b,u.create=p(),s._configure();var w=e.Long?"toLong":"toNumber";e.merge(u.prototype,{int64:function(){return m.call(this)[w](!1)},uint64:function(){return m.call(this)[w](!0)},sint64:function(){return m.call(this).zzDecode()[w](!1)},fixed64:function(){return v.call(this)[w](!0)},sfixed64:function(){return v.call(this)[w](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=o;var e=requireReader();(o.prototype=Object.create(e.prototype)).constructor=o;var s=requireMinimal$1();function o(a){e.call(this,a)}return o._configure=function(){s.Buffer&&(o.prototype._slice=s.Buffer.prototype.slice)},o.prototype.string=function(){var c=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+c,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+c,this.len))},o._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=s;var e=requireMinimal$1();(s.prototype=Object.create(e.EventEmitter.prototype)).constructor=s;function s(o,a,c){if(typeof o!="function")throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!a,this.responseDelimited=!!c}return s.prototype.rpcCall=function o(a,c,u,h,p){if(!h)throw TypeError("request must be specified");var m=this;if(!p)return e.asPromise(o,m,a,c,u,h);if(!m.rpcImpl){setTimeout(function(){p(Error("already ended"))},0);return}try{return m.rpcImpl(a,c[m.requestDelimited?"encodeDelimited":"encode"](h).finish(),function(v,b){if(v)return m.emit("error",v,a),p(v);if(b===null){m.end(!0);return}if(!(b instanceof u))try{b=u[m.responseDelimited?"decodeDelimited":"decode"](b)}catch(w){return m.emit("error",w,a),p(w)}return m.emit("data",b,a),p(null,b)})}catch(y){m.emit("error",y,a),setTimeout(function(){p(y)},0);return}},s.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(e){var s=e;s.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(e){var s=e;s.build="minimal",s.Writer=requireWriter(),s.BufferWriter=requireWriter_buffer(),s.Reader=requireReader(),s.BufferReader=requireReader_buffer(),s.util=requireMinimal$1(),s.rpc=requireRpc(),s.roots=requireRoots(),s.configure=o;function o(){s.util._configure(),s.Writer._configure(s.BufferWriter),s.Reader._configure(s.BufferReader)}o()}(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal();const _m0=getDefaultExportFromCjs(minimalExports);function createBaseSignature(){return{ecdsaCompact:void 0,walletEcdsaCompact:void 0}}const Signature$1={encode(e,s=_m0.Writer.create()){return e.ecdsaCompact!==void 0&&Signature_ECDSACompact.encode(e.ecdsaCompact,s.uint32(10).fork()).ldelim(),e.walletEcdsaCompact!==void 0&&Signature_WalletECDSACompact.encode(e.walletEcdsaCompact,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignature();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.ecdsaCompact=Signature_ECDSACompact.decode(o,o.uint32());break;case 2:c.walletEcdsaCompact=Signature_WalletECDSACompact.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{ecdsaCompact:isSet$b(e.ecdsaCompact)?Signature_ECDSACompact.fromJSON(e.ecdsaCompact):void 0,walletEcdsaCompact:isSet$b(e.walletEcdsaCompact)?Signature_WalletECDSACompact.fromJSON(e.walletEcdsaCompact):void 0}},toJSON(e){const s={};return e.ecdsaCompact!==void 0&&(s.ecdsaCompact=e.ecdsaCompact?Signature_ECDSACompact.toJSON(e.ecdsaCompact):void 0),e.walletEcdsaCompact!==void 0&&(s.walletEcdsaCompact=e.walletEcdsaCompact?Signature_WalletECDSACompact.toJSON(e.walletEcdsaCompact):void 0),s},fromPartial(e){const s=createBaseSignature();return s.ecdsaCompact=e.ecdsaCompact!==void 0&&e.ecdsaCompact!==null?Signature_ECDSACompact.fromPartial(e.ecdsaCompact):void 0,s.walletEcdsaCompact=e.walletEcdsaCompact!==void 0&&e.walletEcdsaCompact!==null?Signature_WalletECDSACompact.fromPartial(e.walletEcdsaCompact):void 0,s}};function createBaseSignature_ECDSACompact(){return{bytes:new Uint8Array,recovery:0}}const Signature_ECDSACompact={encode(e,s=_m0.Writer.create()){return e.bytes.length!==0&&s.uint32(10).bytes(e.bytes),e.recovery!==0&&s.uint32(16).uint32(e.recovery),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignature_ECDSACompact();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.bytes=o.bytes();break;case 2:c.recovery=o.uint32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{bytes:isSet$b(e.bytes)?bytesFromBase64$8(e.bytes):new Uint8Array,recovery:isSet$b(e.recovery)?Number(e.recovery):0}},toJSON(e){const s={};return e.bytes!==void 0&&(s.bytes=base64FromBytes$8(e.bytes!==void 0?e.bytes:new Uint8Array)),e.recovery!==void 0&&(s.recovery=Math.round(e.recovery)),s},fromPartial(e){var s,o;const a=createBaseSignature_ECDSACompact();return a.bytes=(s=e.bytes)!==null&&s!==void 0?s:new Uint8Array,a.recovery=(o=e.recovery)!==null&&o!==void 0?o:0,a}};function createBaseSignature_WalletECDSACompact(){return{bytes:new Uint8Array,recovery:0}}const Signature_WalletECDSACompact={encode(e,s=_m0.Writer.create()){return e.bytes.length!==0&&s.uint32(10).bytes(e.bytes),e.recovery!==0&&s.uint32(16).uint32(e.recovery),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignature_WalletECDSACompact();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.bytes=o.bytes();break;case 2:c.recovery=o.uint32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{bytes:isSet$b(e.bytes)?bytesFromBase64$8(e.bytes):new Uint8Array,recovery:isSet$b(e.recovery)?Number(e.recovery):0}},toJSON(e){const s={};return e.bytes!==void 0&&(s.bytes=base64FromBytes$8(e.bytes!==void 0?e.bytes:new Uint8Array)),e.recovery!==void 0&&(s.recovery=Math.round(e.recovery)),s},fromPartial(e){var s,o;const a=createBaseSignature_WalletECDSACompact();return a.bytes=(s=e.bytes)!==null&&s!==void 0?s:new Uint8Array,a.recovery=(o=e.recovery)!==null&&o!==void 0?o:0,a}};var globalThis$q=(()=>{if(typeof globalThis$q<"u")return globalThis$q;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$q<"u")return globalThis$q;throw"Unable to locate global object"})();function bytesFromBase64$8(e){if(globalThis$q.Buffer)return Uint8Array.from(globalThis$q.Buffer.from(e,"base64"));{const s=globalThis$q.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$8(e){if(globalThis$q.Buffer)return globalThis$q.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$q.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$b(e){return e!=null}function createBaseUnsignedPublicKey(){return{createdNs:Long.UZERO,secp256k1Uncompressed:void 0}}const UnsignedPublicKey={encode(e,s=_m0.Writer.create()){return e.createdNs.isZero()||s.uint32(8).uint64(e.createdNs),e.secp256k1Uncompressed!==void 0&&UnsignedPublicKey_Secp256k1Uncompressed.encode(e.secp256k1Uncompressed,s.uint32(26).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseUnsignedPublicKey();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.createdNs=o.uint64();break;case 3:c.secp256k1Uncompressed=UnsignedPublicKey_Secp256k1Uncompressed.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{createdNs:isSet$a(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO,secp256k1Uncompressed:isSet$a(e.secp256k1Uncompressed)?UnsignedPublicKey_Secp256k1Uncompressed.fromJSON(e.secp256k1Uncompressed):void 0}},toJSON(e){const s={};return e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),e.secp256k1Uncompressed!==void 0&&(s.secp256k1Uncompressed=e.secp256k1Uncompressed?UnsignedPublicKey_Secp256k1Uncompressed.toJSON(e.secp256k1Uncompressed):void 0),s},fromPartial(e){const s=createBaseUnsignedPublicKey();return s.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,s.secp256k1Uncompressed=e.secp256k1Uncompressed!==void 0&&e.secp256k1Uncompressed!==null?UnsignedPublicKey_Secp256k1Uncompressed.fromPartial(e.secp256k1Uncompressed):void 0,s}};function createBaseUnsignedPublicKey_Secp256k1Uncompressed(){return{bytes:new Uint8Array}}const UnsignedPublicKey_Secp256k1Uncompressed={encode(e,s=_m0.Writer.create()){return e.bytes.length!==0&&s.uint32(10).bytes(e.bytes),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseUnsignedPublicKey_Secp256k1Uncompressed();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.bytes=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{bytes:isSet$a(e.bytes)?bytesFromBase64$7(e.bytes):new Uint8Array}},toJSON(e){const s={};return e.bytes!==void 0&&(s.bytes=base64FromBytes$7(e.bytes!==void 0?e.bytes:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseUnsignedPublicKey_Secp256k1Uncompressed();return o.bytes=(s=e.bytes)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseSignedPublicKey(){return{keyBytes:new Uint8Array,signature:void 0}}const SignedPublicKey={encode(e,s=_m0.Writer.create()){return e.keyBytes.length!==0&&s.uint32(10).bytes(e.keyBytes),e.signature!==void 0&&Signature$1.encode(e.signature,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignedPublicKey();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.keyBytes=o.bytes();break;case 2:c.signature=Signature$1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{keyBytes:isSet$a(e.keyBytes)?bytesFromBase64$7(e.keyBytes):new Uint8Array,signature:isSet$a(e.signature)?Signature$1.fromJSON(e.signature):void 0}},toJSON(e){const s={};return e.keyBytes!==void 0&&(s.keyBytes=base64FromBytes$7(e.keyBytes!==void 0?e.keyBytes:new Uint8Array)),e.signature!==void 0&&(s.signature=e.signature?Signature$1.toJSON(e.signature):void 0),s},fromPartial(e){var s;const o=createBaseSignedPublicKey();return o.keyBytes=(s=e.keyBytes)!==null&&s!==void 0?s:new Uint8Array,o.signature=e.signature!==void 0&&e.signature!==null?Signature$1.fromPartial(e.signature):void 0,o}};function createBaseSignedPublicKeyBundle(){return{identityKey:void 0,preKey:void 0}}const SignedPublicKeyBundle={encode(e,s=_m0.Writer.create()){return e.identityKey!==void 0&&SignedPublicKey.encode(e.identityKey,s.uint32(10).fork()).ldelim(),e.preKey!==void 0&&SignedPublicKey.encode(e.preKey,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignedPublicKeyBundle();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.identityKey=SignedPublicKey.decode(o,o.uint32());break;case 2:c.preKey=SignedPublicKey.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{identityKey:isSet$a(e.identityKey)?SignedPublicKey.fromJSON(e.identityKey):void 0,preKey:isSet$a(e.preKey)?SignedPublicKey.fromJSON(e.preKey):void 0}},toJSON(e){const s={};return e.identityKey!==void 0&&(s.identityKey=e.identityKey?SignedPublicKey.toJSON(e.identityKey):void 0),e.preKey!==void 0&&(s.preKey=e.preKey?SignedPublicKey.toJSON(e.preKey):void 0),s},fromPartial(e){const s=createBaseSignedPublicKeyBundle();return s.identityKey=e.identityKey!==void 0&&e.identityKey!==null?SignedPublicKey.fromPartial(e.identityKey):void 0,s.preKey=e.preKey!==void 0&&e.preKey!==null?SignedPublicKey.fromPartial(e.preKey):void 0,s}};function createBasePublicKey(){return{timestamp:Long.UZERO,signature:void 0,secp256k1Uncompressed:void 0}}const PublicKey={encode(e,s=_m0.Writer.create()){return e.timestamp.isZero()||s.uint32(8).uint64(e.timestamp),e.signature!==void 0&&Signature$1.encode(e.signature,s.uint32(18).fork()).ldelim(),e.secp256k1Uncompressed!==void 0&&PublicKey_Secp256k1Uncompressed.encode(e.secp256k1Uncompressed,s.uint32(26).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePublicKey();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.timestamp=o.uint64();break;case 2:c.signature=Signature$1.decode(o,o.uint32());break;case 3:c.secp256k1Uncompressed=PublicKey_Secp256k1Uncompressed.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{timestamp:isSet$a(e.timestamp)?Long.fromValue(e.timestamp):Long.UZERO,signature:isSet$a(e.signature)?Signature$1.fromJSON(e.signature):void 0,secp256k1Uncompressed:isSet$a(e.secp256k1Uncompressed)?PublicKey_Secp256k1Uncompressed.fromJSON(e.secp256k1Uncompressed):void 0}},toJSON(e){const s={};return e.timestamp!==void 0&&(s.timestamp=(e.timestamp||Long.UZERO).toString()),e.signature!==void 0&&(s.signature=e.signature?Signature$1.toJSON(e.signature):void 0),e.secp256k1Uncompressed!==void 0&&(s.secp256k1Uncompressed=e.secp256k1Uncompressed?PublicKey_Secp256k1Uncompressed.toJSON(e.secp256k1Uncompressed):void 0),s},fromPartial(e){const s=createBasePublicKey();return s.timestamp=e.timestamp!==void 0&&e.timestamp!==null?Long.fromValue(e.timestamp):Long.UZERO,s.signature=e.signature!==void 0&&e.signature!==null?Signature$1.fromPartial(e.signature):void 0,s.secp256k1Uncompressed=e.secp256k1Uncompressed!==void 0&&e.secp256k1Uncompressed!==null?PublicKey_Secp256k1Uncompressed.fromPartial(e.secp256k1Uncompressed):void 0,s}};function createBasePublicKey_Secp256k1Uncompressed(){return{bytes:new Uint8Array}}const PublicKey_Secp256k1Uncompressed={encode(e,s=_m0.Writer.create()){return e.bytes.length!==0&&s.uint32(10).bytes(e.bytes),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePublicKey_Secp256k1Uncompressed();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.bytes=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{bytes:isSet$a(e.bytes)?bytesFromBase64$7(e.bytes):new Uint8Array}},toJSON(e){const s={};return e.bytes!==void 0&&(s.bytes=base64FromBytes$7(e.bytes!==void 0?e.bytes:new Uint8Array)),s},fromPartial(e){var s;const o=createBasePublicKey_Secp256k1Uncompressed();return o.bytes=(s=e.bytes)!==null&&s!==void 0?s:new Uint8Array,o}};function createBasePublicKeyBundle(){return{identityKey:void 0,preKey:void 0}}const PublicKeyBundle={encode(e,s=_m0.Writer.create()){return e.identityKey!==void 0&&PublicKey.encode(e.identityKey,s.uint32(10).fork()).ldelim(),e.preKey!==void 0&&PublicKey.encode(e.preKey,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePublicKeyBundle();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.identityKey=PublicKey.decode(o,o.uint32());break;case 2:c.preKey=PublicKey.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{identityKey:isSet$a(e.identityKey)?PublicKey.fromJSON(e.identityKey):void 0,preKey:isSet$a(e.preKey)?PublicKey.fromJSON(e.preKey):void 0}},toJSON(e){const s={};return e.identityKey!==void 0&&(s.identityKey=e.identityKey?PublicKey.toJSON(e.identityKey):void 0),e.preKey!==void 0&&(s.preKey=e.preKey?PublicKey.toJSON(e.preKey):void 0),s},fromPartial(e){const s=createBasePublicKeyBundle();return s.identityKey=e.identityKey!==void 0&&e.identityKey!==null?PublicKey.fromPartial(e.identityKey):void 0,s.preKey=e.preKey!==void 0&&e.preKey!==null?PublicKey.fromPartial(e.preKey):void 0,s}};var globalThis$p=(()=>{if(typeof globalThis$p<"u")return globalThis$p;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$p<"u")return globalThis$p;throw"Unable to locate global object"})();function bytesFromBase64$7(e){if(globalThis$p.Buffer)return Uint8Array.from(globalThis$p.Buffer.from(e,"base64"));{const s=globalThis$p.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$7(e){if(globalThis$p.Buffer)return globalThis$p.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$p.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$a(e){return e!=null}function createBaseToken(){return{identityKey:void 0,authDataBytes:new Uint8Array,authDataSignature:void 0}}const Token={encode(e,s=_m0.Writer.create()){return e.identityKey!==void 0&&PublicKey.encode(e.identityKey,s.uint32(10).fork()).ldelim(),e.authDataBytes.length!==0&&s.uint32(18).bytes(e.authDataBytes),e.authDataSignature!==void 0&&Signature$1.encode(e.authDataSignature,s.uint32(26).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseToken();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.identityKey=PublicKey.decode(o,o.uint32());break;case 2:c.authDataBytes=o.bytes();break;case 3:c.authDataSignature=Signature$1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{identityKey:isSet$9(e.identityKey)?PublicKey.fromJSON(e.identityKey):void 0,authDataBytes:isSet$9(e.authDataBytes)?bytesFromBase64$6(e.authDataBytes):new Uint8Array,authDataSignature:isSet$9(e.authDataSignature)?Signature$1.fromJSON(e.authDataSignature):void 0}},toJSON(e){const s={};return e.identityKey!==void 0&&(s.identityKey=e.identityKey?PublicKey.toJSON(e.identityKey):void 0),e.authDataBytes!==void 0&&(s.authDataBytes=base64FromBytes$6(e.authDataBytes!==void 0?e.authDataBytes:new Uint8Array)),e.authDataSignature!==void 0&&(s.authDataSignature=e.authDataSignature?Signature$1.toJSON(e.authDataSignature):void 0),s},fromPartial(e){var s;const o=createBaseToken();return o.identityKey=e.identityKey!==void 0&&e.identityKey!==null?PublicKey.fromPartial(e.identityKey):void 0,o.authDataBytes=(s=e.authDataBytes)!==null&&s!==void 0?s:new Uint8Array,o.authDataSignature=e.authDataSignature!==void 0&&e.authDataSignature!==null?Signature$1.fromPartial(e.authDataSignature):void 0,o}};function createBaseAuthData(){return{walletAddr:"",createdNs:Long.UZERO}}const AuthData={encode(e,s=_m0.Writer.create()){return e.walletAddr!==""&&s.uint32(10).string(e.walletAddr),e.createdNs.isZero()||s.uint32(16).uint64(e.createdNs),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseAuthData();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.walletAddr=o.string();break;case 2:c.createdNs=o.uint64();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{walletAddr:isSet$9(e.walletAddr)?String(e.walletAddr):"",createdNs:isSet$9(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO}},toJSON(e){const s={};return e.walletAddr!==void 0&&(s.walletAddr=e.walletAddr),e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),s},fromPartial(e){var s;const o=createBaseAuthData();return o.walletAddr=(s=e.walletAddr)!==null&&s!==void 0?s:"",o.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,o}};var globalThis$o=(()=>{if(typeof globalThis$o<"u")return globalThis$o;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$o<"u")return globalThis$o;throw"Unable to locate global object"})();function bytesFromBase64$6(e){if(globalThis$o.Buffer)return Uint8Array.from(globalThis$o.Buffer.from(e,"base64"));{const s=globalThis$o.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$6(e){if(globalThis$o.Buffer)return globalThis$o.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$o.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$9(e){return e!=null}function createBaseCiphertext(){return{aes256GcmHkdfSha256:void 0}}const Ciphertext={encode(e,s=_m0.Writer.create()){return e.aes256GcmHkdfSha256!==void 0&&Ciphertext_Aes256gcmHkdfsha256.encode(e.aes256GcmHkdfSha256,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseCiphertext();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.aes256GcmHkdfSha256=Ciphertext_Aes256gcmHkdfsha256.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{aes256GcmHkdfSha256:isSet$8(e.aes256GcmHkdfSha256)?Ciphertext_Aes256gcmHkdfsha256.fromJSON(e.aes256GcmHkdfSha256):void 0}},toJSON(e){const s={};return e.aes256GcmHkdfSha256!==void 0&&(s.aes256GcmHkdfSha256=e.aes256GcmHkdfSha256?Ciphertext_Aes256gcmHkdfsha256.toJSON(e.aes256GcmHkdfSha256):void 0),s},fromPartial(e){const s=createBaseCiphertext();return s.aes256GcmHkdfSha256=e.aes256GcmHkdfSha256!==void 0&&e.aes256GcmHkdfSha256!==null?Ciphertext_Aes256gcmHkdfsha256.fromPartial(e.aes256GcmHkdfSha256):void 0,s}};function createBaseCiphertext_Aes256gcmHkdfsha256(){return{hkdfSalt:new Uint8Array,gcmNonce:new Uint8Array,payload:new Uint8Array}}const Ciphertext_Aes256gcmHkdfsha256={encode(e,s=_m0.Writer.create()){return e.hkdfSalt.length!==0&&s.uint32(10).bytes(e.hkdfSalt),e.gcmNonce.length!==0&&s.uint32(18).bytes(e.gcmNonce),e.payload.length!==0&&s.uint32(26).bytes(e.payload),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseCiphertext_Aes256gcmHkdfsha256();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.hkdfSalt=o.bytes();break;case 2:c.gcmNonce=o.bytes();break;case 3:c.payload=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{hkdfSalt:isSet$8(e.hkdfSalt)?bytesFromBase64$5(e.hkdfSalt):new Uint8Array,gcmNonce:isSet$8(e.gcmNonce)?bytesFromBase64$5(e.gcmNonce):new Uint8Array,payload:isSet$8(e.payload)?bytesFromBase64$5(e.payload):new Uint8Array}},toJSON(e){const s={};return e.hkdfSalt!==void 0&&(s.hkdfSalt=base64FromBytes$5(e.hkdfSalt!==void 0?e.hkdfSalt:new Uint8Array)),e.gcmNonce!==void 0&&(s.gcmNonce=base64FromBytes$5(e.gcmNonce!==void 0?e.gcmNonce:new Uint8Array)),e.payload!==void 0&&(s.payload=base64FromBytes$5(e.payload!==void 0?e.payload:new Uint8Array)),s},fromPartial(e){var s,o,a;const c=createBaseCiphertext_Aes256gcmHkdfsha256();return c.hkdfSalt=(s=e.hkdfSalt)!==null&&s!==void 0?s:new Uint8Array,c.gcmNonce=(o=e.gcmNonce)!==null&&o!==void 0?o:new Uint8Array,c.payload=(a=e.payload)!==null&&a!==void 0?a:new Uint8Array,c}};function createBaseSignedEciesCiphertext(){return{eciesBytes:new Uint8Array,signature:void 0}}const SignedEciesCiphertext={encode(e,s=_m0.Writer.create()){return e.eciesBytes.length!==0&&s.uint32(10).bytes(e.eciesBytes),e.signature!==void 0&&Signature$1.encode(e.signature,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignedEciesCiphertext();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.eciesBytes=o.bytes();break;case 2:c.signature=Signature$1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{eciesBytes:isSet$8(e.eciesBytes)?bytesFromBase64$5(e.eciesBytes):new Uint8Array,signature:isSet$8(e.signature)?Signature$1.fromJSON(e.signature):void 0}},toJSON(e){const s={};return e.eciesBytes!==void 0&&(s.eciesBytes=base64FromBytes$5(e.eciesBytes!==void 0?e.eciesBytes:new Uint8Array)),e.signature!==void 0&&(s.signature=e.signature?Signature$1.toJSON(e.signature):void 0),s},fromPartial(e){var s;const o=createBaseSignedEciesCiphertext();return o.eciesBytes=(s=e.eciesBytes)!==null&&s!==void 0?s:new Uint8Array,o.signature=e.signature!==void 0&&e.signature!==null?Signature$1.fromPartial(e.signature):void 0,o}};function createBaseSignedEciesCiphertext_Ecies(){return{ephemeralPublicKey:new Uint8Array,iv:new Uint8Array,mac:new Uint8Array,ciphertext:new Uint8Array}}const SignedEciesCiphertext_Ecies={encode(e,s=_m0.Writer.create()){return e.ephemeralPublicKey.length!==0&&s.uint32(10).bytes(e.ephemeralPublicKey),e.iv.length!==0&&s.uint32(18).bytes(e.iv),e.mac.length!==0&&s.uint32(26).bytes(e.mac),e.ciphertext.length!==0&&s.uint32(34).bytes(e.ciphertext),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignedEciesCiphertext_Ecies();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.ephemeralPublicKey=o.bytes();break;case 2:c.iv=o.bytes();break;case 3:c.mac=o.bytes();break;case 4:c.ciphertext=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{ephemeralPublicKey:isSet$8(e.ephemeralPublicKey)?bytesFromBase64$5(e.ephemeralPublicKey):new Uint8Array,iv:isSet$8(e.iv)?bytesFromBase64$5(e.iv):new Uint8Array,mac:isSet$8(e.mac)?bytesFromBase64$5(e.mac):new Uint8Array,ciphertext:isSet$8(e.ciphertext)?bytesFromBase64$5(e.ciphertext):new Uint8Array}},toJSON(e){const s={};return e.ephemeralPublicKey!==void 0&&(s.ephemeralPublicKey=base64FromBytes$5(e.ephemeralPublicKey!==void 0?e.ephemeralPublicKey:new Uint8Array)),e.iv!==void 0&&(s.iv=base64FromBytes$5(e.iv!==void 0?e.iv:new Uint8Array)),e.mac!==void 0&&(s.mac=base64FromBytes$5(e.mac!==void 0?e.mac:new Uint8Array)),e.ciphertext!==void 0&&(s.ciphertext=base64FromBytes$5(e.ciphertext!==void 0?e.ciphertext:new Uint8Array)),s},fromPartial(e){var s,o,a,c;const u=createBaseSignedEciesCiphertext_Ecies();return u.ephemeralPublicKey=(s=e.ephemeralPublicKey)!==null&&s!==void 0?s:new Uint8Array,u.iv=(o=e.iv)!==null&&o!==void 0?o:new Uint8Array,u.mac=(a=e.mac)!==null&&a!==void 0?a:new Uint8Array,u.ciphertext=(c=e.ciphertext)!==null&&c!==void 0?c:new Uint8Array,u}};var globalThis$n=(()=>{if(typeof globalThis$n<"u")return globalThis$n;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$n<"u")return globalThis$n;throw"Unable to locate global object"})();function bytesFromBase64$5(e){if(globalThis$n.Buffer)return Uint8Array.from(globalThis$n.Buffer.from(e,"base64"));{const s=globalThis$n.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$5(e){if(globalThis$n.Buffer)return globalThis$n.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$n.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$8(e){return e!=null}var ConsentProofPayloadVersion;(function(e){e[e.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED=0]="CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED",e[e.CONSENT_PROOF_PAYLOAD_VERSION_1=1]="CONSENT_PROOF_PAYLOAD_VERSION_1",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConsentProofPayloadVersion||(ConsentProofPayloadVersion={}));function consentProofPayloadVersionFromJSON(e){switch(e){case 0:case"CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED":return ConsentProofPayloadVersion.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED;case 1:case"CONSENT_PROOF_PAYLOAD_VERSION_1":return ConsentProofPayloadVersion.CONSENT_PROOF_PAYLOAD_VERSION_1;case-1:case"UNRECOGNIZED":default:return ConsentProofPayloadVersion.UNRECOGNIZED}}function consentProofPayloadVersionToJSON(e){switch(e){case ConsentProofPayloadVersion.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED:return"CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED";case ConsentProofPayloadVersion.CONSENT_PROOF_PAYLOAD_VERSION_1:return"CONSENT_PROOF_PAYLOAD_VERSION_1";case ConsentProofPayloadVersion.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function createBaseInvitationV1(){return{topic:"",context:void 0,aes256GcmHkdfSha256:void 0,consentProof:void 0}}const InvitationV1={encode(e,s=_m0.Writer.create()){return e.topic!==""&&s.uint32(10).string(e.topic),e.context!==void 0&&InvitationV1_Context.encode(e.context,s.uint32(18).fork()).ldelim(),e.aes256GcmHkdfSha256!==void 0&&InvitationV1_Aes256gcmHkdfsha256.encode(e.aes256GcmHkdfSha256,s.uint32(26).fork()).ldelim(),e.consentProof!==void 0&&ConsentProofPayload.encode(e.consentProof,s.uint32(34).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseInvitationV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.topic=o.string();break;case 2:c.context=InvitationV1_Context.decode(o,o.uint32());break;case 3:c.aes256GcmHkdfSha256=InvitationV1_Aes256gcmHkdfsha256.decode(o,o.uint32());break;case 4:c.consentProof=ConsentProofPayload.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{topic:isSet$7(e.topic)?String(e.topic):"",context:isSet$7(e.context)?InvitationV1_Context.fromJSON(e.context):void 0,aes256GcmHkdfSha256:isSet$7(e.aes256GcmHkdfSha256)?InvitationV1_Aes256gcmHkdfsha256.fromJSON(e.aes256GcmHkdfSha256):void 0,consentProof:isSet$7(e.consentProof)?ConsentProofPayload.fromJSON(e.consentProof):void 0}},toJSON(e){const s={};return e.topic!==void 0&&(s.topic=e.topic),e.context!==void 0&&(s.context=e.context?InvitationV1_Context.toJSON(e.context):void 0),e.aes256GcmHkdfSha256!==void 0&&(s.aes256GcmHkdfSha256=e.aes256GcmHkdfSha256?InvitationV1_Aes256gcmHkdfsha256.toJSON(e.aes256GcmHkdfSha256):void 0),e.consentProof!==void 0&&(s.consentProof=e.consentProof?ConsentProofPayload.toJSON(e.consentProof):void 0),s},fromPartial(e){var s;const o=createBaseInvitationV1();return o.topic=(s=e.topic)!==null&&s!==void 0?s:"",o.context=e.context!==void 0&&e.context!==null?InvitationV1_Context.fromPartial(e.context):void 0,o.aes256GcmHkdfSha256=e.aes256GcmHkdfSha256!==void 0&&e.aes256GcmHkdfSha256!==null?InvitationV1_Aes256gcmHkdfsha256.fromPartial(e.aes256GcmHkdfSha256):void 0,o.consentProof=e.consentProof!==void 0&&e.consentProof!==null?ConsentProofPayload.fromPartial(e.consentProof):void 0,o}};function createBaseInvitationV1_Aes256gcmHkdfsha256(){return{keyMaterial:new Uint8Array}}const InvitationV1_Aes256gcmHkdfsha256={encode(e,s=_m0.Writer.create()){return e.keyMaterial.length!==0&&s.uint32(10).bytes(e.keyMaterial),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseInvitationV1_Aes256gcmHkdfsha256();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.keyMaterial=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{keyMaterial:isSet$7(e.keyMaterial)?bytesFromBase64$4(e.keyMaterial):new Uint8Array}},toJSON(e){const s={};return e.keyMaterial!==void 0&&(s.keyMaterial=base64FromBytes$4(e.keyMaterial!==void 0?e.keyMaterial:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseInvitationV1_Aes256gcmHkdfsha256();return o.keyMaterial=(s=e.keyMaterial)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseInvitationV1_Context(){return{conversationId:"",metadata:{}}}const InvitationV1_Context={encode(e,s=_m0.Writer.create()){return e.conversationId!==""&&s.uint32(10).string(e.conversationId),Object.entries(e.metadata).forEach(([o,a])=>{InvitationV1_Context_MetadataEntry.encode({key:o,value:a},s.uint32(18).fork()).ldelim()}),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseInvitationV1_Context();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.conversationId=o.string();break;case 2:const h=InvitationV1_Context_MetadataEntry.decode(o,o.uint32());h.value!==void 0&&(c.metadata[h.key]=h.value);break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{conversationId:isSet$7(e.conversationId)?String(e.conversationId):"",metadata:isObject$2(e.metadata)?Object.entries(e.metadata).reduce((s,[o,a])=>(s[o]=String(a),s),{}):{}}},toJSON(e){const s={};return e.conversationId!==void 0&&(s.conversationId=e.conversationId),s.metadata={},e.metadata&&Object.entries(e.metadata).forEach(([o,a])=>{s.metadata[o]=a}),s},fromPartial(e){var s,o;const a=createBaseInvitationV1_Context();return a.conversationId=(s=e.conversationId)!==null&&s!==void 0?s:"",a.metadata=Object.entries((o=e.metadata)!==null&&o!==void 0?o:{}).reduce((c,[u,h])=>(h!==void 0&&(c[u]=String(h)),c),{}),a}};function createBaseInvitationV1_Context_MetadataEntry(){return{key:"",value:""}}const InvitationV1_Context_MetadataEntry={encode(e,s=_m0.Writer.create()){return e.key!==""&&s.uint32(10).string(e.key),e.value!==""&&s.uint32(18).string(e.value),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseInvitationV1_Context_MetadataEntry();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.key=o.string();break;case 2:c.value=o.string();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{key:isSet$7(e.key)?String(e.key):"",value:isSet$7(e.value)?String(e.value):""}},toJSON(e){const s={};return e.key!==void 0&&(s.key=e.key),e.value!==void 0&&(s.value=e.value),s},fromPartial(e){var s,o;const a=createBaseInvitationV1_Context_MetadataEntry();return a.key=(s=e.key)!==null&&s!==void 0?s:"",a.value=(o=e.value)!==null&&o!==void 0?o:"",a}};function createBaseSealedInvitationHeaderV1(){return{sender:void 0,recipient:void 0,createdNs:Long.UZERO}}const SealedInvitationHeaderV1={encode(e,s=_m0.Writer.create()){return e.sender!==void 0&&SignedPublicKeyBundle.encode(e.sender,s.uint32(10).fork()).ldelim(),e.recipient!==void 0&&SignedPublicKeyBundle.encode(e.recipient,s.uint32(18).fork()).ldelim(),e.createdNs.isZero()||s.uint32(24).uint64(e.createdNs),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSealedInvitationHeaderV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.sender=SignedPublicKeyBundle.decode(o,o.uint32());break;case 2:c.recipient=SignedPublicKeyBundle.decode(o,o.uint32());break;case 3:c.createdNs=o.uint64();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{sender:isSet$7(e.sender)?SignedPublicKeyBundle.fromJSON(e.sender):void 0,recipient:isSet$7(e.recipient)?SignedPublicKeyBundle.fromJSON(e.recipient):void 0,createdNs:isSet$7(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO}},toJSON(e){const s={};return e.sender!==void 0&&(s.sender=e.sender?SignedPublicKeyBundle.toJSON(e.sender):void 0),e.recipient!==void 0&&(s.recipient=e.recipient?SignedPublicKeyBundle.toJSON(e.recipient):void 0),e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),s},fromPartial(e){const s=createBaseSealedInvitationHeaderV1();return s.sender=e.sender!==void 0&&e.sender!==null?SignedPublicKeyBundle.fromPartial(e.sender):void 0,s.recipient=e.recipient!==void 0&&e.recipient!==null?SignedPublicKeyBundle.fromPartial(e.recipient):void 0,s.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,s}};function createBaseSealedInvitationV1(){return{headerBytes:new Uint8Array,ciphertext:void 0}}const SealedInvitationV1={encode(e,s=_m0.Writer.create()){return e.headerBytes.length!==0&&s.uint32(10).bytes(e.headerBytes),e.ciphertext!==void 0&&Ciphertext.encode(e.ciphertext,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSealedInvitationV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.headerBytes=o.bytes();break;case 2:c.ciphertext=Ciphertext.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{headerBytes:isSet$7(e.headerBytes)?bytesFromBase64$4(e.headerBytes):new Uint8Array,ciphertext:isSet$7(e.ciphertext)?Ciphertext.fromJSON(e.ciphertext):void 0}},toJSON(e){const s={};return e.headerBytes!==void 0&&(s.headerBytes=base64FromBytes$4(e.headerBytes!==void 0?e.headerBytes:new Uint8Array)),e.ciphertext!==void 0&&(s.ciphertext=e.ciphertext?Ciphertext.toJSON(e.ciphertext):void 0),s},fromPartial(e){var s;const o=createBaseSealedInvitationV1();return o.headerBytes=(s=e.headerBytes)!==null&&s!==void 0?s:new Uint8Array,o.ciphertext=e.ciphertext!==void 0&&e.ciphertext!==null?Ciphertext.fromPartial(e.ciphertext):void 0,o}};function createBaseSealedInvitation(){return{v1:void 0}}const SealedInvitation={encode(e,s=_m0.Writer.create()){return e.v1!==void 0&&SealedInvitationV1.encode(e.v1,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSealedInvitation();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.v1=SealedInvitationV1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{v1:isSet$7(e.v1)?SealedInvitationV1.fromJSON(e.v1):void 0}},toJSON(e){const s={};return e.v1!==void 0&&(s.v1=e.v1?SealedInvitationV1.toJSON(e.v1):void 0),s},fromPartial(e){const s=createBaseSealedInvitation();return s.v1=e.v1!==void 0&&e.v1!==null?SealedInvitationV1.fromPartial(e.v1):void 0,s}};function createBaseConsentProofPayload(){return{signature:"",timestamp:Long.UZERO,payloadVersion:0}}const ConsentProofPayload={encode(e,s=_m0.Writer.create()){return e.signature!==""&&s.uint32(10).string(e.signature),e.timestamp.isZero()||s.uint32(16).uint64(e.timestamp),e.payloadVersion!==0&&s.uint32(24).int32(e.payloadVersion),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseConsentProofPayload();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.signature=o.string();break;case 2:c.timestamp=o.uint64();break;case 3:c.payloadVersion=o.int32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{signature:isSet$7(e.signature)?String(e.signature):"",timestamp:isSet$7(e.timestamp)?Long.fromValue(e.timestamp):Long.UZERO,payloadVersion:isSet$7(e.payloadVersion)?consentProofPayloadVersionFromJSON(e.payloadVersion):0}},toJSON(e){const s={};return e.signature!==void 0&&(s.signature=e.signature),e.timestamp!==void 0&&(s.timestamp=(e.timestamp||Long.UZERO).toString()),e.payloadVersion!==void 0&&(s.payloadVersion=consentProofPayloadVersionToJSON(e.payloadVersion)),s},fromPartial(e){var s,o;const a=createBaseConsentProofPayload();return a.signature=(s=e.signature)!==null&&s!==void 0?s:"",a.timestamp=e.timestamp!==void 0&&e.timestamp!==null?Long.fromValue(e.timestamp):Long.UZERO,a.payloadVersion=(o=e.payloadVersion)!==null&&o!==void 0?o:0,a}};var globalThis$m=(()=>{if(typeof globalThis$m<"u")return globalThis$m;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$m<"u")return globalThis$m;throw"Unable to locate global object"})();function bytesFromBase64$4(e){if(globalThis$m.Buffer)return Uint8Array.from(globalThis$m.Buffer.from(e,"base64"));{const s=globalThis$m.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$4(e){if(globalThis$m.Buffer)return globalThis$m.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$m.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isObject$2(e){return typeof e=="object"&&e!==null}function isSet$7(e){return e!=null}function createBaseConversationReference(){return{topic:"",peerAddress:"",createdNs:Long.UZERO,context:void 0,consentProofPayload:void 0}}const ConversationReference={encode(e,s=_m0.Writer.create()){return e.topic!==""&&s.uint32(10).string(e.topic),e.peerAddress!==""&&s.uint32(18).string(e.peerAddress),e.createdNs.isZero()||s.uint32(24).uint64(e.createdNs),e.context!==void 0&&InvitationV1_Context.encode(e.context,s.uint32(34).fork()).ldelim(),e.consentProofPayload!==void 0&&ConsentProofPayload.encode(e.consentProofPayload,s.uint32(42).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseConversationReference();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.topic=o.string();break;case 2:c.peerAddress=o.string();break;case 3:c.createdNs=o.uint64();break;case 4:c.context=InvitationV1_Context.decode(o,o.uint32());break;case 5:c.consentProofPayload=ConsentProofPayload.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{topic:isSet$6(e.topic)?String(e.topic):"",peerAddress:isSet$6(e.peerAddress)?String(e.peerAddress):"",createdNs:isSet$6(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO,context:isSet$6(e.context)?InvitationV1_Context.fromJSON(e.context):void 0,consentProofPayload:isSet$6(e.consentProofPayload)?ConsentProofPayload.fromJSON(e.consentProofPayload):void 0}},toJSON(e){const s={};return e.topic!==void 0&&(s.topic=e.topic),e.peerAddress!==void 0&&(s.peerAddress=e.peerAddress),e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),e.context!==void 0&&(s.context=e.context?InvitationV1_Context.toJSON(e.context):void 0),e.consentProofPayload!==void 0&&(s.consentProofPayload=e.consentProofPayload?ConsentProofPayload.toJSON(e.consentProofPayload):void 0),s},fromPartial(e){var s,o;const a=createBaseConversationReference();return a.topic=(s=e.topic)!==null&&s!==void 0?s:"",a.peerAddress=(o=e.peerAddress)!==null&&o!==void 0?o:"",a.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,a.context=e.context!==void 0&&e.context!==null?InvitationV1_Context.fromPartial(e.context):void 0,a.consentProofPayload=e.consentProofPayload!==void 0&&e.consentProofPayload!==null?ConsentProofPayload.fromPartial(e.consentProofPayload):void 0,a}};_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$6(e){return e!=null}function createBaseMessageHeaderV1(){return{sender:void 0,recipient:void 0,timestamp:Long.UZERO}}const MessageHeaderV1={encode(e,s=_m0.Writer.create()){return e.sender!==void 0&&PublicKeyBundle.encode(e.sender,s.uint32(10).fork()).ldelim(),e.recipient!==void 0&&PublicKeyBundle.encode(e.recipient,s.uint32(18).fork()).ldelim(),e.timestamp.isZero()||s.uint32(24).uint64(e.timestamp),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseMessageHeaderV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.sender=PublicKeyBundle.decode(o,o.uint32());break;case 2:c.recipient=PublicKeyBundle.decode(o,o.uint32());break;case 3:c.timestamp=o.uint64();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{sender:isSet$5(e.sender)?PublicKeyBundle.fromJSON(e.sender):void 0,recipient:isSet$5(e.recipient)?PublicKeyBundle.fromJSON(e.recipient):void 0,timestamp:isSet$5(e.timestamp)?Long.fromValue(e.timestamp):Long.UZERO}},toJSON(e){const s={};return e.sender!==void 0&&(s.sender=e.sender?PublicKeyBundle.toJSON(e.sender):void 0),e.recipient!==void 0&&(s.recipient=e.recipient?PublicKeyBundle.toJSON(e.recipient):void 0),e.timestamp!==void 0&&(s.timestamp=(e.timestamp||Long.UZERO).toString()),s},fromPartial(e){const s=createBaseMessageHeaderV1();return s.sender=e.sender!==void 0&&e.sender!==null?PublicKeyBundle.fromPartial(e.sender):void 0,s.recipient=e.recipient!==void 0&&e.recipient!==null?PublicKeyBundle.fromPartial(e.recipient):void 0,s.timestamp=e.timestamp!==void 0&&e.timestamp!==null?Long.fromValue(e.timestamp):Long.UZERO,s}};function createBaseMessageV1(){return{headerBytes:new Uint8Array,ciphertext:void 0}}const MessageV1={encode(e,s=_m0.Writer.create()){return e.headerBytes.length!==0&&s.uint32(10).bytes(e.headerBytes),e.ciphertext!==void 0&&Ciphertext.encode(e.ciphertext,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseMessageV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.headerBytes=o.bytes();break;case 2:c.ciphertext=Ciphertext.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{headerBytes:isSet$5(e.headerBytes)?bytesFromBase64$3(e.headerBytes):new Uint8Array,ciphertext:isSet$5(e.ciphertext)?Ciphertext.fromJSON(e.ciphertext):void 0}},toJSON(e){const s={};return e.headerBytes!==void 0&&(s.headerBytes=base64FromBytes$3(e.headerBytes!==void 0?e.headerBytes:new Uint8Array)),e.ciphertext!==void 0&&(s.ciphertext=e.ciphertext?Ciphertext.toJSON(e.ciphertext):void 0),s},fromPartial(e){var s;const o=createBaseMessageV1();return o.headerBytes=(s=e.headerBytes)!==null&&s!==void 0?s:new Uint8Array,o.ciphertext=e.ciphertext!==void 0&&e.ciphertext!==null?Ciphertext.fromPartial(e.ciphertext):void 0,o}};function createBaseMessageHeaderV2(){return{createdNs:Long.UZERO,topic:""}}const MessageHeaderV2={encode(e,s=_m0.Writer.create()){return e.createdNs.isZero()||s.uint32(8).uint64(e.createdNs),e.topic!==""&&s.uint32(18).string(e.topic),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseMessageHeaderV2();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.createdNs=o.uint64();break;case 2:c.topic=o.string();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{createdNs:isSet$5(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO,topic:isSet$5(e.topic)?String(e.topic):""}},toJSON(e){const s={};return e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),e.topic!==void 0&&(s.topic=e.topic),s},fromPartial(e){var s;const o=createBaseMessageHeaderV2();return o.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,o.topic=(s=e.topic)!==null&&s!==void 0?s:"",o}};function createBaseMessageV2(){return{headerBytes:new Uint8Array,ciphertext:void 0,senderHmac:void 0,shouldPush:void 0}}const MessageV2={encode(e,s=_m0.Writer.create()){return e.headerBytes.length!==0&&s.uint32(10).bytes(e.headerBytes),e.ciphertext!==void 0&&Ciphertext.encode(e.ciphertext,s.uint32(18).fork()).ldelim(),e.senderHmac!==void 0&&s.uint32(26).bytes(e.senderHmac),e.shouldPush!==void 0&&s.uint32(32).bool(e.shouldPush),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseMessageV2();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.headerBytes=o.bytes();break;case 2:c.ciphertext=Ciphertext.decode(o,o.uint32());break;case 3:c.senderHmac=o.bytes();break;case 4:c.shouldPush=o.bool();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{headerBytes:isSet$5(e.headerBytes)?bytesFromBase64$3(e.headerBytes):new Uint8Array,ciphertext:isSet$5(e.ciphertext)?Ciphertext.fromJSON(e.ciphertext):void 0,senderHmac:isSet$5(e.senderHmac)?bytesFromBase64$3(e.senderHmac):void 0,shouldPush:isSet$5(e.shouldPush)?!!e.shouldPush:void 0}},toJSON(e){const s={};return e.headerBytes!==void 0&&(s.headerBytes=base64FromBytes$3(e.headerBytes!==void 0?e.headerBytes:new Uint8Array)),e.ciphertext!==void 0&&(s.ciphertext=e.ciphertext?Ciphertext.toJSON(e.ciphertext):void 0),e.senderHmac!==void 0&&(s.senderHmac=e.senderHmac!==void 0?base64FromBytes$3(e.senderHmac):void 0),e.shouldPush!==void 0&&(s.shouldPush=e.shouldPush),s},fromPartial(e){var s,o,a;const c=createBaseMessageV2();return c.headerBytes=(s=e.headerBytes)!==null&&s!==void 0?s:new Uint8Array,c.ciphertext=e.ciphertext!==void 0&&e.ciphertext!==null?Ciphertext.fromPartial(e.ciphertext):void 0,c.senderHmac=(o=e.senderHmac)!==null&&o!==void 0?o:void 0,c.shouldPush=(a=e.shouldPush)!==null&&a!==void 0?a:void 0,c}};function createBaseMessage(){return{v1:void 0,v2:void 0}}const Message={encode(e,s=_m0.Writer.create()){return e.v1!==void 0&&MessageV1.encode(e.v1,s.uint32(10).fork()).ldelim(),e.v2!==void 0&&MessageV2.encode(e.v2,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseMessage();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.v1=MessageV1.decode(o,o.uint32());break;case 2:c.v2=MessageV2.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{v1:isSet$5(e.v1)?MessageV1.fromJSON(e.v1):void 0,v2:isSet$5(e.v2)?MessageV2.fromJSON(e.v2):void 0}},toJSON(e){const s={};return e.v1!==void 0&&(s.v1=e.v1?MessageV1.toJSON(e.v1):void 0),e.v2!==void 0&&(s.v2=e.v2?MessageV2.toJSON(e.v2):void 0),s},fromPartial(e){const s=createBaseMessage();return s.v1=e.v1!==void 0&&e.v1!==null?MessageV1.fromPartial(e.v1):void 0,s.v2=e.v2!==void 0&&e.v2!==null?MessageV2.fromPartial(e.v2):void 0,s}};function createBaseDecodedMessage(){return{id:"",messageVersion:"",senderAddress:"",recipientAddress:void 0,sentNs:Long.UZERO,contentTopic:"",conversation:void 0,contentBytes:new Uint8Array}}const DecodedMessage={encode(e,s=_m0.Writer.create()){return e.id!==""&&s.uint32(10).string(e.id),e.messageVersion!==""&&s.uint32(18).string(e.messageVersion),e.senderAddress!==""&&s.uint32(26).string(e.senderAddress),e.recipientAddress!==void 0&&s.uint32(34).string(e.recipientAddress),e.sentNs.isZero()||s.uint32(40).uint64(e.sentNs),e.contentTopic!==""&&s.uint32(50).string(e.contentTopic),e.conversation!==void 0&&ConversationReference.encode(e.conversation,s.uint32(58).fork()).ldelim(),e.contentBytes.length!==0&&s.uint32(66).bytes(e.contentBytes),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecodedMessage();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.id=o.string();break;case 2:c.messageVersion=o.string();break;case 3:c.senderAddress=o.string();break;case 4:c.recipientAddress=o.string();break;case 5:c.sentNs=o.uint64();break;case 6:c.contentTopic=o.string();break;case 7:c.conversation=ConversationReference.decode(o,o.uint32());break;case 8:c.contentBytes=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{id:isSet$5(e.id)?String(e.id):"",messageVersion:isSet$5(e.messageVersion)?String(e.messageVersion):"",senderAddress:isSet$5(e.senderAddress)?String(e.senderAddress):"",recipientAddress:isSet$5(e.recipientAddress)?String(e.recipientAddress):void 0,sentNs:isSet$5(e.sentNs)?Long.fromValue(e.sentNs):Long.UZERO,contentTopic:isSet$5(e.contentTopic)?String(e.contentTopic):"",conversation:isSet$5(e.conversation)?ConversationReference.fromJSON(e.conversation):void 0,contentBytes:isSet$5(e.contentBytes)?bytesFromBase64$3(e.contentBytes):new Uint8Array}},toJSON(e){const s={};return e.id!==void 0&&(s.id=e.id),e.messageVersion!==void 0&&(s.messageVersion=e.messageVersion),e.senderAddress!==void 0&&(s.senderAddress=e.senderAddress),e.recipientAddress!==void 0&&(s.recipientAddress=e.recipientAddress),e.sentNs!==void 0&&(s.sentNs=(e.sentNs||Long.UZERO).toString()),e.contentTopic!==void 0&&(s.contentTopic=e.contentTopic),e.conversation!==void 0&&(s.conversation=e.conversation?ConversationReference.toJSON(e.conversation):void 0),e.contentBytes!==void 0&&(s.contentBytes=base64FromBytes$3(e.contentBytes!==void 0?e.contentBytes:new Uint8Array)),s},fromPartial(e){var s,o,a,c,u,h;const p=createBaseDecodedMessage();return p.id=(s=e.id)!==null&&s!==void 0?s:"",p.messageVersion=(o=e.messageVersion)!==null&&o!==void 0?o:"",p.senderAddress=(a=e.senderAddress)!==null&&a!==void 0?a:"",p.recipientAddress=(c=e.recipientAddress)!==null&&c!==void 0?c:void 0,p.sentNs=e.sentNs!==void 0&&e.sentNs!==null?Long.fromValue(e.sentNs):Long.UZERO,p.contentTopic=(u=e.contentTopic)!==null&&u!==void 0?u:"",p.conversation=e.conversation!==void 0&&e.conversation!==null?ConversationReference.fromPartial(e.conversation):void 0,p.contentBytes=(h=e.contentBytes)!==null&&h!==void 0?h:new Uint8Array,p}};var globalThis$l=(()=>{if(typeof globalThis$l<"u")return globalThis$l;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$l<"u")return globalThis$l;throw"Unable to locate global object"})();function bytesFromBase64$3(e){if(globalThis$l.Buffer)return Uint8Array.from(globalThis$l.Buffer.from(e,"base64"));{const s=globalThis$l.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$3(e){if(globalThis$l.Buffer)return globalThis$l.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$l.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$5(e){return e!=null}var Compression$1;(function(e){e[e.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",e[e.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Compression$1||(Compression$1={}));function compressionFromJSON(e){switch(e){case 0:case"COMPRESSION_DEFLATE":return Compression$1.COMPRESSION_DEFLATE;case 1:case"COMPRESSION_GZIP":return Compression$1.COMPRESSION_GZIP;case-1:case"UNRECOGNIZED":default:return Compression$1.UNRECOGNIZED}}function compressionToJSON(e){switch(e){case Compression$1.COMPRESSION_DEFLATE:return"COMPRESSION_DEFLATE";case Compression$1.COMPRESSION_GZIP:return"COMPRESSION_GZIP";case Compression$1.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function createBaseContentTypeId(){return{authorityId:"",typeId:"",versionMajor:0,versionMinor:0}}const ContentTypeId={encode(e,s=_m0.Writer.create()){return e.authorityId!==""&&s.uint32(10).string(e.authorityId),e.typeId!==""&&s.uint32(18).string(e.typeId),e.versionMajor!==0&&s.uint32(24).uint32(e.versionMajor),e.versionMinor!==0&&s.uint32(32).uint32(e.versionMinor),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseContentTypeId();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.authorityId=o.string();break;case 2:c.typeId=o.string();break;case 3:c.versionMajor=o.uint32();break;case 4:c.versionMinor=o.uint32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{authorityId:isSet$4(e.authorityId)?String(e.authorityId):"",typeId:isSet$4(e.typeId)?String(e.typeId):"",versionMajor:isSet$4(e.versionMajor)?Number(e.versionMajor):0,versionMinor:isSet$4(e.versionMinor)?Number(e.versionMinor):0}},toJSON(e){const s={};return e.authorityId!==void 0&&(s.authorityId=e.authorityId),e.typeId!==void 0&&(s.typeId=e.typeId),e.versionMajor!==void 0&&(s.versionMajor=Math.round(e.versionMajor)),e.versionMinor!==void 0&&(s.versionMinor=Math.round(e.versionMinor)),s},fromPartial(e){var s,o,a,c;const u=createBaseContentTypeId();return u.authorityId=(s=e.authorityId)!==null&&s!==void 0?s:"",u.typeId=(o=e.typeId)!==null&&o!==void 0?o:"",u.versionMajor=(a=e.versionMajor)!==null&&a!==void 0?a:0,u.versionMinor=(c=e.versionMinor)!==null&&c!==void 0?c:0,u}};function createBaseEncodedContent(){return{type:void 0,parameters:{},fallback:void 0,compression:void 0,content:new Uint8Array}}const EncodedContent={encode(e,s=_m0.Writer.create()){return e.type!==void 0&&ContentTypeId.encode(e.type,s.uint32(10).fork()).ldelim(),Object.entries(e.parameters).forEach(([o,a])=>{EncodedContent_ParametersEntry.encode({key:o,value:a},s.uint32(18).fork()).ldelim()}),e.fallback!==void 0&&s.uint32(26).string(e.fallback),e.compression!==void 0&&s.uint32(40).int32(e.compression),e.content.length!==0&&s.uint32(34).bytes(e.content),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncodedContent();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.type=ContentTypeId.decode(o,o.uint32());break;case 2:const h=EncodedContent_ParametersEntry.decode(o,o.uint32());h.value!==void 0&&(c.parameters[h.key]=h.value);break;case 3:c.fallback=o.string();break;case 5:c.compression=o.int32();break;case 4:c.content=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{type:isSet$4(e.type)?ContentTypeId.fromJSON(e.type):void 0,parameters:isObject$1(e.parameters)?Object.entries(e.parameters).reduce((s,[o,a])=>(s[o]=String(a),s),{}):{},fallback:isSet$4(e.fallback)?String(e.fallback):void 0,compression:isSet$4(e.compression)?compressionFromJSON(e.compression):void 0,content:isSet$4(e.content)?bytesFromBase64$2(e.content):new Uint8Array}},toJSON(e){const s={};return e.type!==void 0&&(s.type=e.type?ContentTypeId.toJSON(e.type):void 0),s.parameters={},e.parameters&&Object.entries(e.parameters).forEach(([o,a])=>{s.parameters[o]=a}),e.fallback!==void 0&&(s.fallback=e.fallback),e.compression!==void 0&&(s.compression=e.compression!==void 0?compressionToJSON(e.compression):void 0),e.content!==void 0&&(s.content=base64FromBytes$2(e.content!==void 0?e.content:new Uint8Array)),s},fromPartial(e){var s,o,a,c;const u=createBaseEncodedContent();return u.type=e.type!==void 0&&e.type!==null?ContentTypeId.fromPartial(e.type):void 0,u.parameters=Object.entries((s=e.parameters)!==null&&s!==void 0?s:{}).reduce((h,[p,m])=>(m!==void 0&&(h[p]=String(m)),h),{}),u.fallback=(o=e.fallback)!==null&&o!==void 0?o:void 0,u.compression=(a=e.compression)!==null&&a!==void 0?a:void 0,u.content=(c=e.content)!==null&&c!==void 0?c:new Uint8Array,u}};function createBaseEncodedContent_ParametersEntry(){return{key:"",value:""}}const EncodedContent_ParametersEntry={encode(e,s=_m0.Writer.create()){return e.key!==""&&s.uint32(10).string(e.key),e.value!==""&&s.uint32(18).string(e.value),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncodedContent_ParametersEntry();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.key=o.string();break;case 2:c.value=o.string();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{key:isSet$4(e.key)?String(e.key):"",value:isSet$4(e.value)?String(e.value):""}},toJSON(e){const s={};return e.key!==void 0&&(s.key=e.key),e.value!==void 0&&(s.value=e.value),s},fromPartial(e){var s,o;const a=createBaseEncodedContent_ParametersEntry();return a.key=(s=e.key)!==null&&s!==void 0?s:"",a.value=(o=e.value)!==null&&o!==void 0?o:"",a}};function createBaseSignedContent(){return{payload:new Uint8Array,sender:void 0,signature:void 0}}const SignedContent={encode(e,s=_m0.Writer.create()){return e.payload.length!==0&&s.uint32(10).bytes(e.payload),e.sender!==void 0&&SignedPublicKeyBundle.encode(e.sender,s.uint32(18).fork()).ldelim(),e.signature!==void 0&&Signature$1.encode(e.signature,s.uint32(26).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignedContent();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.payload=o.bytes();break;case 2:c.sender=SignedPublicKeyBundle.decode(o,o.uint32());break;case 3:c.signature=Signature$1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{payload:isSet$4(e.payload)?bytesFromBase64$2(e.payload):new Uint8Array,sender:isSet$4(e.sender)?SignedPublicKeyBundle.fromJSON(e.sender):void 0,signature:isSet$4(e.signature)?Signature$1.fromJSON(e.signature):void 0}},toJSON(e){const s={};return e.payload!==void 0&&(s.payload=base64FromBytes$2(e.payload!==void 0?e.payload:new Uint8Array)),e.sender!==void 0&&(s.sender=e.sender?SignedPublicKeyBundle.toJSON(e.sender):void 0),e.signature!==void 0&&(s.signature=e.signature?Signature$1.toJSON(e.signature):void 0),s},fromPartial(e){var s;const o=createBaseSignedContent();return o.payload=(s=e.payload)!==null&&s!==void 0?s:new Uint8Array,o.sender=e.sender!==void 0&&e.sender!==null?SignedPublicKeyBundle.fromPartial(e.sender):void 0,o.signature=e.signature!==void 0&&e.signature!==null?Signature$1.fromPartial(e.signature):void 0,o}};var globalThis$k=(()=>{if(typeof globalThis$k<"u")return globalThis$k;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$k<"u")return globalThis$k;throw"Unable to locate global object"})();function bytesFromBase64$2(e){if(globalThis$k.Buffer)return Uint8Array.from(globalThis$k.Buffer.from(e,"base64"));{const s=globalThis$k.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$2(e){if(globalThis$k.Buffer)return globalThis$k.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$k.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isObject$1(e){return typeof e=="object"&&e!==null}function isSet$4(e){return e!=null}var globalThis$j=(()=>{if(typeof globalThis$j<"u")return globalThis$j;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$j<"u")return globalThis$j;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createBaseSignedPrivateKey(){return{createdNs:Long.UZERO,secp256k1:void 0,publicKey:void 0}}const SignedPrivateKey={encode(e,s=_m0.Writer.create()){return e.createdNs.isZero()||s.uint32(8).uint64(e.createdNs),e.secp256k1!==void 0&&SignedPrivateKey_Secp256k1.encode(e.secp256k1,s.uint32(18).fork()).ldelim(),e.publicKey!==void 0&&SignedPublicKey.encode(e.publicKey,s.uint32(26).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignedPrivateKey();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.createdNs=o.uint64();break;case 2:c.secp256k1=SignedPrivateKey_Secp256k1.decode(o,o.uint32());break;case 3:c.publicKey=SignedPublicKey.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{createdNs:isSet$3(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO,secp256k1:isSet$3(e.secp256k1)?SignedPrivateKey_Secp256k1.fromJSON(e.secp256k1):void 0,publicKey:isSet$3(e.publicKey)?SignedPublicKey.fromJSON(e.publicKey):void 0}},toJSON(e){const s={};return e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),e.secp256k1!==void 0&&(s.secp256k1=e.secp256k1?SignedPrivateKey_Secp256k1.toJSON(e.secp256k1):void 0),e.publicKey!==void 0&&(s.publicKey=e.publicKey?SignedPublicKey.toJSON(e.publicKey):void 0),s},fromPartial(e){const s=createBaseSignedPrivateKey();return s.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,s.secp256k1=e.secp256k1!==void 0&&e.secp256k1!==null?SignedPrivateKey_Secp256k1.fromPartial(e.secp256k1):void 0,s.publicKey=e.publicKey!==void 0&&e.publicKey!==null?SignedPublicKey.fromPartial(e.publicKey):void 0,s}};function createBaseSignedPrivateKey_Secp256k1(){return{bytes:new Uint8Array}}const SignedPrivateKey_Secp256k1={encode(e,s=_m0.Writer.create()){return e.bytes.length!==0&&s.uint32(10).bytes(e.bytes),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignedPrivateKey_Secp256k1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.bytes=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{bytes:isSet$3(e.bytes)?bytesFromBase64$1(e.bytes):new Uint8Array}},toJSON(e){const s={};return e.bytes!==void 0&&(s.bytes=base64FromBytes$1(e.bytes!==void 0?e.bytes:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseSignedPrivateKey_Secp256k1();return o.bytes=(s=e.bytes)!==null&&s!==void 0?s:new Uint8Array,o}};function createBasePrivateKeyBundleV2(){return{identityKey:void 0,preKeys:[]}}const PrivateKeyBundleV2={encode(e,s=_m0.Writer.create()){e.identityKey!==void 0&&SignedPrivateKey.encode(e.identityKey,s.uint32(10).fork()).ldelim();for(const o of e.preKeys)SignedPrivateKey.encode(o,s.uint32(18).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivateKeyBundleV2();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.identityKey=SignedPrivateKey.decode(o,o.uint32());break;case 2:c.preKeys.push(SignedPrivateKey.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{identityKey:isSet$3(e.identityKey)?SignedPrivateKey.fromJSON(e.identityKey):void 0,preKeys:Array.isArray(e==null?void 0:e.preKeys)?e.preKeys.map(s=>SignedPrivateKey.fromJSON(s)):[]}},toJSON(e){const s={};return e.identityKey!==void 0&&(s.identityKey=e.identityKey?SignedPrivateKey.toJSON(e.identityKey):void 0),e.preKeys?s.preKeys=e.preKeys.map(o=>o?SignedPrivateKey.toJSON(o):void 0):s.preKeys=[],s},fromPartial(e){var s;const o=createBasePrivateKeyBundleV2();return o.identityKey=e.identityKey!==void 0&&e.identityKey!==null?SignedPrivateKey.fromPartial(e.identityKey):void 0,o.preKeys=((s=e.preKeys)===null||s===void 0?void 0:s.map(a=>SignedPrivateKey.fromPartial(a)))||[],o}};function createBasePrivateKey(){return{timestamp:Long.UZERO,secp256k1:void 0,publicKey:void 0}}const PrivateKey={encode(e,s=_m0.Writer.create()){return e.timestamp.isZero()||s.uint32(8).uint64(e.timestamp),e.secp256k1!==void 0&&PrivateKey_Secp256k1.encode(e.secp256k1,s.uint32(18).fork()).ldelim(),e.publicKey!==void 0&&PublicKey.encode(e.publicKey,s.uint32(26).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivateKey();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.timestamp=o.uint64();break;case 2:c.secp256k1=PrivateKey_Secp256k1.decode(o,o.uint32());break;case 3:c.publicKey=PublicKey.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{timestamp:isSet$3(e.timestamp)?Long.fromValue(e.timestamp):Long.UZERO,secp256k1:isSet$3(e.secp256k1)?PrivateKey_Secp256k1.fromJSON(e.secp256k1):void 0,publicKey:isSet$3(e.publicKey)?PublicKey.fromJSON(e.publicKey):void 0}},toJSON(e){const s={};return e.timestamp!==void 0&&(s.timestamp=(e.timestamp||Long.UZERO).toString()),e.secp256k1!==void 0&&(s.secp256k1=e.secp256k1?PrivateKey_Secp256k1.toJSON(e.secp256k1):void 0),e.publicKey!==void 0&&(s.publicKey=e.publicKey?PublicKey.toJSON(e.publicKey):void 0),s},fromPartial(e){const s=createBasePrivateKey();return s.timestamp=e.timestamp!==void 0&&e.timestamp!==null?Long.fromValue(e.timestamp):Long.UZERO,s.secp256k1=e.secp256k1!==void 0&&e.secp256k1!==null?PrivateKey_Secp256k1.fromPartial(e.secp256k1):void 0,s.publicKey=e.publicKey!==void 0&&e.publicKey!==null?PublicKey.fromPartial(e.publicKey):void 0,s}};function createBasePrivateKey_Secp256k1(){return{bytes:new Uint8Array}}const PrivateKey_Secp256k1={encode(e,s=_m0.Writer.create()){return e.bytes.length!==0&&s.uint32(10).bytes(e.bytes),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivateKey_Secp256k1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.bytes=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{bytes:isSet$3(e.bytes)?bytesFromBase64$1(e.bytes):new Uint8Array}},toJSON(e){const s={};return e.bytes!==void 0&&(s.bytes=base64FromBytes$1(e.bytes!==void 0?e.bytes:new Uint8Array)),s},fromPartial(e){var s;const o=createBasePrivateKey_Secp256k1();return o.bytes=(s=e.bytes)!==null&&s!==void 0?s:new Uint8Array,o}};function createBasePrivateKeyBundleV1(){return{identityKey:void 0,preKeys:[]}}const PrivateKeyBundleV1={encode(e,s=_m0.Writer.create()){e.identityKey!==void 0&&PrivateKey.encode(e.identityKey,s.uint32(10).fork()).ldelim();for(const o of e.preKeys)PrivateKey.encode(o,s.uint32(18).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivateKeyBundleV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.identityKey=PrivateKey.decode(o,o.uint32());break;case 2:c.preKeys.push(PrivateKey.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{identityKey:isSet$3(e.identityKey)?PrivateKey.fromJSON(e.identityKey):void 0,preKeys:Array.isArray(e==null?void 0:e.preKeys)?e.preKeys.map(s=>PrivateKey.fromJSON(s)):[]}},toJSON(e){const s={};return e.identityKey!==void 0&&(s.identityKey=e.identityKey?PrivateKey.toJSON(e.identityKey):void 0),e.preKeys?s.preKeys=e.preKeys.map(o=>o?PrivateKey.toJSON(o):void 0):s.preKeys=[],s},fromPartial(e){var s;const o=createBasePrivateKeyBundleV1();return o.identityKey=e.identityKey!==void 0&&e.identityKey!==null?PrivateKey.fromPartial(e.identityKey):void 0,o.preKeys=((s=e.preKeys)===null||s===void 0?void 0:s.map(a=>PrivateKey.fromPartial(a)))||[],o}};function createBasePrivateKeyBundle(){return{v1:void 0,v2:void 0}}const PrivateKeyBundle={encode(e,s=_m0.Writer.create()){return e.v1!==void 0&&PrivateKeyBundleV1.encode(e.v1,s.uint32(10).fork()).ldelim(),e.v2!==void 0&&PrivateKeyBundleV2.encode(e.v2,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivateKeyBundle();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.v1=PrivateKeyBundleV1.decode(o,o.uint32());break;case 2:c.v2=PrivateKeyBundleV2.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{v1:isSet$3(e.v1)?PrivateKeyBundleV1.fromJSON(e.v1):void 0,v2:isSet$3(e.v2)?PrivateKeyBundleV2.fromJSON(e.v2):void 0}},toJSON(e){const s={};return e.v1!==void 0&&(s.v1=e.v1?PrivateKeyBundleV1.toJSON(e.v1):void 0),e.v2!==void 0&&(s.v2=e.v2?PrivateKeyBundleV2.toJSON(e.v2):void 0),s},fromPartial(e){const s=createBasePrivateKeyBundle();return s.v1=e.v1!==void 0&&e.v1!==null?PrivateKeyBundleV1.fromPartial(e.v1):void 0,s.v2=e.v2!==void 0&&e.v2!==null?PrivateKeyBundleV2.fromPartial(e.v2):void 0,s}};function createBaseEncryptedPrivateKeyBundleV1(){return{walletPreKey:new Uint8Array,ciphertext:void 0}}const EncryptedPrivateKeyBundleV1={encode(e,s=_m0.Writer.create()){return e.walletPreKey.length!==0&&s.uint32(10).bytes(e.walletPreKey),e.ciphertext!==void 0&&Ciphertext.encode(e.ciphertext,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptedPrivateKeyBundleV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.walletPreKey=o.bytes();break;case 2:c.ciphertext=Ciphertext.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{walletPreKey:isSet$3(e.walletPreKey)?bytesFromBase64$1(e.walletPreKey):new Uint8Array,ciphertext:isSet$3(e.ciphertext)?Ciphertext.fromJSON(e.ciphertext):void 0}},toJSON(e){const s={};return e.walletPreKey!==void 0&&(s.walletPreKey=base64FromBytes$1(e.walletPreKey!==void 0?e.walletPreKey:new Uint8Array)),e.ciphertext!==void 0&&(s.ciphertext=e.ciphertext?Ciphertext.toJSON(e.ciphertext):void 0),s},fromPartial(e){var s;const o=createBaseEncryptedPrivateKeyBundleV1();return o.walletPreKey=(s=e.walletPreKey)!==null&&s!==void 0?s:new Uint8Array,o.ciphertext=e.ciphertext!==void 0&&e.ciphertext!==null?Ciphertext.fromPartial(e.ciphertext):void 0,o}};function createBaseEncryptedPrivateKeyBundle(){return{v1:void 0}}const EncryptedPrivateKeyBundle={encode(e,s=_m0.Writer.create()){return e.v1!==void 0&&EncryptedPrivateKeyBundleV1.encode(e.v1,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptedPrivateKeyBundle();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.v1=EncryptedPrivateKeyBundleV1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{v1:isSet$3(e.v1)?EncryptedPrivateKeyBundleV1.fromJSON(e.v1):void 0}},toJSON(e){const s={};return e.v1!==void 0&&(s.v1=e.v1?EncryptedPrivateKeyBundleV1.toJSON(e.v1):void 0),s},fromPartial(e){const s=createBaseEncryptedPrivateKeyBundle();return s.v1=e.v1!==void 0&&e.v1!==null?EncryptedPrivateKeyBundleV1.fromPartial(e.v1):void 0,s}};var globalThis$i=(()=>{if(typeof globalThis$i<"u")return globalThis$i;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$i<"u")return globalThis$i;throw"Unable to locate global object"})();function bytesFromBase64$1(e){if(globalThis$i.Buffer)return Uint8Array.from(globalThis$i.Buffer.from(e,"base64"));{const s=globalThis$i.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes$1(e){if(globalThis$i.Buffer)return globalThis$i.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$i.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$3(e){return e!=null}function createBaseContactBundleV1(){return{keyBundle:void 0}}const ContactBundleV1={encode(e,s=_m0.Writer.create()){return e.keyBundle!==void 0&&PublicKeyBundle.encode(e.keyBundle,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseContactBundleV1();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.keyBundle=PublicKeyBundle.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{keyBundle:isSet$2(e.keyBundle)?PublicKeyBundle.fromJSON(e.keyBundle):void 0}},toJSON(e){const s={};return e.keyBundle!==void 0&&(s.keyBundle=e.keyBundle?PublicKeyBundle.toJSON(e.keyBundle):void 0),s},fromPartial(e){const s=createBaseContactBundleV1();return s.keyBundle=e.keyBundle!==void 0&&e.keyBundle!==null?PublicKeyBundle.fromPartial(e.keyBundle):void 0,s}};function createBaseContactBundleV2(){return{keyBundle:void 0}}const ContactBundleV2={encode(e,s=_m0.Writer.create()){return e.keyBundle!==void 0&&SignedPublicKeyBundle.encode(e.keyBundle,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseContactBundleV2();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.keyBundle=SignedPublicKeyBundle.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{keyBundle:isSet$2(e.keyBundle)?SignedPublicKeyBundle.fromJSON(e.keyBundle):void 0}},toJSON(e){const s={};return e.keyBundle!==void 0&&(s.keyBundle=e.keyBundle?SignedPublicKeyBundle.toJSON(e.keyBundle):void 0),s},fromPartial(e){const s=createBaseContactBundleV2();return s.keyBundle=e.keyBundle!==void 0&&e.keyBundle!==null?SignedPublicKeyBundle.fromPartial(e.keyBundle):void 0,s}};function createBaseContactBundle(){return{v1:void 0,v2:void 0}}const ContactBundle={encode(e,s=_m0.Writer.create()){return e.v1!==void 0&&ContactBundleV1.encode(e.v1,s.uint32(10).fork()).ldelim(),e.v2!==void 0&&ContactBundleV2.encode(e.v2,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseContactBundle();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.v1=ContactBundleV1.decode(o,o.uint32());break;case 2:c.v2=ContactBundleV2.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{v1:isSet$2(e.v1)?ContactBundleV1.fromJSON(e.v1):void 0,v2:isSet$2(e.v2)?ContactBundleV2.fromJSON(e.v2):void 0}},toJSON(e){const s={};return e.v1!==void 0&&(s.v1=e.v1?ContactBundleV1.toJSON(e.v1):void 0),e.v2!==void 0&&(s.v2=e.v2?ContactBundleV2.toJSON(e.v2):void 0),s},fromPartial(e){const s=createBaseContactBundle();return s.v1=e.v1!==void 0&&e.v1!==null?ContactBundleV1.fromPartial(e.v1):void 0,s.v2=e.v2!==void 0&&e.v2!==null?ContactBundleV2.fromPartial(e.v2):void 0,s}};_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$2(e){return e!=null}function createBasePrivatePreferencesAction(){return{allowAddress:void 0,denyAddress:void 0,allowGroup:void 0,denyGroup:void 0,allowInboxId:void 0,denyInboxId:void 0}}const PrivatePreferencesAction={encode(e,s=_m0.Writer.create()){return e.allowAddress!==void 0&&PrivatePreferencesAction_AllowAddress.encode(e.allowAddress,s.uint32(10).fork()).ldelim(),e.denyAddress!==void 0&&PrivatePreferencesAction_DenyAddress.encode(e.denyAddress,s.uint32(18).fork()).ldelim(),e.allowGroup!==void 0&&PrivatePreferencesAction_AllowGroup.encode(e.allowGroup,s.uint32(26).fork()).ldelim(),e.denyGroup!==void 0&&PrivatePreferencesAction_DenyGroup.encode(e.denyGroup,s.uint32(34).fork()).ldelim(),e.allowInboxId!==void 0&&PrivatePreferencesAction_AllowInboxId.encode(e.allowInboxId,s.uint32(42).fork()).ldelim(),e.denyInboxId!==void 0&&PrivatePreferencesAction_DenyInboxId.encode(e.denyInboxId,s.uint32(50).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesAction();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.allowAddress=PrivatePreferencesAction_AllowAddress.decode(o,o.uint32());break;case 2:c.denyAddress=PrivatePreferencesAction_DenyAddress.decode(o,o.uint32());break;case 3:c.allowGroup=PrivatePreferencesAction_AllowGroup.decode(o,o.uint32());break;case 4:c.denyGroup=PrivatePreferencesAction_DenyGroup.decode(o,o.uint32());break;case 5:c.allowInboxId=PrivatePreferencesAction_AllowInboxId.decode(o,o.uint32());break;case 6:c.denyInboxId=PrivatePreferencesAction_DenyInboxId.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{allowAddress:isSet$1(e.allowAddress)?PrivatePreferencesAction_AllowAddress.fromJSON(e.allowAddress):void 0,denyAddress:isSet$1(e.denyAddress)?PrivatePreferencesAction_DenyAddress.fromJSON(e.denyAddress):void 0,allowGroup:isSet$1(e.allowGroup)?PrivatePreferencesAction_AllowGroup.fromJSON(e.allowGroup):void 0,denyGroup:isSet$1(e.denyGroup)?PrivatePreferencesAction_DenyGroup.fromJSON(e.denyGroup):void 0,allowInboxId:isSet$1(e.allowInboxId)?PrivatePreferencesAction_AllowInboxId.fromJSON(e.allowInboxId):void 0,denyInboxId:isSet$1(e.denyInboxId)?PrivatePreferencesAction_DenyInboxId.fromJSON(e.denyInboxId):void 0}},toJSON(e){const s={};return e.allowAddress!==void 0&&(s.allowAddress=e.allowAddress?PrivatePreferencesAction_AllowAddress.toJSON(e.allowAddress):void 0),e.denyAddress!==void 0&&(s.denyAddress=e.denyAddress?PrivatePreferencesAction_DenyAddress.toJSON(e.denyAddress):void 0),e.allowGroup!==void 0&&(s.allowGroup=e.allowGroup?PrivatePreferencesAction_AllowGroup.toJSON(e.allowGroup):void 0),e.denyGroup!==void 0&&(s.denyGroup=e.denyGroup?PrivatePreferencesAction_DenyGroup.toJSON(e.denyGroup):void 0),e.allowInboxId!==void 0&&(s.allowInboxId=e.allowInboxId?PrivatePreferencesAction_AllowInboxId.toJSON(e.allowInboxId):void 0),e.denyInboxId!==void 0&&(s.denyInboxId=e.denyInboxId?PrivatePreferencesAction_DenyInboxId.toJSON(e.denyInboxId):void 0),s},fromPartial(e){const s=createBasePrivatePreferencesAction();return s.allowAddress=e.allowAddress!==void 0&&e.allowAddress!==null?PrivatePreferencesAction_AllowAddress.fromPartial(e.allowAddress):void 0,s.denyAddress=e.denyAddress!==void 0&&e.denyAddress!==null?PrivatePreferencesAction_DenyAddress.fromPartial(e.denyAddress):void 0,s.allowGroup=e.allowGroup!==void 0&&e.allowGroup!==null?PrivatePreferencesAction_AllowGroup.fromPartial(e.allowGroup):void 0,s.denyGroup=e.denyGroup!==void 0&&e.denyGroup!==null?PrivatePreferencesAction_DenyGroup.fromPartial(e.denyGroup):void 0,s.allowInboxId=e.allowInboxId!==void 0&&e.allowInboxId!==null?PrivatePreferencesAction_AllowInboxId.fromPartial(e.allowInboxId):void 0,s.denyInboxId=e.denyInboxId!==void 0&&e.denyInboxId!==null?PrivatePreferencesAction_DenyInboxId.fromPartial(e.denyInboxId):void 0,s}};function createBasePrivatePreferencesAction_AllowAddress(){return{walletAddresses:[]}}const PrivatePreferencesAction_AllowAddress={encode(e,s=_m0.Writer.create()){for(const o of e.walletAddresses)s.uint32(10).string(o);return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesAction_AllowAddress();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.walletAddresses.push(o.string());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{walletAddresses:Array.isArray(e==null?void 0:e.walletAddresses)?e.walletAddresses.map(s=>String(s)):[]}},toJSON(e){const s={};return e.walletAddresses?s.walletAddresses=e.walletAddresses.map(o=>o):s.walletAddresses=[],s},fromPartial(e){var s;const o=createBasePrivatePreferencesAction_AllowAddress();return o.walletAddresses=((s=e.walletAddresses)===null||s===void 0?void 0:s.map(a=>a))||[],o}};function createBasePrivatePreferencesAction_DenyAddress(){return{walletAddresses:[]}}const PrivatePreferencesAction_DenyAddress={encode(e,s=_m0.Writer.create()){for(const o of e.walletAddresses)s.uint32(10).string(o);return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesAction_DenyAddress();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.walletAddresses.push(o.string());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{walletAddresses:Array.isArray(e==null?void 0:e.walletAddresses)?e.walletAddresses.map(s=>String(s)):[]}},toJSON(e){const s={};return e.walletAddresses?s.walletAddresses=e.walletAddresses.map(o=>o):s.walletAddresses=[],s},fromPartial(e){var s;const o=createBasePrivatePreferencesAction_DenyAddress();return o.walletAddresses=((s=e.walletAddresses)===null||s===void 0?void 0:s.map(a=>a))||[],o}};function createBasePrivatePreferencesAction_AllowInboxId(){return{inboxIds:[]}}const PrivatePreferencesAction_AllowInboxId={encode(e,s=_m0.Writer.create()){for(const o of e.inboxIds)s.uint32(10).string(o);return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesAction_AllowInboxId();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.inboxIds.push(o.string());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{inboxIds:Array.isArray(e==null?void 0:e.inboxIds)?e.inboxIds.map(s=>String(s)):[]}},toJSON(e){const s={};return e.inboxIds?s.inboxIds=e.inboxIds.map(o=>o):s.inboxIds=[],s},fromPartial(e){var s;const o=createBasePrivatePreferencesAction_AllowInboxId();return o.inboxIds=((s=e.inboxIds)===null||s===void 0?void 0:s.map(a=>a))||[],o}};function createBasePrivatePreferencesAction_DenyInboxId(){return{inboxIds:[]}}const PrivatePreferencesAction_DenyInboxId={encode(e,s=_m0.Writer.create()){for(const o of e.inboxIds)s.uint32(10).string(o);return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesAction_DenyInboxId();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.inboxIds.push(o.string());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{inboxIds:Array.isArray(e==null?void 0:e.inboxIds)?e.inboxIds.map(s=>String(s)):[]}},toJSON(e){const s={};return e.inboxIds?s.inboxIds=e.inboxIds.map(o=>o):s.inboxIds=[],s},fromPartial(e){var s;const o=createBasePrivatePreferencesAction_DenyInboxId();return o.inboxIds=((s=e.inboxIds)===null||s===void 0?void 0:s.map(a=>a))||[],o}};function createBasePrivatePreferencesAction_AllowGroup(){return{groupIds:[]}}const PrivatePreferencesAction_AllowGroup={encode(e,s=_m0.Writer.create()){for(const o of e.groupIds)s.uint32(10).string(o);return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesAction_AllowGroup();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.groupIds.push(o.string());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{groupIds:Array.isArray(e==null?void 0:e.groupIds)?e.groupIds.map(s=>String(s)):[]}},toJSON(e){const s={};return e.groupIds?s.groupIds=e.groupIds.map(o=>o):s.groupIds=[],s},fromPartial(e){var s;const o=createBasePrivatePreferencesAction_AllowGroup();return o.groupIds=((s=e.groupIds)===null||s===void 0?void 0:s.map(a=>a))||[],o}};function createBasePrivatePreferencesAction_DenyGroup(){return{groupIds:[]}}const PrivatePreferencesAction_DenyGroup={encode(e,s=_m0.Writer.create()){for(const o of e.groupIds)s.uint32(10).string(o);return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesAction_DenyGroup();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.groupIds.push(o.string());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{groupIds:Array.isArray(e==null?void 0:e.groupIds)?e.groupIds.map(s=>String(s)):[]}},toJSON(e){const s={};return e.groupIds?s.groupIds=e.groupIds.map(o=>o):s.groupIds=[],s},fromPartial(e){var s;const o=createBasePrivatePreferencesAction_DenyGroup();return o.groupIds=((s=e.groupIds)===null||s===void 0?void 0:s.map(a=>a))||[],o}};_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$1(e){return e!=null}const protobufPackage="xmtp.keystore_api.v1";var ErrorCode;(function(e){e[e.ERROR_CODE_UNSPECIFIED=0]="ERROR_CODE_UNSPECIFIED",e[e.ERROR_CODE_INVALID_INPUT=1]="ERROR_CODE_INVALID_INPUT",e[e.ERROR_CODE_NO_MATCHING_PREKEY=2]="ERROR_CODE_NO_MATCHING_PREKEY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ErrorCode||(ErrorCode={}));function errorCodeFromJSON(e){switch(e){case 0:case"ERROR_CODE_UNSPECIFIED":return ErrorCode.ERROR_CODE_UNSPECIFIED;case 1:case"ERROR_CODE_INVALID_INPUT":return ErrorCode.ERROR_CODE_INVALID_INPUT;case 2:case"ERROR_CODE_NO_MATCHING_PREKEY":return ErrorCode.ERROR_CODE_NO_MATCHING_PREKEY;case-1:case"UNRECOGNIZED":default:return ErrorCode.UNRECOGNIZED}}function errorCodeToJSON(e){switch(e){case ErrorCode.ERROR_CODE_UNSPECIFIED:return"ERROR_CODE_UNSPECIFIED";case ErrorCode.ERROR_CODE_INVALID_INPUT:return"ERROR_CODE_INVALID_INPUT";case ErrorCode.ERROR_CODE_NO_MATCHING_PREKEY:return"ERROR_CODE_NO_MATCHING_PREKEY";case ErrorCode.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var JobType;(function(e){e[e.JOB_TYPE_UNSPECIFIED=0]="JOB_TYPE_UNSPECIFIED",e[e.JOB_TYPE_REFRESH_V1=1]="JOB_TYPE_REFRESH_V1",e[e.JOB_TYPE_REFRESH_V2=2]="JOB_TYPE_REFRESH_V2",e[e.JOB_TYPE_REFRESH_PPPP=3]="JOB_TYPE_REFRESH_PPPP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(JobType||(JobType={}));function jobTypeFromJSON(e){switch(e){case 0:case"JOB_TYPE_UNSPECIFIED":return JobType.JOB_TYPE_UNSPECIFIED;case 1:case"JOB_TYPE_REFRESH_V1":return JobType.JOB_TYPE_REFRESH_V1;case 2:case"JOB_TYPE_REFRESH_V2":return JobType.JOB_TYPE_REFRESH_V2;case 3:case"JOB_TYPE_REFRESH_PPPP":return JobType.JOB_TYPE_REFRESH_PPPP;case-1:case"UNRECOGNIZED":default:return JobType.UNRECOGNIZED}}function jobTypeToJSON(e){switch(e){case JobType.JOB_TYPE_UNSPECIFIED:return"JOB_TYPE_UNSPECIFIED";case JobType.JOB_TYPE_REFRESH_V1:return"JOB_TYPE_REFRESH_V1";case JobType.JOB_TYPE_REFRESH_V2:return"JOB_TYPE_REFRESH_V2";case JobType.JOB_TYPE_REFRESH_PPPP:return"JOB_TYPE_REFRESH_PPPP";case JobType.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var GetKeystoreStatusResponse_KeystoreStatus;(function(e){e[e.KEYSTORE_STATUS_UNSPECIFIED=0]="KEYSTORE_STATUS_UNSPECIFIED",e[e.KEYSTORE_STATUS_UNINITIALIZED=1]="KEYSTORE_STATUS_UNINITIALIZED",e[e.KEYSTORE_STATUS_INITIALIZED=2]="KEYSTORE_STATUS_INITIALIZED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(GetKeystoreStatusResponse_KeystoreStatus||(GetKeystoreStatusResponse_KeystoreStatus={}));function getKeystoreStatusResponse_KeystoreStatusFromJSON(e){switch(e){case 0:case"KEYSTORE_STATUS_UNSPECIFIED":return GetKeystoreStatusResponse_KeystoreStatus.KEYSTORE_STATUS_UNSPECIFIED;case 1:case"KEYSTORE_STATUS_UNINITIALIZED":return GetKeystoreStatusResponse_KeystoreStatus.KEYSTORE_STATUS_UNINITIALIZED;case 2:case"KEYSTORE_STATUS_INITIALIZED":return GetKeystoreStatusResponse_KeystoreStatus.KEYSTORE_STATUS_INITIALIZED;case-1:case"UNRECOGNIZED":default:return GetKeystoreStatusResponse_KeystoreStatus.UNRECOGNIZED}}function getKeystoreStatusResponse_KeystoreStatusToJSON(e){switch(e){case GetKeystoreStatusResponse_KeystoreStatus.KEYSTORE_STATUS_UNSPECIFIED:return"KEYSTORE_STATUS_UNSPECIFIED";case GetKeystoreStatusResponse_KeystoreStatus.KEYSTORE_STATUS_UNINITIALIZED:return"KEYSTORE_STATUS_UNINITIALIZED";case GetKeystoreStatusResponse_KeystoreStatus.KEYSTORE_STATUS_INITIALIZED:return"KEYSTORE_STATUS_INITIALIZED";case GetKeystoreStatusResponse_KeystoreStatus.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function createBaseKeystoreError(){return{message:"",code:0}}const KeystoreError={encode(e,s=_m0.Writer.create()){return e.message!==""&&s.uint32(10).string(e.message),e.code!==0&&s.uint32(16).int32(e.code),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseKeystoreError();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.message=o.string();break;case 2:c.code=o.int32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{message:isSet(e.message)?String(e.message):"",code:isSet(e.code)?errorCodeFromJSON(e.code):0}},toJSON(e){const s={};return e.message!==void 0&&(s.message=e.message),e.code!==void 0&&(s.code=errorCodeToJSON(e.code)),s},fromPartial(e){var s,o;const a=createBaseKeystoreError();return a.message=(s=e.message)!==null&&s!==void 0?s:"",a.code=(o=e.code)!==null&&o!==void 0?o:0,a}};function createBaseDecryptV1Request(){return{requests:[]}}const DecryptV1Request={encode(e,s=_m0.Writer.create()){for(const o of e.requests)DecryptV1Request_Request.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecryptV1Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.requests.push(DecryptV1Request_Request.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{requests:Array.isArray(e==null?void 0:e.requests)?e.requests.map(s=>DecryptV1Request_Request.fromJSON(s)):[]}},toJSON(e){const s={};return e.requests?s.requests=e.requests.map(o=>o?DecryptV1Request_Request.toJSON(o):void 0):s.requests=[],s},fromPartial(e){var s;const o=createBaseDecryptV1Request();return o.requests=((s=e.requests)===null||s===void 0?void 0:s.map(a=>DecryptV1Request_Request.fromPartial(a)))||[],o}};function createBaseDecryptV1Request_Request(){return{payload:void 0,peerKeys:void 0,headerBytes:new Uint8Array,isSender:!1}}const DecryptV1Request_Request={encode(e,s=_m0.Writer.create()){return e.payload!==void 0&&Ciphertext.encode(e.payload,s.uint32(10).fork()).ldelim(),e.peerKeys!==void 0&&PublicKeyBundle.encode(e.peerKeys,s.uint32(18).fork()).ldelim(),e.headerBytes.length!==0&&s.uint32(26).bytes(e.headerBytes),e.isSender===!0&&s.uint32(32).bool(e.isSender),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecryptV1Request_Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.payload=Ciphertext.decode(o,o.uint32());break;case 2:c.peerKeys=PublicKeyBundle.decode(o,o.uint32());break;case 3:c.headerBytes=o.bytes();break;case 4:c.isSender=o.bool();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{payload:isSet(e.payload)?Ciphertext.fromJSON(e.payload):void 0,peerKeys:isSet(e.peerKeys)?PublicKeyBundle.fromJSON(e.peerKeys):void 0,headerBytes:isSet(e.headerBytes)?bytesFromBase64(e.headerBytes):new Uint8Array,isSender:isSet(e.isSender)?!!e.isSender:!1}},toJSON(e){const s={};return e.payload!==void 0&&(s.payload=e.payload?Ciphertext.toJSON(e.payload):void 0),e.peerKeys!==void 0&&(s.peerKeys=e.peerKeys?PublicKeyBundle.toJSON(e.peerKeys):void 0),e.headerBytes!==void 0&&(s.headerBytes=base64FromBytes(e.headerBytes!==void 0?e.headerBytes:new Uint8Array)),e.isSender!==void 0&&(s.isSender=e.isSender),s},fromPartial(e){var s,o;const a=createBaseDecryptV1Request_Request();return a.payload=e.payload!==void 0&&e.payload!==null?Ciphertext.fromPartial(e.payload):void 0,a.peerKeys=e.peerKeys!==void 0&&e.peerKeys!==null?PublicKeyBundle.fromPartial(e.peerKeys):void 0,a.headerBytes=(s=e.headerBytes)!==null&&s!==void 0?s:new Uint8Array,a.isSender=(o=e.isSender)!==null&&o!==void 0?o:!1,a}};function createBaseDecryptResponse(){return{responses:[]}}const DecryptResponse={encode(e,s=_m0.Writer.create()){for(const o of e.responses)DecryptResponse_Response.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecryptResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.responses.push(DecryptResponse_Response.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{responses:Array.isArray(e==null?void 0:e.responses)?e.responses.map(s=>DecryptResponse_Response.fromJSON(s)):[]}},toJSON(e){const s={};return e.responses?s.responses=e.responses.map(o=>o?DecryptResponse_Response.toJSON(o):void 0):s.responses=[],s},fromPartial(e){var s;const o=createBaseDecryptResponse();return o.responses=((s=e.responses)===null||s===void 0?void 0:s.map(a=>DecryptResponse_Response.fromPartial(a)))||[],o}};function createBaseDecryptResponse_Response(){return{result:void 0,error:void 0}}const DecryptResponse_Response={encode(e,s=_m0.Writer.create()){return e.result!==void 0&&DecryptResponse_Response_Success.encode(e.result,s.uint32(10).fork()).ldelim(),e.error!==void 0&&KeystoreError.encode(e.error,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecryptResponse_Response();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.result=DecryptResponse_Response_Success.decode(o,o.uint32());break;case 2:c.error=KeystoreError.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{result:isSet(e.result)?DecryptResponse_Response_Success.fromJSON(e.result):void 0,error:isSet(e.error)?KeystoreError.fromJSON(e.error):void 0}},toJSON(e){const s={};return e.result!==void 0&&(s.result=e.result?DecryptResponse_Response_Success.toJSON(e.result):void 0),e.error!==void 0&&(s.error=e.error?KeystoreError.toJSON(e.error):void 0),s},fromPartial(e){const s=createBaseDecryptResponse_Response();return s.result=e.result!==void 0&&e.result!==null?DecryptResponse_Response_Success.fromPartial(e.result):void 0,s.error=e.error!==void 0&&e.error!==null?KeystoreError.fromPartial(e.error):void 0,s}};function createBaseDecryptResponse_Response_Success(){return{decrypted:new Uint8Array}}const DecryptResponse_Response_Success={encode(e,s=_m0.Writer.create()){return e.decrypted.length!==0&&s.uint32(10).bytes(e.decrypted),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecryptResponse_Response_Success();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.decrypted=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{decrypted:isSet(e.decrypted)?bytesFromBase64(e.decrypted):new Uint8Array}},toJSON(e){const s={};return e.decrypted!==void 0&&(s.decrypted=base64FromBytes(e.decrypted!==void 0?e.decrypted:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseDecryptResponse_Response_Success();return o.decrypted=(s=e.decrypted)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseDecryptV2Request(){return{requests:[]}}const DecryptV2Request={encode(e,s=_m0.Writer.create()){for(const o of e.requests)DecryptV2Request_Request.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecryptV2Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.requests.push(DecryptV2Request_Request.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{requests:Array.isArray(e==null?void 0:e.requests)?e.requests.map(s=>DecryptV2Request_Request.fromJSON(s)):[]}},toJSON(e){const s={};return e.requests?s.requests=e.requests.map(o=>o?DecryptV2Request_Request.toJSON(o):void 0):s.requests=[],s},fromPartial(e){var s;const o=createBaseDecryptV2Request();return o.requests=((s=e.requests)===null||s===void 0?void 0:s.map(a=>DecryptV2Request_Request.fromPartial(a)))||[],o}};function createBaseDecryptV2Request_Request(){return{payload:void 0,headerBytes:new Uint8Array,contentTopic:""}}const DecryptV2Request_Request={encode(e,s=_m0.Writer.create()){return e.payload!==void 0&&Ciphertext.encode(e.payload,s.uint32(10).fork()).ldelim(),e.headerBytes.length!==0&&s.uint32(18).bytes(e.headerBytes),e.contentTopic!==""&&s.uint32(26).string(e.contentTopic),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseDecryptV2Request_Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.payload=Ciphertext.decode(o,o.uint32());break;case 2:c.headerBytes=o.bytes();break;case 3:c.contentTopic=o.string();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{payload:isSet(e.payload)?Ciphertext.fromJSON(e.payload):void 0,headerBytes:isSet(e.headerBytes)?bytesFromBase64(e.headerBytes):new Uint8Array,contentTopic:isSet(e.contentTopic)?String(e.contentTopic):""}},toJSON(e){const s={};return e.payload!==void 0&&(s.payload=e.payload?Ciphertext.toJSON(e.payload):void 0),e.headerBytes!==void 0&&(s.headerBytes=base64FromBytes(e.headerBytes!==void 0?e.headerBytes:new Uint8Array)),e.contentTopic!==void 0&&(s.contentTopic=e.contentTopic),s},fromPartial(e){var s,o;const a=createBaseDecryptV2Request_Request();return a.payload=e.payload!==void 0&&e.payload!==null?Ciphertext.fromPartial(e.payload):void 0,a.headerBytes=(s=e.headerBytes)!==null&&s!==void 0?s:new Uint8Array,a.contentTopic=(o=e.contentTopic)!==null&&o!==void 0?o:"",a}};function createBaseEncryptV1Request(){return{requests:[]}}const EncryptV1Request={encode(e,s=_m0.Writer.create()){for(const o of e.requests)EncryptV1Request_Request.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptV1Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.requests.push(EncryptV1Request_Request.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{requests:Array.isArray(e==null?void 0:e.requests)?e.requests.map(s=>EncryptV1Request_Request.fromJSON(s)):[]}},toJSON(e){const s={};return e.requests?s.requests=e.requests.map(o=>o?EncryptV1Request_Request.toJSON(o):void 0):s.requests=[],s},fromPartial(e){var s;const o=createBaseEncryptV1Request();return o.requests=((s=e.requests)===null||s===void 0?void 0:s.map(a=>EncryptV1Request_Request.fromPartial(a)))||[],o}};function createBaseEncryptV1Request_Request(){return{recipient:void 0,payload:new Uint8Array,headerBytes:new Uint8Array}}const EncryptV1Request_Request={encode(e,s=_m0.Writer.create()){return e.recipient!==void 0&&PublicKeyBundle.encode(e.recipient,s.uint32(10).fork()).ldelim(),e.payload.length!==0&&s.uint32(18).bytes(e.payload),e.headerBytes.length!==0&&s.uint32(26).bytes(e.headerBytes),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptV1Request_Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.recipient=PublicKeyBundle.decode(o,o.uint32());break;case 2:c.payload=o.bytes();break;case 3:c.headerBytes=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{recipient:isSet(e.recipient)?PublicKeyBundle.fromJSON(e.recipient):void 0,payload:isSet(e.payload)?bytesFromBase64(e.payload):new Uint8Array,headerBytes:isSet(e.headerBytes)?bytesFromBase64(e.headerBytes):new Uint8Array}},toJSON(e){const s={};return e.recipient!==void 0&&(s.recipient=e.recipient?PublicKeyBundle.toJSON(e.recipient):void 0),e.payload!==void 0&&(s.payload=base64FromBytes(e.payload!==void 0?e.payload:new Uint8Array)),e.headerBytes!==void 0&&(s.headerBytes=base64FromBytes(e.headerBytes!==void 0?e.headerBytes:new Uint8Array)),s},fromPartial(e){var s,o;const a=createBaseEncryptV1Request_Request();return a.recipient=e.recipient!==void 0&&e.recipient!==null?PublicKeyBundle.fromPartial(e.recipient):void 0,a.payload=(s=e.payload)!==null&&s!==void 0?s:new Uint8Array,a.headerBytes=(o=e.headerBytes)!==null&&o!==void 0?o:new Uint8Array,a}};function createBaseEncryptResponse(){return{responses:[]}}const EncryptResponse={encode(e,s=_m0.Writer.create()){for(const o of e.responses)EncryptResponse_Response.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.responses.push(EncryptResponse_Response.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{responses:Array.isArray(e==null?void 0:e.responses)?e.responses.map(s=>EncryptResponse_Response.fromJSON(s)):[]}},toJSON(e){const s={};return e.responses?s.responses=e.responses.map(o=>o?EncryptResponse_Response.toJSON(o):void 0):s.responses=[],s},fromPartial(e){var s;const o=createBaseEncryptResponse();return o.responses=((s=e.responses)===null||s===void 0?void 0:s.map(a=>EncryptResponse_Response.fromPartial(a)))||[],o}};function createBaseEncryptResponse_Response(){return{result:void 0,error:void 0}}const EncryptResponse_Response={encode(e,s=_m0.Writer.create()){return e.result!==void 0&&EncryptResponse_Response_Success.encode(e.result,s.uint32(10).fork()).ldelim(),e.error!==void 0&&KeystoreError.encode(e.error,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptResponse_Response();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.result=EncryptResponse_Response_Success.decode(o,o.uint32());break;case 2:c.error=KeystoreError.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{result:isSet(e.result)?EncryptResponse_Response_Success.fromJSON(e.result):void 0,error:isSet(e.error)?KeystoreError.fromJSON(e.error):void 0}},toJSON(e){const s={};return e.result!==void 0&&(s.result=e.result?EncryptResponse_Response_Success.toJSON(e.result):void 0),e.error!==void 0&&(s.error=e.error?KeystoreError.toJSON(e.error):void 0),s},fromPartial(e){const s=createBaseEncryptResponse_Response();return s.result=e.result!==void 0&&e.result!==null?EncryptResponse_Response_Success.fromPartial(e.result):void 0,s.error=e.error!==void 0&&e.error!==null?KeystoreError.fromPartial(e.error):void 0,s}};function createBaseEncryptResponse_Response_Success(){return{encrypted:void 0,senderHmac:new Uint8Array}}const EncryptResponse_Response_Success={encode(e,s=_m0.Writer.create()){return e.encrypted!==void 0&&Ciphertext.encode(e.encrypted,s.uint32(10).fork()).ldelim(),e.senderHmac.length!==0&&s.uint32(18).bytes(e.senderHmac),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptResponse_Response_Success();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.encrypted=Ciphertext.decode(o,o.uint32());break;case 2:c.senderHmac=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{encrypted:isSet(e.encrypted)?Ciphertext.fromJSON(e.encrypted):void 0,senderHmac:isSet(e.senderHmac)?bytesFromBase64(e.senderHmac):new Uint8Array}},toJSON(e){const s={};return e.encrypted!==void 0&&(s.encrypted=e.encrypted?Ciphertext.toJSON(e.encrypted):void 0),e.senderHmac!==void 0&&(s.senderHmac=base64FromBytes(e.senderHmac!==void 0?e.senderHmac:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseEncryptResponse_Response_Success();return o.encrypted=e.encrypted!==void 0&&e.encrypted!==null?Ciphertext.fromPartial(e.encrypted):void 0,o.senderHmac=(s=e.senderHmac)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseEncryptV2Request(){return{requests:[]}}const EncryptV2Request={encode(e,s=_m0.Writer.create()){for(const o of e.requests)EncryptV2Request_Request.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptV2Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.requests.push(EncryptV2Request_Request.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{requests:Array.isArray(e==null?void 0:e.requests)?e.requests.map(s=>EncryptV2Request_Request.fromJSON(s)):[]}},toJSON(e){const s={};return e.requests?s.requests=e.requests.map(o=>o?EncryptV2Request_Request.toJSON(o):void 0):s.requests=[],s},fromPartial(e){var s;const o=createBaseEncryptV2Request();return o.requests=((s=e.requests)===null||s===void 0?void 0:s.map(a=>EncryptV2Request_Request.fromPartial(a)))||[],o}};function createBaseEncryptV2Request_Request(){return{payload:new Uint8Array,headerBytes:new Uint8Array,contentTopic:""}}const EncryptV2Request_Request={encode(e,s=_m0.Writer.create()){return e.payload.length!==0&&s.uint32(10).bytes(e.payload),e.headerBytes.length!==0&&s.uint32(18).bytes(e.headerBytes),e.contentTopic!==""&&s.uint32(26).string(e.contentTopic),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseEncryptV2Request_Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.payload=o.bytes();break;case 2:c.headerBytes=o.bytes();break;case 3:c.contentTopic=o.string();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{payload:isSet(e.payload)?bytesFromBase64(e.payload):new Uint8Array,headerBytes:isSet(e.headerBytes)?bytesFromBase64(e.headerBytes):new Uint8Array,contentTopic:isSet(e.contentTopic)?String(e.contentTopic):""}},toJSON(e){const s={};return e.payload!==void 0&&(s.payload=base64FromBytes(e.payload!==void 0?e.payload:new Uint8Array)),e.headerBytes!==void 0&&(s.headerBytes=base64FromBytes(e.headerBytes!==void 0?e.headerBytes:new Uint8Array)),e.contentTopic!==void 0&&(s.contentTopic=e.contentTopic),s},fromPartial(e){var s,o,a;const c=createBaseEncryptV2Request_Request();return c.payload=(s=e.payload)!==null&&s!==void 0?s:new Uint8Array,c.headerBytes=(o=e.headerBytes)!==null&&o!==void 0?o:new Uint8Array,c.contentTopic=(a=e.contentTopic)!==null&&a!==void 0?a:"",c}};function createBaseSelfEncryptRequest(){return{requests:[]}}const SelfEncryptRequest={encode(e,s=_m0.Writer.create()){for(const o of e.requests)SelfEncryptRequest_Request.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSelfEncryptRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.requests.push(SelfEncryptRequest_Request.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{requests:Array.isArray(e==null?void 0:e.requests)?e.requests.map(s=>SelfEncryptRequest_Request.fromJSON(s)):[]}},toJSON(e){const s={};return e.requests?s.requests=e.requests.map(o=>o?SelfEncryptRequest_Request.toJSON(o):void 0):s.requests=[],s},fromPartial(e){var s;const o=createBaseSelfEncryptRequest();return o.requests=((s=e.requests)===null||s===void 0?void 0:s.map(a=>SelfEncryptRequest_Request.fromPartial(a)))||[],o}};function createBaseSelfEncryptRequest_Request(){return{payload:new Uint8Array}}const SelfEncryptRequest_Request={encode(e,s=_m0.Writer.create()){return e.payload.length!==0&&s.uint32(10).bytes(e.payload),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSelfEncryptRequest_Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.payload=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{payload:isSet(e.payload)?bytesFromBase64(e.payload):new Uint8Array}},toJSON(e){const s={};return e.payload!==void 0&&(s.payload=base64FromBytes(e.payload!==void 0?e.payload:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseSelfEncryptRequest_Request();return o.payload=(s=e.payload)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseSelfEncryptResponse(){return{responses:[]}}const SelfEncryptResponse={encode(e,s=_m0.Writer.create()){for(const o of e.responses)SelfEncryptResponse_Response.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSelfEncryptResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.responses.push(SelfEncryptResponse_Response.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{responses:Array.isArray(e==null?void 0:e.responses)?e.responses.map(s=>SelfEncryptResponse_Response.fromJSON(s)):[]}},toJSON(e){const s={};return e.responses?s.responses=e.responses.map(o=>o?SelfEncryptResponse_Response.toJSON(o):void 0):s.responses=[],s},fromPartial(e){var s;const o=createBaseSelfEncryptResponse();return o.responses=((s=e.responses)===null||s===void 0?void 0:s.map(a=>SelfEncryptResponse_Response.fromPartial(a)))||[],o}};function createBaseSelfEncryptResponse_Response(){return{result:void 0,error:void 0}}const SelfEncryptResponse_Response={encode(e,s=_m0.Writer.create()){return e.result!==void 0&&SelfEncryptResponse_Response_Success.encode(e.result,s.uint32(10).fork()).ldelim(),e.error!==void 0&&KeystoreError.encode(e.error,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSelfEncryptResponse_Response();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.result=SelfEncryptResponse_Response_Success.decode(o,o.uint32());break;case 2:c.error=KeystoreError.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{result:isSet(e.result)?SelfEncryptResponse_Response_Success.fromJSON(e.result):void 0,error:isSet(e.error)?KeystoreError.fromJSON(e.error):void 0}},toJSON(e){const s={};return e.result!==void 0&&(s.result=e.result?SelfEncryptResponse_Response_Success.toJSON(e.result):void 0),e.error!==void 0&&(s.error=e.error?KeystoreError.toJSON(e.error):void 0),s},fromPartial(e){const s=createBaseSelfEncryptResponse_Response();return s.result=e.result!==void 0&&e.result!==null?SelfEncryptResponse_Response_Success.fromPartial(e.result):void 0,s.error=e.error!==void 0&&e.error!==null?KeystoreError.fromPartial(e.error):void 0,s}};function createBaseSelfEncryptResponse_Response_Success(){return{encrypted:new Uint8Array}}const SelfEncryptResponse_Response_Success={encode(e,s=_m0.Writer.create()){return e.encrypted.length!==0&&s.uint32(10).bytes(e.encrypted),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSelfEncryptResponse_Response_Success();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.encrypted=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{encrypted:isSet(e.encrypted)?bytesFromBase64(e.encrypted):new Uint8Array}},toJSON(e){const s={};return e.encrypted!==void 0&&(s.encrypted=base64FromBytes(e.encrypted!==void 0?e.encrypted:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseSelfEncryptResponse_Response_Success();return o.encrypted=(s=e.encrypted)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseSelfDecryptRequest(){return{requests:[]}}const SelfDecryptRequest={encode(e,s=_m0.Writer.create()){for(const o of e.requests)SelfDecryptRequest_Request.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSelfDecryptRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.requests.push(SelfDecryptRequest_Request.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{requests:Array.isArray(e==null?void 0:e.requests)?e.requests.map(s=>SelfDecryptRequest_Request.fromJSON(s)):[]}},toJSON(e){const s={};return e.requests?s.requests=e.requests.map(o=>o?SelfDecryptRequest_Request.toJSON(o):void 0):s.requests=[],s},fromPartial(e){var s;const o=createBaseSelfDecryptRequest();return o.requests=((s=e.requests)===null||s===void 0?void 0:s.map(a=>SelfDecryptRequest_Request.fromPartial(a)))||[],o}};function createBaseSelfDecryptRequest_Request(){return{payload:new Uint8Array}}const SelfDecryptRequest_Request={encode(e,s=_m0.Writer.create()){return e.payload.length!==0&&s.uint32(10).bytes(e.payload),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSelfDecryptRequest_Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.payload=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{payload:isSet(e.payload)?bytesFromBase64(e.payload):new Uint8Array}},toJSON(e){const s={};return e.payload!==void 0&&(s.payload=base64FromBytes(e.payload!==void 0?e.payload:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseSelfDecryptRequest_Request();return o.payload=(s=e.payload)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseGetPrivatePreferencesTopicIdentifierResponse(){return{identifier:""}}const GetPrivatePreferencesTopicIdentifierResponse={encode(e,s=_m0.Writer.create()){return e.identifier!==""&&s.uint32(10).string(e.identifier),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetPrivatePreferencesTopicIdentifierResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.identifier=o.string();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{identifier:isSet(e.identifier)?String(e.identifier):""}},toJSON(e){const s={};return e.identifier!==void 0&&(s.identifier=e.identifier),s},fromPartial(e){var s;const o=createBaseGetPrivatePreferencesTopicIdentifierResponse();return o.identifier=(s=e.identifier)!==null&&s!==void 0?s:"",o}};function createBaseCreateInviteRequest(){return{context:void 0,recipient:void 0,createdNs:Long.UZERO,consentProof:void 0}}const CreateInviteRequest={encode(e,s=_m0.Writer.create()){return e.context!==void 0&&InvitationV1_Context.encode(e.context,s.uint32(10).fork()).ldelim(),e.recipient!==void 0&&SignedPublicKeyBundle.encode(e.recipient,s.uint32(18).fork()).ldelim(),e.createdNs.isZero()||s.uint32(24).uint64(e.createdNs),e.consentProof!==void 0&&ConsentProofPayload.encode(e.consentProof,s.uint32(34).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseCreateInviteRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.context=InvitationV1_Context.decode(o,o.uint32());break;case 2:c.recipient=SignedPublicKeyBundle.decode(o,o.uint32());break;case 3:c.createdNs=o.uint64();break;case 4:c.consentProof=ConsentProofPayload.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{context:isSet(e.context)?InvitationV1_Context.fromJSON(e.context):void 0,recipient:isSet(e.recipient)?SignedPublicKeyBundle.fromJSON(e.recipient):void 0,createdNs:isSet(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO,consentProof:isSet(e.consentProof)?ConsentProofPayload.fromJSON(e.consentProof):void 0}},toJSON(e){const s={};return e.context!==void 0&&(s.context=e.context?InvitationV1_Context.toJSON(e.context):void 0),e.recipient!==void 0&&(s.recipient=e.recipient?SignedPublicKeyBundle.toJSON(e.recipient):void 0),e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),e.consentProof!==void 0&&(s.consentProof=e.consentProof?ConsentProofPayload.toJSON(e.consentProof):void 0),s},fromPartial(e){const s=createBaseCreateInviteRequest();return s.context=e.context!==void 0&&e.context!==null?InvitationV1_Context.fromPartial(e.context):void 0,s.recipient=e.recipient!==void 0&&e.recipient!==null?SignedPublicKeyBundle.fromPartial(e.recipient):void 0,s.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,s.consentProof=e.consentProof!==void 0&&e.consentProof!==null?ConsentProofPayload.fromPartial(e.consentProof):void 0,s}};function createBaseCreateInviteResponse(){return{conversation:void 0,payload:new Uint8Array}}const CreateInviteResponse={encode(e,s=_m0.Writer.create()){return e.conversation!==void 0&&ConversationReference.encode(e.conversation,s.uint32(10).fork()).ldelim(),e.payload.length!==0&&s.uint32(18).bytes(e.payload),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseCreateInviteResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.conversation=ConversationReference.decode(o,o.uint32());break;case 2:c.payload=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{conversation:isSet(e.conversation)?ConversationReference.fromJSON(e.conversation):void 0,payload:isSet(e.payload)?bytesFromBase64(e.payload):new Uint8Array}},toJSON(e){const s={};return e.conversation!==void 0&&(s.conversation=e.conversation?ConversationReference.toJSON(e.conversation):void 0),e.payload!==void 0&&(s.payload=base64FromBytes(e.payload!==void 0?e.payload:new Uint8Array)),s},fromPartial(e){var s;const o=createBaseCreateInviteResponse();return o.conversation=e.conversation!==void 0&&e.conversation!==null?ConversationReference.fromPartial(e.conversation):void 0,o.payload=(s=e.payload)!==null&&s!==void 0?s:new Uint8Array,o}};function createBaseSaveInvitesRequest(){return{requests:[]}}const SaveInvitesRequest={encode(e,s=_m0.Writer.create()){for(const o of e.requests)SaveInvitesRequest_Request.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSaveInvitesRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.requests.push(SaveInvitesRequest_Request.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{requests:Array.isArray(e==null?void 0:e.requests)?e.requests.map(s=>SaveInvitesRequest_Request.fromJSON(s)):[]}},toJSON(e){const s={};return e.requests?s.requests=e.requests.map(o=>o?SaveInvitesRequest_Request.toJSON(o):void 0):s.requests=[],s},fromPartial(e){var s;const o=createBaseSaveInvitesRequest();return o.requests=((s=e.requests)===null||s===void 0?void 0:s.map(a=>SaveInvitesRequest_Request.fromPartial(a)))||[],o}};function createBaseSaveInvitesRequest_Request(){return{contentTopic:"",timestampNs:Long.UZERO,payload:new Uint8Array}}const SaveInvitesRequest_Request={encode(e,s=_m0.Writer.create()){return e.contentTopic!==""&&s.uint32(10).string(e.contentTopic),e.timestampNs.isZero()||s.uint32(16).uint64(e.timestampNs),e.payload.length!==0&&s.uint32(26).bytes(e.payload),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSaveInvitesRequest_Request();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.contentTopic=o.string();break;case 2:c.timestampNs=o.uint64();break;case 3:c.payload=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{contentTopic:isSet(e.contentTopic)?String(e.contentTopic):"",timestampNs:isSet(e.timestampNs)?Long.fromValue(e.timestampNs):Long.UZERO,payload:isSet(e.payload)?bytesFromBase64(e.payload):new Uint8Array}},toJSON(e){const s={};return e.contentTopic!==void 0&&(s.contentTopic=e.contentTopic),e.timestampNs!==void 0&&(s.timestampNs=(e.timestampNs||Long.UZERO).toString()),e.payload!==void 0&&(s.payload=base64FromBytes(e.payload!==void 0?e.payload:new Uint8Array)),s},fromPartial(e){var s,o;const a=createBaseSaveInvitesRequest_Request();return a.contentTopic=(s=e.contentTopic)!==null&&s!==void 0?s:"",a.timestampNs=e.timestampNs!==void 0&&e.timestampNs!==null?Long.fromValue(e.timestampNs):Long.UZERO,a.payload=(o=e.payload)!==null&&o!==void 0?o:new Uint8Array,a}};function createBaseSaveInvitesResponse(){return{responses:[]}}const SaveInvitesResponse={encode(e,s=_m0.Writer.create()){for(const o of e.responses)SaveInvitesResponse_Response.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSaveInvitesResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.responses.push(SaveInvitesResponse_Response.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{responses:Array.isArray(e==null?void 0:e.responses)?e.responses.map(s=>SaveInvitesResponse_Response.fromJSON(s)):[]}},toJSON(e){const s={};return e.responses?s.responses=e.responses.map(o=>o?SaveInvitesResponse_Response.toJSON(o):void 0):s.responses=[],s},fromPartial(e){var s;const o=createBaseSaveInvitesResponse();return o.responses=((s=e.responses)===null||s===void 0?void 0:s.map(a=>SaveInvitesResponse_Response.fromPartial(a)))||[],o}};function createBaseSaveInvitesResponse_Response(){return{result:void 0,error:void 0}}const SaveInvitesResponse_Response={encode(e,s=_m0.Writer.create()){return e.result!==void 0&&SaveInvitesResponse_Response_Success.encode(e.result,s.uint32(10).fork()).ldelim(),e.error!==void 0&&KeystoreError.encode(e.error,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSaveInvitesResponse_Response();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.result=SaveInvitesResponse_Response_Success.decode(o,o.uint32());break;case 2:c.error=KeystoreError.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{result:isSet(e.result)?SaveInvitesResponse_Response_Success.fromJSON(e.result):void 0,error:isSet(e.error)?KeystoreError.fromJSON(e.error):void 0}},toJSON(e){const s={};return e.result!==void 0&&(s.result=e.result?SaveInvitesResponse_Response_Success.toJSON(e.result):void 0),e.error!==void 0&&(s.error=e.error?KeystoreError.toJSON(e.error):void 0),s},fromPartial(e){const s=createBaseSaveInvitesResponse_Response();return s.result=e.result!==void 0&&e.result!==null?SaveInvitesResponse_Response_Success.fromPartial(e.result):void 0,s.error=e.error!==void 0&&e.error!==null?KeystoreError.fromPartial(e.error):void 0,s}};function createBaseSaveInvitesResponse_Response_Success(){return{conversation:void 0}}const SaveInvitesResponse_Response_Success={encode(e,s=_m0.Writer.create()){return e.conversation!==void 0&&ConversationReference.encode(e.conversation,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSaveInvitesResponse_Response_Success();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.conversation=ConversationReference.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{conversation:isSet(e.conversation)?ConversationReference.fromJSON(e.conversation):void 0}},toJSON(e){const s={};return e.conversation!==void 0&&(s.conversation=e.conversation?ConversationReference.toJSON(e.conversation):void 0),s},fromPartial(e){const s=createBaseSaveInvitesResponse_Response_Success();return s.conversation=e.conversation!==void 0&&e.conversation!==null?ConversationReference.fromPartial(e.conversation):void 0,s}};function createBaseCreateAuthTokenRequest(){return{timestampNs:void 0}}const CreateAuthTokenRequest={encode(e,s=_m0.Writer.create()){return e.timestampNs!==void 0&&s.uint32(8).uint64(e.timestampNs),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseCreateAuthTokenRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.timestampNs=o.uint64();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{timestampNs:isSet(e.timestampNs)?Long.fromValue(e.timestampNs):void 0}},toJSON(e){const s={};return e.timestampNs!==void 0&&(s.timestampNs=(e.timestampNs||void 0).toString()),s},fromPartial(e){const s=createBaseCreateAuthTokenRequest();return s.timestampNs=e.timestampNs!==void 0&&e.timestampNs!==null?Long.fromValue(e.timestampNs):void 0,s}};function createBaseSaveV1ConversationsRequest(){return{conversations:[]}}const SaveV1ConversationsRequest={encode(e,s=_m0.Writer.create()){for(const o of e.conversations)ConversationReference.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSaveV1ConversationsRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.conversations.push(ConversationReference.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{conversations:Array.isArray(e==null?void 0:e.conversations)?e.conversations.map(s=>ConversationReference.fromJSON(s)):[]}},toJSON(e){const s={};return e.conversations?s.conversations=e.conversations.map(o=>o?ConversationReference.toJSON(o):void 0):s.conversations=[],s},fromPartial(e){var s;const o=createBaseSaveV1ConversationsRequest();return o.conversations=((s=e.conversations)===null||s===void 0?void 0:s.map(a=>ConversationReference.fromPartial(a)))||[],o}};function createBaseSaveV1ConversationsResponse(){return{}}const SaveV1ConversationsResponse={encode(e,s=_m0.Writer.create()){return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSaveV1ConversationsResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){default:o.skipType(u&7);break}}return c},fromJSON(e){return{}},toJSON(e){return{}},fromPartial(e){return createBaseSaveV1ConversationsResponse()}};function createBaseGetConversationsResponse(){return{conversations:[]}}const GetConversationsResponse={encode(e,s=_m0.Writer.create()){for(const o of e.conversations)ConversationReference.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetConversationsResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.conversations.push(ConversationReference.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{conversations:Array.isArray(e==null?void 0:e.conversations)?e.conversations.map(s=>ConversationReference.fromJSON(s)):[]}},toJSON(e){const s={};return e.conversations?s.conversations=e.conversations.map(o=>o?ConversationReference.toJSON(o):void 0):s.conversations=[],s},fromPartial(e){var s;const o=createBaseGetConversationsResponse();return o.conversations=((s=e.conversations)===null||s===void 0?void 0:s.map(a=>ConversationReference.fromPartial(a)))||[],o}};function createBaseGetKeystoreStatusRequest(){return{walletAddress:""}}const GetKeystoreStatusRequest={encode(e,s=_m0.Writer.create()){return e.walletAddress!==""&&s.uint32(10).string(e.walletAddress),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetKeystoreStatusRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.walletAddress=o.string();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{walletAddress:isSet(e.walletAddress)?String(e.walletAddress):""}},toJSON(e){const s={};return e.walletAddress!==void 0&&(s.walletAddress=e.walletAddress),s},fromPartial(e){var s;const o=createBaseGetKeystoreStatusRequest();return o.walletAddress=(s=e.walletAddress)!==null&&s!==void 0?s:"",o}};function createBaseGetKeystoreStatusResponse(){return{status:0}}const GetKeystoreStatusResponse={encode(e,s=_m0.Writer.create()){return e.status!==0&&s.uint32(8).int32(e.status),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetKeystoreStatusResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.status=o.int32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{status:isSet(e.status)?getKeystoreStatusResponse_KeystoreStatusFromJSON(e.status):0}},toJSON(e){const s={};return e.status!==void 0&&(s.status=getKeystoreStatusResponse_KeystoreStatusToJSON(e.status)),s},fromPartial(e){var s;const o=createBaseGetKeystoreStatusResponse();return o.status=(s=e.status)!==null&&s!==void 0?s:0,o}};function createBaseInitKeystoreRequest(){return{v1:void 0}}const InitKeystoreRequest={encode(e,s=_m0.Writer.create()){return e.v1!==void 0&&PrivateKeyBundleV1.encode(e.v1,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseInitKeystoreRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.v1=PrivateKeyBundleV1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{v1:isSet(e.v1)?PrivateKeyBundleV1.fromJSON(e.v1):void 0}},toJSON(e){const s={};return e.v1!==void 0&&(s.v1=e.v1?PrivateKeyBundleV1.toJSON(e.v1):void 0),s},fromPartial(e){const s=createBaseInitKeystoreRequest();return s.v1=e.v1!==void 0&&e.v1!==null?PrivateKeyBundleV1.fromPartial(e.v1):void 0,s}};function createBaseInitKeystoreResponse(){return{error:void 0}}const InitKeystoreResponse={encode(e,s=_m0.Writer.create()){return e.error!==void 0&&KeystoreError.encode(e.error,s.uint32(10).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseInitKeystoreResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.error=KeystoreError.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{error:isSet(e.error)?KeystoreError.fromJSON(e.error):void 0}},toJSON(e){const s={};return e.error!==void 0&&(s.error=e.error?KeystoreError.toJSON(e.error):void 0),s},fromPartial(e){const s=createBaseInitKeystoreResponse();return s.error=e.error!==void 0&&e.error!==null?KeystoreError.fromPartial(e.error):void 0,s}};function createBaseSignDigestRequest(){return{digest:new Uint8Array,identityKey:void 0,prekeyIndex:void 0}}const SignDigestRequest={encode(e,s=_m0.Writer.create()){return e.digest.length!==0&&s.uint32(10).bytes(e.digest),e.identityKey!==void 0&&s.uint32(16).bool(e.identityKey),e.prekeyIndex!==void 0&&s.uint32(24).uint32(e.prekeyIndex),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSignDigestRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.digest=o.bytes();break;case 2:c.identityKey=o.bool();break;case 3:c.prekeyIndex=o.uint32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{digest:isSet(e.digest)?bytesFromBase64(e.digest):new Uint8Array,identityKey:isSet(e.identityKey)?!!e.identityKey:void 0,prekeyIndex:isSet(e.prekeyIndex)?Number(e.prekeyIndex):void 0}},toJSON(e){const s={};return e.digest!==void 0&&(s.digest=base64FromBytes(e.digest!==void 0?e.digest:new Uint8Array)),e.identityKey!==void 0&&(s.identityKey=e.identityKey),e.prekeyIndex!==void 0&&(s.prekeyIndex=Math.round(e.prekeyIndex)),s},fromPartial(e){var s,o,a;const c=createBaseSignDigestRequest();return c.digest=(s=e.digest)!==null&&s!==void 0?s:new Uint8Array,c.identityKey=(o=e.identityKey)!==null&&o!==void 0?o:void 0,c.prekeyIndex=(a=e.prekeyIndex)!==null&&a!==void 0?a:void 0,c}};function createBaseGetRefreshJobRequest(){return{jobType:0}}const GetRefreshJobRequest={encode(e,s=_m0.Writer.create()){return e.jobType!==0&&s.uint32(8).int32(e.jobType),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetRefreshJobRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.jobType=o.int32();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{jobType:isSet(e.jobType)?jobTypeFromJSON(e.jobType):0}},toJSON(e){const s={};return e.jobType!==void 0&&(s.jobType=jobTypeToJSON(e.jobType)),s},fromPartial(e){var s;const o=createBaseGetRefreshJobRequest();return o.jobType=(s=e.jobType)!==null&&s!==void 0?s:0,o}};function createBaseGetRefreshJobResponse(){return{lastRunNs:Long.ZERO}}const GetRefreshJobResponse={encode(e,s=_m0.Writer.create()){return e.lastRunNs.isZero()||s.uint32(8).int64(e.lastRunNs),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetRefreshJobResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.lastRunNs=o.int64();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{lastRunNs:isSet(e.lastRunNs)?Long.fromValue(e.lastRunNs):Long.ZERO}},toJSON(e){const s={};return e.lastRunNs!==void 0&&(s.lastRunNs=(e.lastRunNs||Long.ZERO).toString()),s},fromPartial(e){const s=createBaseGetRefreshJobResponse();return s.lastRunNs=e.lastRunNs!==void 0&&e.lastRunNs!==null?Long.fromValue(e.lastRunNs):Long.ZERO,s}};function createBaseSetRefeshJobRequest(){return{jobType:0,lastRunNs:Long.ZERO}}const SetRefeshJobRequest={encode(e,s=_m0.Writer.create()){return e.jobType!==0&&s.uint32(8).int32(e.jobType),e.lastRunNs.isZero()||s.uint32(16).int64(e.lastRunNs),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSetRefeshJobRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.jobType=o.int32();break;case 2:c.lastRunNs=o.int64();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{jobType:isSet(e.jobType)?jobTypeFromJSON(e.jobType):0,lastRunNs:isSet(e.lastRunNs)?Long.fromValue(e.lastRunNs):Long.ZERO}},toJSON(e){const s={};return e.jobType!==void 0&&(s.jobType=jobTypeToJSON(e.jobType)),e.lastRunNs!==void 0&&(s.lastRunNs=(e.lastRunNs||Long.ZERO).toString()),s},fromPartial(e){var s;const o=createBaseSetRefeshJobRequest();return o.jobType=(s=e.jobType)!==null&&s!==void 0?s:0,o.lastRunNs=e.lastRunNs!==void 0&&e.lastRunNs!==null?Long.fromValue(e.lastRunNs):Long.ZERO,o}};function createBaseSetRefreshJobResponse(){return{}}const SetRefreshJobResponse={encode(e,s=_m0.Writer.create()){return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseSetRefreshJobResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){default:o.skipType(u&7);break}}return c},fromJSON(e){return{}},toJSON(e){return{}},fromPartial(e){return createBaseSetRefreshJobResponse()}};function createBaseTopicMap(){return{topics:{}}}const TopicMap={encode(e,s=_m0.Writer.create()){return Object.entries(e.topics).forEach(([o,a])=>{TopicMap_TopicsEntry.encode({key:o,value:a},s.uint32(10).fork()).ldelim()}),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseTopicMap();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:const h=TopicMap_TopicsEntry.decode(o,o.uint32());h.value!==void 0&&(c.topics[h.key]=h.value);break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{topics:isObject(e.topics)?Object.entries(e.topics).reduce((s,[o,a])=>(s[o]=TopicMap_TopicData.fromJSON(a),s),{}):{}}},toJSON(e){const s={};return s.topics={},e.topics&&Object.entries(e.topics).forEach(([o,a])=>{s.topics[o]=TopicMap_TopicData.toJSON(a)}),s},fromPartial(e){var s;const o=createBaseTopicMap();return o.topics=Object.entries((s=e.topics)!==null&&s!==void 0?s:{}).reduce((a,[c,u])=>(u!==void 0&&(a[c]=TopicMap_TopicData.fromPartial(u)),a),{}),o}};function createBaseTopicMap_TopicData(){return{createdNs:Long.UZERO,peerAddress:"",invitation:void 0}}const TopicMap_TopicData={encode(e,s=_m0.Writer.create()){return e.createdNs.isZero()||s.uint32(8).uint64(e.createdNs),e.peerAddress!==""&&s.uint32(18).string(e.peerAddress),e.invitation!==void 0&&InvitationV1.encode(e.invitation,s.uint32(26).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseTopicMap_TopicData();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.createdNs=o.uint64();break;case 2:c.peerAddress=o.string();break;case 3:c.invitation=InvitationV1.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{createdNs:isSet(e.createdNs)?Long.fromValue(e.createdNs):Long.UZERO,peerAddress:isSet(e.peerAddress)?String(e.peerAddress):"",invitation:isSet(e.invitation)?InvitationV1.fromJSON(e.invitation):void 0}},toJSON(e){const s={};return e.createdNs!==void 0&&(s.createdNs=(e.createdNs||Long.UZERO).toString()),e.peerAddress!==void 0&&(s.peerAddress=e.peerAddress),e.invitation!==void 0&&(s.invitation=e.invitation?InvitationV1.toJSON(e.invitation):void 0),s},fromPartial(e){var s;const o=createBaseTopicMap_TopicData();return o.createdNs=e.createdNs!==void 0&&e.createdNs!==null?Long.fromValue(e.createdNs):Long.UZERO,o.peerAddress=(s=e.peerAddress)!==null&&s!==void 0?s:"",o.invitation=e.invitation!==void 0&&e.invitation!==null?InvitationV1.fromPartial(e.invitation):void 0,o}};function createBaseTopicMap_TopicsEntry(){return{key:"",value:void 0}}const TopicMap_TopicsEntry={encode(e,s=_m0.Writer.create()){return e.key!==""&&s.uint32(10).string(e.key),e.value!==void 0&&TopicMap_TopicData.encode(e.value,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseTopicMap_TopicsEntry();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.key=o.string();break;case 2:c.value=TopicMap_TopicData.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{key:isSet(e.key)?String(e.key):"",value:isSet(e.value)?TopicMap_TopicData.fromJSON(e.value):void 0}},toJSON(e){const s={};return e.key!==void 0&&(s.key=e.key),e.value!==void 0&&(s.value=e.value?TopicMap_TopicData.toJSON(e.value):void 0),s},fromPartial(e){var s;const o=createBaseTopicMap_TopicsEntry();return o.key=(s=e.key)!==null&&s!==void 0?s:"",o.value=e.value!==void 0&&e.value!==null?TopicMap_TopicData.fromPartial(e.value):void 0,o}};function createBaseGetConversationHmacKeysRequest(){return{topics:[]}}const GetConversationHmacKeysRequest={encode(e,s=_m0.Writer.create()){for(const o of e.topics)s.uint32(10).string(o);return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetConversationHmacKeysRequest();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.topics.push(o.string());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{topics:Array.isArray(e==null?void 0:e.topics)?e.topics.map(s=>String(s)):[]}},toJSON(e){const s={};return e.topics?s.topics=e.topics.map(o=>o):s.topics=[],s},fromPartial(e){var s;const o=createBaseGetConversationHmacKeysRequest();return o.topics=((s=e.topics)===null||s===void 0?void 0:s.map(a=>a))||[],o}};function createBaseGetConversationHmacKeysResponse(){return{hmacKeys:{}}}const GetConversationHmacKeysResponse={encode(e,s=_m0.Writer.create()){return Object.entries(e.hmacKeys).forEach(([o,a])=>{GetConversationHmacKeysResponse_HmacKeysEntry.encode({key:o,value:a},s.uint32(10).fork()).ldelim()}),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetConversationHmacKeysResponse();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:const h=GetConversationHmacKeysResponse_HmacKeysEntry.decode(o,o.uint32());h.value!==void 0&&(c.hmacKeys[h.key]=h.value);break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{hmacKeys:isObject(e.hmacKeys)?Object.entries(e.hmacKeys).reduce((s,[o,a])=>(s[o]=GetConversationHmacKeysResponse_HmacKeys.fromJSON(a),s),{}):{}}},toJSON(e){const s={};return s.hmacKeys={},e.hmacKeys&&Object.entries(e.hmacKeys).forEach(([o,a])=>{s.hmacKeys[o]=GetConversationHmacKeysResponse_HmacKeys.toJSON(a)}),s},fromPartial(e){var s;const o=createBaseGetConversationHmacKeysResponse();return o.hmacKeys=Object.entries((s=e.hmacKeys)!==null&&s!==void 0?s:{}).reduce((a,[c,u])=>(u!==void 0&&(a[c]=GetConversationHmacKeysResponse_HmacKeys.fromPartial(u)),a),{}),o}};function createBaseGetConversationHmacKeysResponse_HmacKeyData(){return{thirtyDayPeriodsSinceEpoch:0,hmacKey:new Uint8Array}}const GetConversationHmacKeysResponse_HmacKeyData={encode(e,s=_m0.Writer.create()){return e.thirtyDayPeriodsSinceEpoch!==0&&s.uint32(8).int32(e.thirtyDayPeriodsSinceEpoch),e.hmacKey.length!==0&&s.uint32(18).bytes(e.hmacKey),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetConversationHmacKeysResponse_HmacKeyData();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.thirtyDayPeriodsSinceEpoch=o.int32();break;case 2:c.hmacKey=o.bytes();break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{thirtyDayPeriodsSinceEpoch:isSet(e.thirtyDayPeriodsSinceEpoch)?Number(e.thirtyDayPeriodsSinceEpoch):0,hmacKey:isSet(e.hmacKey)?bytesFromBase64(e.hmacKey):new Uint8Array}},toJSON(e){const s={};return e.thirtyDayPeriodsSinceEpoch!==void 0&&(s.thirtyDayPeriodsSinceEpoch=Math.round(e.thirtyDayPeriodsSinceEpoch)),e.hmacKey!==void 0&&(s.hmacKey=base64FromBytes(e.hmacKey!==void 0?e.hmacKey:new Uint8Array)),s},fromPartial(e){var s,o;const a=createBaseGetConversationHmacKeysResponse_HmacKeyData();return a.thirtyDayPeriodsSinceEpoch=(s=e.thirtyDayPeriodsSinceEpoch)!==null&&s!==void 0?s:0,a.hmacKey=(o=e.hmacKey)!==null&&o!==void 0?o:new Uint8Array,a}};function createBaseGetConversationHmacKeysResponse_HmacKeys(){return{values:[]}}const GetConversationHmacKeysResponse_HmacKeys={encode(e,s=_m0.Writer.create()){for(const o of e.values)GetConversationHmacKeysResponse_HmacKeyData.encode(o,s.uint32(10).fork()).ldelim();return s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetConversationHmacKeysResponse_HmacKeys();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.values.push(GetConversationHmacKeysResponse_HmacKeyData.decode(o,o.uint32()));break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{values:Array.isArray(e==null?void 0:e.values)?e.values.map(s=>GetConversationHmacKeysResponse_HmacKeyData.fromJSON(s)):[]}},toJSON(e){const s={};return e.values?s.values=e.values.map(o=>o?GetConversationHmacKeysResponse_HmacKeyData.toJSON(o):void 0):s.values=[],s},fromPartial(e){var s;const o=createBaseGetConversationHmacKeysResponse_HmacKeys();return o.values=((s=e.values)===null||s===void 0?void 0:s.map(a=>GetConversationHmacKeysResponse_HmacKeyData.fromPartial(a)))||[],o}};function createBaseGetConversationHmacKeysResponse_HmacKeysEntry(){return{key:"",value:void 0}}const GetConversationHmacKeysResponse_HmacKeysEntry={encode(e,s=_m0.Writer.create()){return e.key!==""&&s.uint32(10).string(e.key),e.value!==void 0&&GetConversationHmacKeysResponse_HmacKeys.encode(e.value,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBaseGetConversationHmacKeysResponse_HmacKeysEntry();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.key=o.string();break;case 2:c.value=GetConversationHmacKeysResponse_HmacKeys.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{key:isSet(e.key)?String(e.key):"",value:isSet(e.value)?GetConversationHmacKeysResponse_HmacKeys.fromJSON(e.value):void 0}},toJSON(e){const s={};return e.key!==void 0&&(s.key=e.key),e.value!==void 0&&(s.value=e.value?GetConversationHmacKeysResponse_HmacKeys.toJSON(e.value):void 0),s},fromPartial(e){var s;const o=createBaseGetConversationHmacKeysResponse_HmacKeysEntry();return o.key=(s=e.key)!==null&&s!==void 0?s:"",o.value=e.value!==void 0&&e.value!==null?GetConversationHmacKeysResponse_HmacKeys.fromPartial(e.value):void 0,o}};function createBasePrivatePreferencesActionMap(){return{actions:{}}}const PrivatePreferencesActionMap={encode(e,s=_m0.Writer.create()){return Object.entries(e.actions).forEach(([o,a])=>{PrivatePreferencesActionMap_ActionsEntry.encode({key:o,value:a},s.uint32(10).fork()).ldelim()}),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesActionMap();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:const h=PrivatePreferencesActionMap_ActionsEntry.decode(o,o.uint32());h.value!==void 0&&(c.actions[h.key]=h.value);break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{actions:isObject(e.actions)?Object.entries(e.actions).reduce((s,[o,a])=>(s[o]=PrivatePreferencesAction.fromJSON(a),s),{}):{}}},toJSON(e){const s={};return s.actions={},e.actions&&Object.entries(e.actions).forEach(([o,a])=>{s.actions[o]=PrivatePreferencesAction.toJSON(a)}),s},fromPartial(e){var s;const o=createBasePrivatePreferencesActionMap();return o.actions=Object.entries((s=e.actions)!==null&&s!==void 0?s:{}).reduce((a,[c,u])=>(u!==void 0&&(a[c]=PrivatePreferencesAction.fromPartial(u)),a),{}),o}};function createBasePrivatePreferencesActionMap_ActionsEntry(){return{key:"",value:void 0}}const PrivatePreferencesActionMap_ActionsEntry={encode(e,s=_m0.Writer.create()){return e.key!==""&&s.uint32(10).string(e.key),e.value!==void 0&&PrivatePreferencesAction.encode(e.value,s.uint32(18).fork()).ldelim(),s},decode(e,s){const o=e instanceof _m0.Reader?e:new _m0.Reader(e);let a=s===void 0?o.len:o.pos+s;const c=createBasePrivatePreferencesActionMap_ActionsEntry();for(;o.pos<a;){const u=o.uint32();switch(u>>>3){case 1:c.key=o.string();break;case 2:c.value=PrivatePreferencesAction.decode(o,o.uint32());break;default:o.skipType(u&7);break}}return c},fromJSON(e){return{key:isSet(e.key)?String(e.key):"",value:isSet(e.value)?PrivatePreferencesAction.fromJSON(e.value):void 0}},toJSON(e){const s={};return e.key!==void 0&&(s.key=e.key),e.value!==void 0&&(s.value=e.value?PrivatePreferencesAction.toJSON(e.value):void 0),s},fromPartial(e){var s;const o=createBasePrivatePreferencesActionMap_ActionsEntry();return o.key=(s=e.key)!==null&&s!==void 0?s:"",o.value=e.value!==void 0&&e.value!==null?PrivatePreferencesAction.fromPartial(e.value):void 0,o}};var globalThis$h=(()=>{if(typeof globalThis$h<"u")return globalThis$h;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$h<"u")return globalThis$h;throw"Unable to locate global object"})();function bytesFromBase64(e){if(globalThis$h.Buffer)return Uint8Array.from(globalThis$h.Buffer.from(e,"base64"));{const s=globalThis$h.atob(e),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}}function base64FromBytes(e){if(globalThis$h.Buffer)return globalThis$h.Buffer.from(e).toString("base64");{const s=[];return e.forEach(o=>{s.push(String.fromCharCode(o))}),globalThis$h.btoa(s.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isObject(e){return typeof e=="object"&&e!==null}function isSet(e){return e!=null}const i=Object.freeze(Object.defineProperty({__proto__:null,CreateAuthTokenRequest,CreateInviteRequest,CreateInviteResponse,DecryptResponse,DecryptResponse_Response,DecryptResponse_Response_Success,DecryptV1Request,DecryptV1Request_Request,DecryptV2Request,DecryptV2Request_Request,EncryptResponse,EncryptResponse_Response,EncryptResponse_Response_Success,EncryptV1Request,EncryptV1Request_Request,EncryptV2Request,EncryptV2Request_Request,get ErrorCode(){return ErrorCode},GetConversationHmacKeysRequest,GetConversationHmacKeysResponse,GetConversationHmacKeysResponse_HmacKeyData,GetConversationHmacKeysResponse_HmacKeys,GetConversationHmacKeysResponse_HmacKeysEntry,GetConversationsResponse,GetKeystoreStatusRequest,GetKeystoreStatusResponse,get GetKeystoreStatusResponse_KeystoreStatus(){return GetKeystoreStatusResponse_KeystoreStatus},GetPrivatePreferencesTopicIdentifierResponse,GetRefreshJobRequest,GetRefreshJobResponse,InitKeystoreRequest,InitKeystoreResponse,get JobType(){return JobType},KeystoreError,PrivatePreferencesActionMap,PrivatePreferencesActionMap_ActionsEntry,SaveInvitesRequest,SaveInvitesRequest_Request,SaveInvitesResponse,SaveInvitesResponse_Response,SaveInvitesResponse_Response_Success,SaveV1ConversationsRequest,SaveV1ConversationsResponse,SelfDecryptRequest,SelfDecryptRequest_Request,SelfEncryptRequest,SelfEncryptRequest_Request,SelfEncryptResponse,SelfEncryptResponse_Response,SelfEncryptResponse_Response_Success,SetRefeshJobRequest,SetRefreshJobResponse,SignDigestRequest,TopicMap,TopicMap_TopicData,TopicMap_TopicsEntry,errorCodeFromJSON,errorCodeToJSON,getKeystoreStatusResponse_KeystoreStatusFromJSON,getKeystoreStatusResponse_KeystoreStatusToJSON,jobTypeFromJSON,jobTypeToJSON,protobufPackage},Symbol.toStringTag,{value:"Module"}));var globalThis$g=(()=>{if(typeof globalThis$g<"u")return globalThis$g;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$g<"u")return globalThis$g;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$f=(()=>{if(typeof globalThis$f<"u")return globalThis$f;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$f<"u")return globalThis$f;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var WelcomeWrapperAlgorithm;(function(e){e[e.WELCOME_WRAPPER_ALGORITHM_UNSPECIFIED=0]="WELCOME_WRAPPER_ALGORITHM_UNSPECIFIED",e[e.WELCOME_WRAPPER_ALGORITHM_CURVE25519=1]="WELCOME_WRAPPER_ALGORITHM_CURVE25519",e[e.WELCOME_WRAPPER_ALGORITHM_XWING_MLKEM_768_DRAFT_6=2]="WELCOME_WRAPPER_ALGORITHM_XWING_MLKEM_768_DRAFT_6",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(WelcomeWrapperAlgorithm||(WelcomeWrapperAlgorithm={}));var globalThis$e=(()=>{if(typeof globalThis$e<"u")return globalThis$e;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$e<"u")return globalThis$e;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var extendStatics=function(e,s){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])},extendStatics(e,s)};function __extends(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");extendStatics(e,s);function o(){this.constructor=e}e.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}var __assign=function(){return __assign=Object.assign||function(s){for(var o,a=1,c=arguments.length;a<c;a++){o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s},__assign.apply(this,arguments)};function __rest(e,s){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)s.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o}function __decorate(e,s,o,a){var c=arguments.length,u=c<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,o):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,s,o,a);else for(var p=e.length-1;p>=0;p--)(h=e[p])&&(u=(c<3?h(u):c>3?h(s,o,u):h(s,o))||u);return c>3&&u&&Object.defineProperty(s,o,u),u}function __param(e,s){return function(o,a){s(o,a,e)}}function __esDecorate(e,s,o,a,c,u){function h(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var p=a.kind,m=p==="getter"?"get":p==="setter"?"set":"value",y=!s&&e?a.static?e:e.prototype:null,v=s||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),b,w=!1,S=o.length-1;S>=0;S--){var P={};for(var R in a)P[R]=R==="access"?{}:a[R];for(var R in a.access)P.access[R]=a.access[R];P.addInitializer=function(k){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(h(k||null))};var T=(0,o[S])(p==="accessor"?{get:v.get,set:v.set}:v[m],P);if(p==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(b=h(T.get))&&(v.get=b),(b=h(T.set))&&(v.set=b),(b=h(T.init))&&c.unshift(b)}else(b=h(T))&&(p==="field"?c.unshift(b):v[m]=b)}y&&Object.defineProperty(y,a.name,v),w=!0}function __runInitializers(e,s,o){for(var a=arguments.length>2,c=0;c<s.length;c++)o=a?s[c].call(e,o):s[c].call(e);return a?o:void 0}function __propKey(e){return typeof e=="symbol"?e:"".concat(e)}function __setFunctionName(e,s,o){return typeof s=="symbol"&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:o?"".concat(o," ",s):s})}function __metadata(e,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,s)}function __awaiter(e,s,o,a){function c(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function p(v){try{y(a.next(v))}catch(b){h(b)}}function m(v){try{y(a.throw(v))}catch(b){h(b)}}function y(v){v.done?u(v.value):c(v.value).then(p,m)}y((a=a.apply(e,s||[])).next())})}function __generator(e,s){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,c,u,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(y){return function(v){return m([y,v])}}function m(y){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(o=0)),o;)try{if(a=1,c&&(u=y[0]&2?c.return:y[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,y[1])).done)return u;switch(c=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,c=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){o.label=y[1];break}if(y[0]===6&&o.label<u[1]){o.label=u[1],u=y;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(y);break}u[2]&&o.ops.pop(),o.trys.pop();continue}y=s.call(e,o)}catch(v){y=[6,v],c=0}finally{a=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var __createBinding=Object.create?function(e,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(e,a,c)}:function(e,s,o,a){a===void 0&&(a=o),e[a]=s[o]};function __exportStar(e,s){for(var o in e)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&__createBinding(s,e,o)}function __values(e){var s=typeof Symbol=="function"&&Symbol.iterator,o=s&&e[s],a=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,s){var o=typeof Symbol=="function"&&e[Symbol.iterator];if(!o)return e;var a=o.call(e),c,u=[],h;try{for(;(s===void 0||s-- >0)&&!(c=a.next()).done;)u.push(c.value)}catch(p){h={error:p}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(h)throw h.error}}return u}function __spread(){for(var e=[],s=0;s<arguments.length;s++)e=e.concat(__read(arguments[s]));return e}function __spreadArrays(){for(var e=0,s=0,o=arguments.length;s<o;s++)e+=arguments[s].length;for(var a=Array(e),c=0,s=0;s<o;s++)for(var u=arguments[s],h=0,p=u.length;h<p;h++,c++)a[c]=u[h];return a}function __spreadArray(e,s,o){if(o||arguments.length===2)for(var a=0,c=s.length,u;a<c;a++)(u||!(a in s))&&(u||(u=Array.prototype.slice.call(s,0,a)),u[a]=s[a]);return e.concat(u||Array.prototype.slice.call(s))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,s,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(e,s||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(S){return function(P){return Promise.resolve(P).then(S,b)}}function p(S,P){a[S]&&(c[S]=function(R){return new Promise(function(T,k){u.push([S,R,T,k])>1||m(S,R)})},P&&(c[S]=P(c[S])))}function m(S,P){try{y(a[S](P))}catch(R){w(u[0][3],R)}}function y(S){S.value instanceof __await?Promise.resolve(S.value.v).then(v,b):w(u[0][2],S)}function v(S){m("next",S)}function b(S){m("throw",S)}function w(S,P){S(P),u.shift(),u.length&&m(u[0][0],u[0][1])}}function __asyncDelegator(e){var s,o;return s={},a("next"),a("throw",function(c){throw c}),a("return"),s[Symbol.iterator]=function(){return this},s;function a(c,u){s[c]=e[c]?function(h){return(o=!o)?{value:__await(e[c](h)),done:!1}:u?u(h):h}:u}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=e[Symbol.asyncIterator],o;return s?s.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(u){o[u]=e[u]&&function(h){return new Promise(function(p,m){h=e[u](h),c(p,m,h.done,h.value)})}}function c(u,h,p,m){Promise.resolve(m).then(function(y){u({value:y,done:p})},h)}}function __makeTemplateObject(e,s){return Object.defineProperty?Object.defineProperty(e,"raw",{value:s}):e.raw=s,e}var __setModuleDefault=Object.create?function(e,s){Object.defineProperty(e,"default",{enumerable:!0,value:s})}:function(e,s){e.default=s},ownKeys=function(e){return ownKeys=Object.getOwnPropertyNames||function(s){var o=[];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[o.length]=a);return o},ownKeys(e)};function __importStar(e){if(e&&e.__esModule)return e;var s={};if(e!=null)for(var o=ownKeys(e),a=0;a<o.length;a++)o[a]!=="default"&&__createBinding(s,e,o[a]);return __setModuleDefault(s,e),s}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?e!==s||!a:!s.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(e):a?a.value:s.get(e)}function __classPrivateFieldSet(e,s,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?e!==s||!c:!s.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(e,o):c?c.value=o:s.set(e,o),o}function __classPrivateFieldIn(e,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?s===e:e.has(s)}function __addDisposableResource(e,s,o){if(s!=null){if(typeof s!="object"&&typeof s!="function")throw new TypeError("Object expected.");var a,c;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=s[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=s[Symbol.dispose],o&&(c=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");c&&(a=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),e.stack.push({value:s,dispose:a,async:o})}else o&&e.stack.push({async:!0});return s}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(e,s,o){var a=new Error(o);return a.name="SuppressedError",a.error=e,a.suppressed=s,a};function __disposeResources(e){function s(u){e.error=e.hasError?new _SuppressedError(u,e.error,"An error was suppressed during disposal."):u,e.hasError=!0}var o,a=0;function c(){for(;o=e.stack.pop();)try{if(!o.async&&a===1)return a=0,e.stack.push(o),Promise.resolve().then(c);if(o.dispose){var u=o.dispose.call(o.value);if(o.async)return a|=2,Promise.resolve(u).then(c,function(h){return s(h),c()})}else a|=1}catch(h){s(h)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return c()}function __rewriteRelativeImportExtension(e,s){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(o,a,c,u,h){return a?s?".jsx":".js":c&&(!u||!h)?o:c+u+"."+h.toLowerCase()+"js"}):e}const tslib_es6={__extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"}));var SortDirection;(function(e){e[e.SORT_DIRECTION_UNSPECIFIED=0]="SORT_DIRECTION_UNSPECIFIED",e[e.SORT_DIRECTION_ASCENDING=1]="SORT_DIRECTION_ASCENDING",e[e.SORT_DIRECTION_DESCENDING=2]="SORT_DIRECTION_DESCENDING",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(SortDirection||(SortDirection={}));var globalThis$d=(()=>{if(typeof globalThis$d<"u")return globalThis$d;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$d<"u")return globalThis$d;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var AdminListUpdateType;(function(e){e[e.ADMIN_LIST_UPDATE_TYPE_UNSPECIFIED=0]="ADMIN_LIST_UPDATE_TYPE_UNSPECIFIED",e[e.ADMIN_LIST_UPDATE_TYPE_ADD_ADMIN=1]="ADMIN_LIST_UPDATE_TYPE_ADD_ADMIN",e[e.ADMIN_LIST_UPDATE_TYPE_REMOVE_ADMIN=2]="ADMIN_LIST_UPDATE_TYPE_REMOVE_ADMIN",e[e.ADMIN_LIST_UPDATE_TYPE_ADD_SUPER_ADMIN=3]="ADMIN_LIST_UPDATE_TYPE_ADD_SUPER_ADMIN",e[e.ADMIN_LIST_UPDATE_TYPE_REMOVE_SUPER_ADMIN=4]="ADMIN_LIST_UPDATE_TYPE_REMOVE_SUPER_ADMIN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(AdminListUpdateType||(AdminListUpdateType={}));var PermissionUpdateType;(function(e){e[e.PERMISSION_UPDATE_TYPE_UNSPECIFIED=0]="PERMISSION_UPDATE_TYPE_UNSPECIFIED",e[e.PERMISSION_UPDATE_TYPE_ADD_MEMBER=1]="PERMISSION_UPDATE_TYPE_ADD_MEMBER",e[e.PERMISSION_UPDATE_TYPE_REMOVE_MEMBER=2]="PERMISSION_UPDATE_TYPE_REMOVE_MEMBER",e[e.PERMISSION_UPDATE_TYPE_ADD_ADMIN=3]="PERMISSION_UPDATE_TYPE_ADD_ADMIN",e[e.PERMISSION_UPDATE_TYPE_REMOVE_ADMIN=4]="PERMISSION_UPDATE_TYPE_REMOVE_ADMIN",e[e.PERMISSION_UPDATE_TYPE_UPDATE_METADATA=5]="PERMISSION_UPDATE_TYPE_UPDATE_METADATA",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(PermissionUpdateType||(PermissionUpdateType={}));var PermissionPolicyOption;(function(e){e[e.PERMISSION_POLICY_OPTION_UNSPECIFIED=0]="PERMISSION_POLICY_OPTION_UNSPECIFIED",e[e.PERMISSION_POLICY_OPTION_ALLOW=1]="PERMISSION_POLICY_OPTION_ALLOW",e[e.PERMISSION_POLICY_OPTION_DENY=2]="PERMISSION_POLICY_OPTION_DENY",e[e.PERMISSION_POLICY_OPTION_ADMIN_ONLY=3]="PERMISSION_POLICY_OPTION_ADMIN_ONLY",e[e.PERMISSION_POLICY_OPTION_SUPER_ADMIN_ONLY=4]="PERMISSION_POLICY_OPTION_SUPER_ADMIN_ONLY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(PermissionPolicyOption||(PermissionPolicyOption={}));var globalThis$c=(()=>{if(typeof globalThis$c<"u")return globalThis$c;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$c<"u")return globalThis$c;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var GroupMembershipStateSave;(function(e){e[e.GROUP_MEMBERSHIP_STATE_SAVE_UNSPECIFIED=0]="GROUP_MEMBERSHIP_STATE_SAVE_UNSPECIFIED",e[e.GROUP_MEMBERSHIP_STATE_SAVE_ALLOWED=1]="GROUP_MEMBERSHIP_STATE_SAVE_ALLOWED",e[e.GROUP_MEMBERSHIP_STATE_SAVE_REJECTED=2]="GROUP_MEMBERSHIP_STATE_SAVE_REJECTED",e[e.GROUP_MEMBERSHIP_STATE_SAVE_PENDING=3]="GROUP_MEMBERSHIP_STATE_SAVE_PENDING",e[e.GROUP_MEMBERSHIP_STATE_SAVE_RESTORED=4]="GROUP_MEMBERSHIP_STATE_SAVE_RESTORED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(GroupMembershipStateSave||(GroupMembershipStateSave={}));var ConversationTypeSave;(function(e){e[e.CONVERSATION_TYPE_SAVE_UNSPECIFIED=0]="CONVERSATION_TYPE_SAVE_UNSPECIFIED",e[e.CONVERSATION_TYPE_SAVE_GROUP=1]="CONVERSATION_TYPE_SAVE_GROUP",e[e.CONVERSATION_TYPE_SAVE_DM=2]="CONVERSATION_TYPE_SAVE_DM",e[e.CONVERSATION_TYPE_SAVE_SYNC=3]="CONVERSATION_TYPE_SAVE_SYNC",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConversationTypeSave||(ConversationTypeSave={}));var globalThis$b=(()=>{if(typeof globalThis$b<"u")return globalThis$b;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$b<"u")return globalThis$b;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var GroupMessageKindSave;(function(e){e[e.GROUP_MESSAGE_KIND_SAVE_UNSPECIFIED=0]="GROUP_MESSAGE_KIND_SAVE_UNSPECIFIED",e[e.GROUP_MESSAGE_KIND_SAVE_APPLICATION=1]="GROUP_MESSAGE_KIND_SAVE_APPLICATION",e[e.GROUP_MESSAGE_KIND_SAVE_MEMBERSHIP_CHANGE=2]="GROUP_MESSAGE_KIND_SAVE_MEMBERSHIP_CHANGE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(GroupMessageKindSave||(GroupMessageKindSave={}));var DeliveryStatusSave;(function(e){e[e.DELIVERY_STATUS_SAVE_UNSPECIFIED=0]="DELIVERY_STATUS_SAVE_UNSPECIFIED",e[e.DELIVERY_STATUS_SAVE_UNPUBLISHED=1]="DELIVERY_STATUS_SAVE_UNPUBLISHED",e[e.DELIVERY_STATUS_SAVE_PUBLISHED=2]="DELIVERY_STATUS_SAVE_PUBLISHED",e[e.DELIVERY_STATUS_SAVE_FAILED=3]="DELIVERY_STATUS_SAVE_FAILED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(DeliveryStatusSave||(DeliveryStatusSave={}));var ContentTypeSave;(function(e){e[e.CONTENT_TYPE_SAVE_UNSPECIFIED=0]="CONTENT_TYPE_SAVE_UNSPECIFIED",e[e.CONTENT_TYPE_SAVE_UNKNOWN=1]="CONTENT_TYPE_SAVE_UNKNOWN",e[e.CONTENT_TYPE_SAVE_TEXT=2]="CONTENT_TYPE_SAVE_TEXT",e[e.CONTENT_TYPE_SAVE_GROUP_MEMBERSHIP_CHANGE=3]="CONTENT_TYPE_SAVE_GROUP_MEMBERSHIP_CHANGE",e[e.CONTENT_TYPE_SAVE_GROUP_UPDATED=4]="CONTENT_TYPE_SAVE_GROUP_UPDATED",e[e.CONTENT_TYPE_SAVE_REACTION=5]="CONTENT_TYPE_SAVE_REACTION",e[e.CONTENT_TYPE_SAVE_READ_RECEIPT=6]="CONTENT_TYPE_SAVE_READ_RECEIPT",e[e.CONTENT_TYPE_SAVE_REPLY=7]="CONTENT_TYPE_SAVE_REPLY",e[e.CONTENT_TYPE_SAVE_ATTACHMENT=8]="CONTENT_TYPE_SAVE_ATTACHMENT",e[e.CONTENT_TYPE_SAVE_REMOTE_ATTACHMENT=9]="CONTENT_TYPE_SAVE_REMOTE_ATTACHMENT",e[e.CONTENT_TYPE_SAVE_TRANSACTION_REFERENCE=10]="CONTENT_TYPE_SAVE_TRANSACTION_REFERENCE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ContentTypeSave||(ContentTypeSave={}));var globalThis$a=(()=>{if(typeof globalThis$a<"u")return globalThis$a;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$a<"u")return globalThis$a;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var ConsentTypeSave;(function(e){e[e.CONSENT_TYPE_SAVE_UNSPECIFIED=0]="CONSENT_TYPE_SAVE_UNSPECIFIED",e[e.CONSENT_TYPE_SAVE_CONVERSATION_ID=1]="CONSENT_TYPE_SAVE_CONVERSATION_ID",e[e.CONSENT_TYPE_SAVE_INBOX_ID=2]="CONSENT_TYPE_SAVE_INBOX_ID",e[e.CONSENT_TYPE_SAVE_ADDRESS=3]="CONSENT_TYPE_SAVE_ADDRESS",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConsentTypeSave||(ConsentTypeSave={}));var ConsentStateSave;(function(e){e[e.CONSENT_STATE_SAVE_UNSPECIFIED=0]="CONSENT_STATE_SAVE_UNSPECIFIED",e[e.CONSENT_STATE_SAVE_UNKNOWN=1]="CONSENT_STATE_SAVE_UNKNOWN",e[e.CONSENT_STATE_SAVE_ALLOWED=2]="CONSENT_STATE_SAVE_ALLOWED",e[e.CONSENT_STATE_SAVE_DENIED=3]="CONSENT_STATE_SAVE_DENIED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConsentStateSave||(ConsentStateSave={}));_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$9=(()=>{if(typeof globalThis$9<"u")return globalThis$9;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$9<"u")return globalThis$9;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var BackupElementSelection;(function(e){e[e.BACKUP_ELEMENT_SELECTION_UNSPECIFIED=0]="BACKUP_ELEMENT_SELECTION_UNSPECIFIED",e[e.BACKUP_ELEMENT_SELECTION_MESSAGES=1]="BACKUP_ELEMENT_SELECTION_MESSAGES",e[e.BACKUP_ELEMENT_SELECTION_CONSENT=2]="BACKUP_ELEMENT_SELECTION_CONSENT",e[e.BACKUP_ELEMENT_SELECTION_EVENT=3]="BACKUP_ELEMENT_SELECTION_EVENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(BackupElementSelection||(BackupElementSelection={}));_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$8=(()=>{if(typeof globalThis$8<"u")return globalThis$8;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$8<"u")return globalThis$8;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var Compression;(function(e){e[e.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",e[e.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Compression||(Compression={}));var globalThis$7=(()=>{if(typeof globalThis$7<"u")return globalThis$7;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$7<"u")return globalThis$7;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$6=(()=>{if(typeof globalThis$6<"u")return globalThis$6;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$6<"u")return globalThis$6;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var ConversationType;(function(e){e[e.CONVERSATION_TYPE_UNSPECIFIED=0]="CONVERSATION_TYPE_UNSPECIFIED",e[e.CONVERSATION_TYPE_GROUP=1]="CONVERSATION_TYPE_GROUP",e[e.CONVERSATION_TYPE_DM=2]="CONVERSATION_TYPE_DM",e[e.CONVERSATION_TYPE_SYNC=3]="CONVERSATION_TYPE_SYNC",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConversationType||(ConversationType={}));_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$5=(()=>{if(typeof globalThis$5<"u")return globalThis$5;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$5<"u")return globalThis$5;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$4=(()=>{if(typeof globalThis$4<"u")return globalThis$4;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$4<"u")return globalThis$4;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var IdentifierKind;(function(e){e[e.IDENTIFIER_KIND_UNSPECIFIED=0]="IDENTIFIER_KIND_UNSPECIFIED",e[e.IDENTIFIER_KIND_ETHEREUM=1]="IDENTIFIER_KIND_ETHEREUM",e[e.IDENTIFIER_KIND_PASSKEY=2]="IDENTIFIER_KIND_PASSKEY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(IdentifierKind||(IdentifierKind={}));var globalThis$3=(()=>{if(typeof globalThis$3<"u")return globalThis$3;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$3<"u")return globalThis$3;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$2=(()=>{if(typeof globalThis$2<"u")return globalThis$2;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$2<"u")return globalThis$2;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$1=(()=>{if(typeof globalThis$1<"u")return globalThis$1;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$1<"u")return globalThis$1;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n$5=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2),_3n$2=BigInt(3),_8n$1=BigInt(8),CURVE=Object.freeze({a:_0n$5,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n$6,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),divNearest$1=(e,s)=>(e+s/_2n$4)/s,endo={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:s}=CURVE,o=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-_1n$6*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),c=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),u=o,h=BigInt("0x100000000000000000000000000000000"),p=divNearest$1(u*e,s),m=divNearest$1(-a*e,s);let y=mod$1(e-p*o-m*c,s),v=mod$1(-p*a-m*u,s);const b=y>h,w=v>h;if(b&&(y=s-y),w&&(v=s-v),y>h||v>h)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:b,k1:y,k2neg:w,k2:v}}},fieldLen=32,groupLen=32,hashLen=32,compressedLen=fieldLen+1,uncompressedLen=2*fieldLen+1;function weierstrass$1(e){const{a:s,b:o}=CURVE,a=mod$1(e*e),c=mod$1(a*e);return mod$1(c+s*e+o)}const USE_ENDOMORPHISM=CURVE.a===_0n$5;class ShaError extends Error{constructor(s){super(s)}}function assertJacPoint(e){if(!(e instanceof JacobianPoint))throw new TypeError("JacobianPoint expected")}class JacobianPoint{constructor(s,o,a){this.x=s,this.y=o,this.z=a}static fromAffine(s){if(!(s instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return s.equals(Point.ZERO)?JacobianPoint.ZERO:new JacobianPoint(s.x,s.y,_1n$6)}static toAffineBatch(s){const o=invertBatch(s.map(a=>a.z));return s.map((a,c)=>a.toAffine(o[c]))}static normalizeZ(s){return JacobianPoint.toAffineBatch(s).map(JacobianPoint.fromAffine)}equals(s){assertJacPoint(s);const{x:o,y:a,z:c}=this,{x:u,y:h,z:p}=s,m=mod$1(c*c),y=mod$1(p*p),v=mod$1(o*y),b=mod$1(u*m),w=mod$1(mod$1(a*p)*y),S=mod$1(mod$1(h*c)*m);return v===b&&w===S}negate(){return new JacobianPoint(this.x,mod$1(-this.y),this.z)}double(){const{x:s,y:o,z:a}=this,c=mod$1(s*s),u=mod$1(o*o),h=mod$1(u*u),p=s+u,m=mod$1(_2n$4*(mod$1(p*p)-c-h)),y=mod$1(_3n$2*c),v=mod$1(y*y),b=mod$1(v-_2n$4*m),w=mod$1(y*(m-b)-_8n$1*h),S=mod$1(_2n$4*o*a);return new JacobianPoint(b,w,S)}add(s){assertJacPoint(s);const{x:o,y:a,z:c}=this,{x:u,y:h,z:p}=s;if(u===_0n$5||h===_0n$5)return this;if(o===_0n$5||a===_0n$5)return s;const m=mod$1(c*c),y=mod$1(p*p),v=mod$1(o*y),b=mod$1(u*m),w=mod$1(mod$1(a*p)*y),S=mod$1(mod$1(h*c)*m),P=mod$1(b-v),R=mod$1(S-w);if(P===_0n$5)return R===_0n$5?this.double():JacobianPoint.ZERO;const T=mod$1(P*P),k=mod$1(P*T),or=mod$1(v*T),dr=mod$1(R*R-k-_2n$4*or),yr=mod$1(R*(or-dr)-w*k),lr=mod$1(c*p*P);return new JacobianPoint(dr,yr,lr)}subtract(s){return this.add(s.negate())}multiplyUnsafe(s){const o=JacobianPoint.ZERO;if(typeof s=="bigint"&&s===_0n$5)return o;let a=normalizeScalar(s);if(a===_1n$6)return this;if(!USE_ENDOMORPHISM){let b=o,w=this;for(;a>_0n$5;)a&_1n$6&&(b=b.add(w)),w=w.double(),a>>=_1n$6;return b}let{k1neg:c,k1:u,k2neg:h,k2:p}=endo.splitScalar(a),m=o,y=o,v=this;for(;u>_0n$5||p>_0n$5;)u&_1n$6&&(m=m.add(v)),p&_1n$6&&(y=y.add(v)),v=v.double(),u>>=_1n$6,p>>=_1n$6;return c&&(m=m.negate()),h&&(y=y.negate()),y=new JacobianPoint(mod$1(y.x*endo.beta),y.y,y.z),m.add(y)}precomputeWindow(s){const o=USE_ENDOMORPHISM?128/s+1:256/s+1,a=[];let c=this,u=c;for(let h=0;h<o;h++){u=c,a.push(u);for(let p=1;p<2**(s-1);p++)u=u.add(c),a.push(u);c=u.double()}return a}wNAF(s,o){!o&&this.equals(JacobianPoint.BASE)&&(o=Point.BASE);const a=o&&o._WINDOW_SIZE||1;if(256%a)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let c=o&&pointPrecomputes.get(o);c||(c=this.precomputeWindow(a),o&&a!==1&&(c=JacobianPoint.normalizeZ(c),pointPrecomputes.set(o,c)));let u=JacobianPoint.ZERO,h=JacobianPoint.BASE;const p=1+(USE_ENDOMORPHISM?128/a:256/a),m=2**(a-1),y=BigInt(2**a-1),v=2**a,b=BigInt(a);for(let w=0;w<p;w++){const S=w*m;let P=Number(s&y);s>>=b,P>m&&(P-=v,s+=_1n$6);const R=S,T=S+Math.abs(P)-1,k=w%2!==0,or=P<0;P===0?h=h.add(constTimeNegate(k,c[R])):u=u.add(constTimeNegate(or,c[T]))}return{p:u,f:h}}multiply(s,o){let a=normalizeScalar(s),c,u;if(USE_ENDOMORPHISM){const{k1neg:h,k1:p,k2neg:m,k2:y}=endo.splitScalar(a);let{p:v,f:b}=this.wNAF(p,o),{p:w,f:S}=this.wNAF(y,o);v=constTimeNegate(h,v),w=constTimeNegate(m,w),w=new JacobianPoint(mod$1(w.x*endo.beta),w.y,w.z),c=v.add(w),u=b.add(S)}else{const{p:h,f:p}=this.wNAF(a,o);c=h,u=p}return JacobianPoint.normalizeZ([c,u])[0]}toAffine(s){const{x:o,y:a,z:c}=this,u=this.equals(JacobianPoint.ZERO);s==null&&(s=u?_8n$1:invert$1(c));const h=s,p=mod$1(h*h),m=mod$1(p*h),y=mod$1(o*p),v=mod$1(a*m),b=mod$1(c*h);if(u)return Point.ZERO;if(b!==_1n$6)throw new Error("invZ was invalid");return new Point(y,v)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n$6);JacobianPoint.ZERO=new JacobianPoint(_0n$5,_1n$6,_0n$5);function constTimeNegate(e,s){const o=s.negate();return e?o:s}const pointPrecomputes=new WeakMap;class Point{constructor(s,o){this.x=s,this.y=o}_setWindowSize(s){this._WINDOW_SIZE=s,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n$4===_0n$5}static fromCompressedHex(s){const o=s.length===32,a=bytesToNumber(o?s:s.subarray(1));if(!isValidFieldElement(a))throw new Error("Point is not on curve");const c=weierstrass$1(a);let u=sqrtMod$1(c);const h=(u&_1n$6)===_1n$6;o?h&&(u=mod$1(-u)):(s[0]&1)===1!==h&&(u=mod$1(-u));const p=new Point(a,u);return p.assertValidity(),p}static fromUncompressedHex(s){const o=bytesToNumber(s.subarray(1,fieldLen+1)),a=bytesToNumber(s.subarray(fieldLen+1,fieldLen*2+1)),c=new Point(o,a);return c.assertValidity(),c}static fromHex(s){const o=ensureBytes$1(s),a=o.length,c=o[0];if(a===fieldLen)return this.fromCompressedHex(o);if(a===compressedLen&&(c===2||c===3))return this.fromCompressedHex(o);if(a===uncompressedLen&&c===4)return this.fromUncompressedHex(o);throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${a}`)}static fromPrivateKey(s){return Point.BASE.multiply(normalizePrivateKey(s))}static fromSignature(s,o,a){const{r:c,s:u}=normalizeSignature(o);if(![0,1,2,3].includes(a))throw new Error("Cannot recover: invalid recovery bit");const h=truncateHash(ensureBytes$1(s)),{n:p}=CURVE,m=a===2||a===3?c+p:c,y=invert$1(m,p),v=mod$1(-h*y,p),b=mod$1(u*y,p),w=a&1?"03":"02",S=Point.fromHex(w+numTo32bStr(m)),P=Point.BASE.multiplyAndAddUnsafe(S,v,b);if(!P)throw new Error("Cannot recover signature: point at infinify");return P.assertValidity(),P}toRawBytes(s=!1){return hexToBytes$2(this.toHex(s))}toHex(s=!1){const o=numTo32bStr(this.x);return s?`${this.hasEvenY()?"02":"03"}${o}`:`04${o}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const s="Point is not on elliptic curve",{x:o,y:a}=this;if(!isValidFieldElement(o)||!isValidFieldElement(a))throw new Error(s);const c=mod$1(a*a),u=weierstrass$1(o);if(mod$1(c-u)!==_0n$5)throw new Error(s)}equals(s){return this.x===s.x&&this.y===s.y}negate(){return new Point(this.x,mod$1(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(s){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(s)).toAffine()}subtract(s){return this.add(s.negate())}multiply(s){return JacobianPoint.fromAffine(this).multiply(s,this).toAffine()}multiplyAndAddUnsafe(s,o,a){const c=JacobianPoint.fromAffine(this),u=o===_0n$5||o===_1n$6||this!==Point.BASE?c.multiplyUnsafe(o):c.multiply(o),h=JacobianPoint.fromAffine(s).multiplyUnsafe(a),p=u.add(h);return p.equals(JacobianPoint.ZERO)?void 0:p.toAffine()}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy);Point.ZERO=new Point(_0n$5,_0n$5);function sliceDER(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function parseDERInt(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${bytesToHex$2(e)}`);const s=e[1],o=e.subarray(2,s+2);if(!s||o.length!==s)throw new Error("Invalid signature integer: wrong length");if(o[0]===0&&o[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(o),left:e.subarray(s+2)}}function parseDERSignature(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${bytesToHex$2(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:s,left:o}=parseDERInt(e.subarray(2)),{data:a,left:c}=parseDERInt(o);if(c.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex$2(c)}`);return{r:s,s:a}}class Signature{constructor(s,o){this.r=s,this.s=o,this.assertValidity()}static fromCompact(s){const o=s instanceof Uint8Array,a="Signature.fromCompact";if(typeof s!="string"&&!o)throw new TypeError(`${a}: Expected string or Uint8Array`);const c=o?bytesToHex$2(s):s;if(c.length!==128)throw new Error(`${a}: Expected 64-byte hex`);return new Signature(hexToNumber$2(c.slice(0,64)),hexToNumber$2(c.slice(64,128)))}static fromDER(s){const o=s instanceof Uint8Array;if(typeof s!="string"&&!o)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:a,s:c}=parseDERSignature(o?s:hexToBytes$2(s));return new Signature(a,c)}static fromHex(s){return this.fromDER(s)}assertValidity(){const{r:s,s:o}=this;if(!isWithinCurveOrder(s))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(o))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const s=CURVE.n>>_1n$6;return this.s>s}normalizeS(){return this.hasHighS()?new Signature(this.r,mod$1(-this.s,CURVE.n)):this}toDERRawBytes(){return hexToBytes$2(this.toDERHex())}toDERHex(){const s=sliceDER(numberToHexUnpadded$1(this.s)),o=sliceDER(numberToHexUnpadded$1(this.r)),a=s.length/2,c=o.length/2,u=numberToHexUnpadded$1(a),h=numberToHexUnpadded$1(c);return`30${numberToHexUnpadded$1(c+a+4)}02${h}${o}02${u}${s}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes$2(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes$3(...e){if(!e.every(a=>a instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const s=e.reduce((a,c)=>a+c.length,0),o=new Uint8Array(s);for(let a=0,c=0;a<e.length;a++){const u=e[a];o.set(u,c),c+=u.length}return o}const hexes$2=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$2(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let s="";for(let o=0;o<e.length;o++)s+=hexes$2[e[o]];return s}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(_0n$5<=e&&e<POW_2_256))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function numTo32b(e){const s=hexToBytes$2(numTo32bStr(e));if(s.length!==32)throw new Error("Error: expected 32 bytes");return s}function numberToHexUnpadded$1(e){const s=e.toString(16);return s.length&1?`0${s}`:s}function hexToNumber$2(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function hexToBytes$2(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const s=new Uint8Array(e.length/2);for(let o=0;o<s.length;o++){const a=o*2,c=e.slice(a,a+2),u=Number.parseInt(c,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");s[o]=u}return s}function bytesToNumber(e){return hexToNumber$2(bytesToHex$2(e))}function ensureBytes$1(e){return e instanceof Uint8Array?Uint8Array.from(e):hexToBytes$2(e)}function normalizeScalar(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&isWithinCurveOrder(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod$1(e,s=CURVE.P){const o=e%s;return o>=_0n$5?o:s+o}function pow2$1(e,s){const{P:o}=CURVE;let a=e;for(;s-- >_0n$5;)a*=a,a%=o;return a}function sqrtMod$1(e){const{P:s}=CURVE,o=BigInt(6),a=BigInt(11),c=BigInt(22),u=BigInt(23),h=BigInt(44),p=BigInt(88),m=e*e*e%s,y=m*m*e%s,v=pow2$1(y,_3n$2)*y%s,b=pow2$1(v,_3n$2)*y%s,w=pow2$1(b,_2n$4)*m%s,S=pow2$1(w,a)*w%s,P=pow2$1(S,c)*S%s,R=pow2$1(P,h)*P%s,T=pow2$1(R,p)*R%s,k=pow2$1(T,h)*P%s,or=pow2$1(k,_3n$2)*y%s,dr=pow2$1(or,u)*S%s,yr=pow2$1(dr,o)*m%s,lr=pow2$1(yr,_2n$4);if(lr*lr%s!==e)throw new Error("Cannot find square root");return lr}function invert$1(e,s=CURVE.P){if(e===_0n$5||s<=_0n$5)throw new Error(`invert: expected positive integers, got n=${e} mod=${s}`);let o=mod$1(e,s),a=s,c=_0n$5,u=_1n$6;for(;o!==_0n$5;){const p=a/o,m=a%o,y=c-u*p;a=o,o=m,c=u,u=y}if(a!==_1n$6)throw new Error("invert: does not exist");return mod$1(c,s)}function invertBatch(e,s=CURVE.P){const o=new Array(e.length),a=e.reduce((u,h,p)=>h===_0n$5?u:(o[p]=u,mod$1(u*h,s)),_1n$6),c=invert$1(a,s);return e.reduceRight((u,h,p)=>h===_0n$5?u:(o[p]=mod$1(u*o[p],s),mod$1(u*h,s)),c),o}function bits2int_2(e){const s=e.length*8-groupLen*8,o=bytesToNumber(e);return s>0?o>>BigInt(s):o}function truncateHash(e,s=!1){const o=bits2int_2(e);if(s)return o;const{n:a}=CURVE;return o>=a?o-a:o}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(s,o){if(this.hashLen=s,this.qByteLen=o,typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof o!="number"||o<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(s).fill(1),this.k=new Uint8Array(s).fill(0),this.counter=0}hmac(...s){return utils$3.hmacSha256(this.k,...s)}hmacSync(...s){return _hmacSha256Sync(this.k,...s)}checkSync(){if(typeof _hmacSha256Sync!="function")throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(s=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),s),this.v=await this.hmac(this.v),s.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),s),this.v=await this.hmac(this.v))}reseedSync(s=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),s),this.v=this.hmacSync(this.v),s.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),s),this.v=this.hmacSync(this.v))}async generate(){this.incr();let s=0;const o=[];for(;s<this.qByteLen;){this.v=await this.hmac(this.v);const a=this.v.slice();o.push(a),s+=this.v.length}return concatBytes$3(...o)}generateSync(){this.checkSync(),this.incr();let s=0;const o=[];for(;s<this.qByteLen;){this.v=this.hmacSync(this.v);const a=this.v.slice();o.push(a),s+=this.v.length}return concatBytes$3(...o)}}function isWithinCurveOrder(e){return _0n$5<e&&e<CURVE.n}function isValidFieldElement(e){return _0n$5<e&&e<CURVE.P}function kmdToSig(e,s,o,a=!0){const{n:c}=CURVE,u=truncateHash(e,!0);if(!isWithinCurveOrder(u))return;const h=invert$1(u,c),p=Point.BASE.multiply(u),m=mod$1(p.x,c);if(m===_0n$5)return;const y=mod$1(h*mod$1(s+o*m,c),c);if(y===_0n$5)return;let v=new Signature(m,y),b=(p.x===v.r?0:2)|Number(p.y&_1n$6);return a&&v.hasHighS()&&(v=v.normalizeS(),b^=1),{sig:v,recovery:b}}function normalizePrivateKey(e){let s;if(typeof e=="bigint")s=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)s=BigInt(e);else if(typeof e=="string"){if(e.length!==2*groupLen)throw new Error("Expected 32 bytes of private key");s=hexToNumber$2(e)}else if(e instanceof Uint8Array){if(e.length!==groupLen)throw new Error("Expected 32 bytes of private key");s=bytesToNumber(e)}else throw new TypeError("Expected valid private key");if(!isWithinCurveOrder(s))throw new Error("Expected private key: 0 < key < n");return s}function normalizePublicKey(e){return e instanceof Point?(e.assertValidity(),e):Point.fromHex(e)}function normalizeSignature(e){if(e instanceof Signature)return e.assertValidity(),e;try{return Signature.fromDER(e)}catch{return Signature.fromCompact(e)}}function getPublicKey(e,s=!1){return Point.fromPrivateKey(e).toRawBytes(s)}function recoverPublicKey$1(e,s,o,a=!1){return Point.fromSignature(e,s,o).toRawBytes(a)}function isProbPub(e){const s=e instanceof Uint8Array,o=typeof e=="string",a=(s||o)&&e.length;return s?a===compressedLen||a===uncompressedLen:o?a===compressedLen*2||a===uncompressedLen*2:e instanceof Point}function getSharedSecret(e,s,o=!1){if(isProbPub(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!isProbPub(s))throw new TypeError("getSharedSecret: second arg must be public key");const a=normalizePublicKey(s);return a.assertValidity(),a.multiply(normalizePrivateKey(e)).toRawBytes(o)}function bits2int(e){const s=e.length>fieldLen?e.slice(0,fieldLen):e;return bytesToNumber(s)}function bits2octets(e){const s=bits2int(e),o=mod$1(s,CURVE.n);return int2octets(o<_0n$5?s:o)}function int2octets(e){return numTo32b(e)}function initSigArgs(e,s,o){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);const a=ensureBytes$1(e),c=normalizePrivateKey(s),u=[int2octets(c),bits2octets(a)];if(o!=null){o===!0&&(o=utils$3.randomBytes(fieldLen));const m=ensureBytes$1(o);if(m.length!==fieldLen)throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);u.push(m)}const h=concatBytes$3(...u),p=bits2int(a);return{seed:h,m:p,d:c}}function finalizeSig(e,s){const{sig:o,recovery:a}=e,{der:c,recovered:u}=Object.assign({canonical:!0,der:!0},s),h=c?o.toDERRawBytes():o.toCompactRawBytes();return u?[h,a]:h}async function sign(e,s,o={}){const{seed:a,m:c,d:u}=initSigArgs(e,s,o.extraEntropy),h=new HmacDrbg(hashLen,groupLen);await h.reseed(a);let p;for(;!(p=kmdToSig(await h.generate(),c,u,o.canonical));)await h.reseed();return finalizeSig(p,o)}const vopts={strict:!0};function verify(e,s,o,a=vopts){let c;try{c=normalizeSignature(e),s=ensureBytes$1(s)}catch{return!1}const{r:u,s:h}=c;if(a.strict&&c.hasHighS())return!1;const p=truncateHash(s);let m;try{m=normalizePublicKey(o)}catch{return!1}const{n:y}=CURVE,v=invert$1(h,y),b=mod$1(p*v,y),w=mod$1(u*v,y),S=Point.BASE.multiplyAndAddUnsafe(m,b,w);return S?mod$1(S.x,y)===u:!1}Point.BASE._setWindowSize(8);const crypto$1={node:__viteBrowserExternal$1,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils$3={bytesToHex:bytesToHex$2,hexToBytes:hexToBytes$2,concatBytes:concatBytes$3,mod:mod$1,invert:invert$1,isValidPrivateKey(e){try{return normalizePrivateKey(e),!0}catch{return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:e=>{e=ensureBytes$1(e);const s=groupLen+8;if(e.length<s||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const o=mod$1(bytesToNumber(e),CURVE.n-_1n$6)+_1n$6;return numTo32b(o)},randomBytes:(e=32)=>{if(crypto$1.web)return crypto$1.web.getRandomValues(new Uint8Array(e));if(crypto$1.node){const{randomBytes:s}=crypto$1.node;return Uint8Array.from(s(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$3.hashToPrivateKey(utils$3.randomBytes(groupLen+8)),precompute(e=8,s=Point.BASE){const o=s===Point.BASE?s:new Point(s.x,s.y);return o._setWindowSize(e),o.multiply(_3n$2),o},sha256:async(...e)=>{if(crypto$1.web){const s=await crypto$1.web.subtle.digest("SHA-256",concatBytes$3(...e));return new Uint8Array(s)}else if(crypto$1.node){const{createHash:s}=crypto$1.node,o=s("sha256");return e.forEach(a=>o.update(a)),Uint8Array.from(o.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...s)=>{if(crypto$1.web){const o=await crypto$1.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),a=concatBytes$3(...s),c=await crypto$1.web.subtle.sign("HMAC",o,a);return new Uint8Array(c)}else if(crypto$1.node){const{createHmac:o}=crypto$1.node,a=o("sha256",e);return s.forEach(c=>a.update(c)),Uint8Array.from(a.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...s)=>{let o=TAGGED_HASH_PREFIXES[e];if(o===void 0){const a=await utils$3.sha256(Uint8Array.from(e,c=>c.charCodeAt(0)));o=concatBytes$3(a,a),TAGGED_HASH_PREFIXES[e]=o}return utils$3.sha256(o,...s)},taggedHashSync:(e,...s)=>{if(typeof _sha256Sync!="function")throw new ShaError("sha256Sync is undefined, you need to set it");let o=TAGGED_HASH_PREFIXES[e];if(o===void 0){const a=_sha256Sync(Uint8Array.from(e,c=>c.charCodeAt(0)));o=concatBytes$3(a,a),TAGGED_HASH_PREFIXES[e]=o}return _sha256Sync(o,...s)},_JacobianPoint:JacobianPoint};Object.defineProperties(utils$3,{sha256Sync:{configurable:!1,get(){return _sha256Sync},set(e){_sha256Sync||(_sha256Sync=e)}},hmacSha256Sync:{configurable:!1,get(){return _hmacSha256Sync},set(e){_hmacSha256Sync||(_hmacSha256Sync=e)}}});function isHex(e,{strict:s=!0}={}){return!e||typeof e!="string"?!1:s?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function size$3(e){return isHex(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const version$1="2.7.15",getVersion=()=>`viem@${version$1}`;class BaseError extends Error{constructor(s,o={}){var u;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const a=o.cause instanceof BaseError?o.cause.details:(u=o.cause)!=null&&u.message?o.cause.message:o.details,c=o.cause instanceof BaseError&&o.cause.docsPath||o.docsPath;this.message=[s||"An error occurred.","",...o.metaMessages?[...o.metaMessages,""]:[],...c?[`Docs: https://viem.sh${c}${o.docsSlug?`#${o.docsSlug}`:""}`]:[],...a?[`Details: ${a}`]:[],`Version: ${this.version}`].join(`
`),o.cause&&(this.cause=o.cause),this.details=a,this.docsPath=c,this.metaMessages=o.metaMessages,this.shortMessage=s}walk(s){return walk(this,s)}}function walk(e,s){return s!=null&&s(e)?e:e&&typeof e=="object"&&"cause"in e?walk(e.cause,s):s?null:e}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${s}) exceeds padding size (${o}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(e,{dir:s,size:o=32}={}){return typeof e=="string"?padHex(e,{dir:s,size:o}):padBytes(e,{dir:s,size:o})}function padHex(e,{dir:s,size:o=32}={}){if(o===null)return e;const a=e.replace("0x","");if(a.length>o*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(a.length/2),targetSize:o,type:"hex"});return`0x${a[s==="right"?"padEnd":"padStart"](o*2,"0")}`}function padBytes(e,{dir:s,size:o=32}={}){if(o===null)return e;if(e.length>o)throw new SizeExceedsPaddingSizeError({size:e.length,targetSize:o,type:"bytes"});const a=new Uint8Array(o);for(let c=0;c<o;c++){const u=s==="right";a[u?c:o-c-1]=e[u?c:e.length-c-1]}return a}class IntegerOutOfRangeError extends BaseError{constructor({max:s,min:o,signed:a,size:c,value:u}){super(`Number "${u}" is not in safe ${c?`${c*8}-bit ${a?"signed":"unsigned"} `:""}integer range ${s?`(${o} to ${s})`:`(above ${o})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:s,maxSize:o}){super(`Size cannot exceed ${o} bytes. Given size: ${s} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function assertSize(e,{size:s}){if(size$3(e)>s)throw new SizeOverflowError({givenSize:size$3(e),maxSize:s})}function hexToBigInt(e,s={}){const{signed:o}=s;s.size&&assertSize(e,{size:s.size});const a=BigInt(e);if(!o)return a;const c=(e.length-2)/2,u=(1n<<BigInt(c)*8n-1n)-1n;return a<=u?a:a-BigInt(`0x${"f".padStart(c*2,"f")}`)-1n}function hexToNumber$1(e,s={}){return Number(hexToBigInt(e,s))}const hexes$1=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function toHex(e,s={}){return typeof e=="number"||typeof e=="bigint"?numberToHex(e,s):typeof e=="string"?stringToHex(e,s):typeof e=="boolean"?boolToHex(e,s):bytesToHex$1(e,s)}function boolToHex(e,s={}){const o=`0x${Number(e)}`;return typeof s.size=="number"?(assertSize(o,{size:s.size}),pad(o,{size:s.size})):o}function bytesToHex$1(e,s={}){let o="";for(let c=0;c<e.length;c++)o+=hexes$1[e[c]];const a=`0x${o}`;return typeof s.size=="number"?(assertSize(a,{size:s.size}),pad(a,{dir:"right",size:s.size})):a}function numberToHex(e,s={}){const{signed:o,size:a}=s,c=BigInt(e);let u;a?o?u=(1n<<BigInt(a)*8n-1n)-1n:u=2n**(BigInt(a)*8n)-1n:typeof e=="number"&&(u=BigInt(Number.MAX_SAFE_INTEGER));const h=typeof u=="bigint"&&o?-u-1n:0;if(u&&c>u||c<h){const m=typeof e=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:u?`${u}${m}`:void 0,min:`${h}${m}`,signed:o,size:a,value:`${e}${m}`})}const p=`0x${(o&&c<0?(1n<<BigInt(a*8))+BigInt(c):c).toString(16)}`;return a?pad(p,{size:a}):p}const encoder$1=new TextEncoder;function stringToHex(e,s={}){const o=encoder$1.encode(e);return bytesToHex$1(o,s)}const encoder=new TextEncoder;function toBytes$1(e,s={}){return typeof e=="number"||typeof e=="bigint"?numberToBytes(e,s):typeof e=="boolean"?boolToBytes(e,s):isHex(e)?hexToBytes$1(e,s):stringToBytes(e,s)}function boolToBytes(e,s={}){const o=new Uint8Array(1);return o[0]=Number(e),typeof s.size=="number"?(assertSize(o,{size:s.size}),pad(o,{size:s.size})):o}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(e){if(e>=charCodeMap.zero&&e<=charCodeMap.nine)return e-charCodeMap.zero;if(e>=charCodeMap.A&&e<=charCodeMap.F)return e-(charCodeMap.A-10);if(e>=charCodeMap.a&&e<=charCodeMap.f)return e-(charCodeMap.a-10)}function hexToBytes$1(e,s={}){let o=e;s.size&&(assertSize(o,{size:s.size}),o=pad(o,{dir:"right",size:s.size}));let a=o.slice(2);a.length%2&&(a=`0${a}`);const c=a.length/2,u=new Uint8Array(c);for(let h=0,p=0;h<c;h++){const m=charCodeToBase16(a.charCodeAt(p++)),y=charCodeToBase16(a.charCodeAt(p++));if(m===void 0||y===void 0)throw new BaseError(`Invalid byte sequence ("${a[p-2]}${a[p-1]}" in "${a}").`);u[h]=m*16+y}return u}function numberToBytes(e,s){const o=numberToHex(e,s);return hexToBytes$1(o)}function stringToBytes(e,s={}){const o=encoder.encode(e);return typeof s.size=="number"?(assertSize(o,{size:s.size}),pad(o,{dir:"right",size:s.size})):o}function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bytes(e,...s){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(e.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${e.length}`)}function hash$1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,s){bytes(e);const o=s.outputLen;if(e.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(e,s=!1){return s?{h:Number(e&U32_MASK64),l:Number(e>>_32n&U32_MASK64)}:{h:Number(e>>_32n&U32_MASK64)|0,l:Number(e&U32_MASK64)|0}}function split(e,s=!1){let o=new Uint32Array(e.length),a=new Uint32Array(e.length);for(let c=0;c<e.length;c++){const{h:u,l:h}=fromBig(e[c],s);[o[c],a[c]]=[u,h]}return[o,a]}const rotlSH=(e,s,o)=>e<<o|s>>>32-o,rotlSL=(e,s,o)=>s<<o|e>>>32-o,rotlBH=(e,s,o)=>s<<o-32|e>>>64-o,rotlBL=(e,s,o)=>e<<o-32|s>>>64-o,crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=e=>e instanceof Uint8Array,u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,s)=>e<<32-s|e>>>s,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes(e){if(typeof e=="string"&&(e=utf8ToBytes$1(e)),!u8a$1(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function concatBytes$2(...e){const s=new Uint8Array(e.reduce((a,c)=>a+c.length,0));let o=0;return e.forEach(a=>{if(!u8a$1(a))throw new Error("Uint8Array expected");s.set(a,o),o+=a.length}),s}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(e){const s=a=>e().update(toBytes(a)).digest(),o=e();return s.outputLen=o.outputLen,s.blockLen=o.blockLen,s.create=()=>e(),s}function randomBytes(e=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let e=0,s=_1n$5,o=1,a=0;e<24;e++){[o,a]=[a,(2*o+3*a)%5],SHA3_PI.push(2*(5*a+o)),SHA3_ROTL.push((e+1)*(e+2)/2%64);let c=_0n$4;for(let u=0;u<7;u++)s=(s<<_1n$5^(s>>_7n)*_0x71n)%_256n,s&_2n$3&&(c^=_1n$5<<(_1n$5<<BigInt(u))-_1n$5);_SHA3_IOTA.push(c)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(e,s,o)=>o>32?rotlBH(e,s,o):rotlSH(e,s,o),rotlL=(e,s,o)=>o>32?rotlBL(e,s,o):rotlSL(e,s,o);function keccakP(e,s=24){const o=new Uint32Array(10);for(let a=24-s;a<24;a++){for(let h=0;h<10;h++)o[h]=e[h]^e[h+10]^e[h+20]^e[h+30]^e[h+40];for(let h=0;h<10;h+=2){const p=(h+8)%10,m=(h+2)%10,y=o[m],v=o[m+1],b=rotlH(y,v,1)^o[p],w=rotlL(y,v,1)^o[p+1];for(let S=0;S<50;S+=10)e[h+S]^=b,e[h+S+1]^=w}let c=e[2],u=e[3];for(let h=0;h<24;h++){const p=SHA3_ROTL[h],m=rotlH(c,u,p),y=rotlL(c,u,p),v=SHA3_PI[h];c=e[v],u=e[v+1],e[v]=m,e[v+1]=y}for(let h=0;h<50;h+=10){for(let p=0;p<10;p++)o[p]=e[h+p];for(let p=0;p<10;p++)e[h+p]^=~o[(p+2)%10]&o[(p+4)%10]}e[0]^=SHA3_IOTA_H[a],e[1]^=SHA3_IOTA_L[a]}o.fill(0)}class Keccak extends Hash{constructor(s,o,a,c=!1,u=24){if(super(),this.blockLen=s,this.suffix=o,this.outputLen=a,this.enableXOF=c,this.rounds=u,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(s){exists(this);const{blockLen:o,state:a}=this;s=toBytes(s);const c=s.length;for(let u=0;u<c;){const h=Math.min(o-this.pos,c-u);for(let p=0;p<h;p++)a[this.pos++]^=s[u++];this.pos===o&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:s,suffix:o,pos:a,blockLen:c}=this;s[a]^=o,(o&128)!==0&&a===c-1&&this.keccak(),s[c-1]^=128,this.keccak()}writeInto(s){exists(this,!1),bytes(s),this.finish();const o=this.state,{blockLen:a}=this;for(let c=0,u=s.length;c<u;){this.posOut>=a&&this.keccak();const h=Math.min(a-this.posOut,u-c);s.set(o.subarray(this.posOut,this.posOut+h),c),this.posOut+=h,c+=h}return s}xofInto(s){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(s)}xof(s){return number(s),this.xofInto(new Uint8Array(s))}digestInto(s){if(output(s,this),this.finished)throw new Error("digest() was already called");return this.writeInto(s),this.destroy(),s}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(s){const{blockLen:o,suffix:a,outputLen:c,rounds:u,enableXOF:h}=this;return s||(s=new Keccak(o,a,c,h,u)),s.state32.set(this.state32),s.pos=this.pos,s.posOut=this.posOut,s.finished=this.finished,s.rounds=u,s.suffix=a,s.outputLen=c,s.enableXOF=h,s.destroyed=this.destroyed,s}}const gen=(e,s,o)=>wrapConstructor(()=>new Keccak(s,e,o)),keccak_256=gen(1,136,256/8);function keccak256(e,s){const o=s||"hex",a=keccak_256(isHex(e,{strict:!1})?toBytes$1(e):e);return o==="bytes"?a:toHex(a)}class InvalidAddressError extends BaseError{constructor({address:s}){super(`Address "${s}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class LruMap extends Map{constructor(s){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=s}set(s,o){return super.set(s,o),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function checksumAddress(e,s){const o=e.substring(2).toLowerCase(),a=keccak256(stringToBytes(o),"bytes"),c=o.split("");for(let u=0;u<40;u+=2)a[u>>1]>>4>=8&&c[u]&&(c[u]=c[u].toUpperCase()),(a[u>>1]&15)>=8&&c[u+1]&&(c[u+1]=c[u+1].toUpperCase());return`0x${c.join("")}`}function getAddress(e,s){if(!isAddress(e))throw new InvalidAddressError({address:e});return checksumAddress(e)}const addressRegex=/^0x[a-fA-F0-9]{40}$/,isAddressCache=new LruMap(8192);function isAddress(e,{strict:s=!0}={}){if(isAddressCache.has(e))return isAddressCache.get(e);const o=addressRegex.test(e)?e.toLowerCase()===e?!0:s?checksumAddress(e)===e:!0:!1;return isAddressCache.set(e,o),o}function concat(e){return typeof e[0]=="string"?concatHex(e):concatBytes$1(e)}function concatBytes$1(e){let s=0;for(const c of e)s+=c.length;const o=new Uint8Array(s);let a=0;for(const c of e)o.set(c,a),a+=c.length;return o}function concatHex(e){return`0x${e.reduce((s,o)=>s+o.replace("0x",""),"")}`}function publicKeyToAddress(e){const s=keccak256(`0x${e.substring(4)}`).substring(26);return checksumAddress(`0x${s}`)}function isAddressEqual(e,s){if(!isAddress(e,{strict:!1}))throw new InvalidAddressError({address:e});if(!isAddress(s,{strict:!1}))throw new InvalidAddressError({address:s});return e.toLowerCase()===s.toLowerCase()}function setBigUint64(e,s,o,a){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,o,a);const c=BigInt(32),u=BigInt(4294967295),h=Number(o>>c&u),p=Number(o&u),m=a?4:0,y=a?0:4;e.setUint32(s+m,h,a),e.setUint32(s+y,p,a)}class SHA2 extends Hash{constructor(s,o,a,c){super(),this.blockLen=s,this.outputLen=o,this.padOffset=a,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){exists(this);const{view:o,buffer:a,blockLen:c}=this;s=toBytes(s);const u=s.length;for(let h=0;h<u;){const p=Math.min(c-this.pos,u-h);if(p===c){const m=createView(s);for(;c<=u-h;h+=c)this.process(m,h);continue}a.set(s.subarray(h,h+p),this.pos),this.pos+=p,h+=p,this.pos===c&&(this.process(o,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){exists(this),output(s,this),this.finished=!0;const{buffer:o,view:a,blockLen:c,isLE:u}=this;let{pos:h}=this;o[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>c-h&&(this.process(a,0),h=0);for(let b=h;b<c;b++)o[b]=0;setBigUint64(a,c-8,BigInt(this.length*8),u),this.process(a,0);const p=createView(s),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=m/4,v=this.get();if(y>v.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<y;b++)p.setUint32(4*b,v[b],u)}digest(){const{buffer:s,outputLen:o}=this;this.digestInto(s);const a=s.slice(0,o);return this.destroy(),a}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:o,buffer:a,length:c,finished:u,destroyed:h,pos:p}=this;return s.length=c,s.pos=p,s.finished=u,s.destroyed=h,c%o&&s.buffer.set(a),s}}const Chi=(e,s,o)=>e&s^~e&o,Maj=(e,s,o)=>e&s^e&o^s&o,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:s,B:o,C:a,D:c,E:u,F:h,G:p,H:m}=this;return[s,o,a,c,u,h,p,m]}set(s,o,a,c,u,h,p,m){this.A=s|0,this.B=o|0,this.C=a|0,this.D=c|0,this.E=u|0,this.F=h|0,this.G=p|0,this.H=m|0}process(s,o){for(let b=0;b<16;b++,o+=4)SHA256_W[b]=s.getUint32(o,!1);for(let b=16;b<64;b++){const w=SHA256_W[b-15],S=SHA256_W[b-2],P=rotr(w,7)^rotr(w,18)^w>>>3,R=rotr(S,17)^rotr(S,19)^S>>>10;SHA256_W[b]=R+SHA256_W[b-7]+P+SHA256_W[b-16]|0}let{A:a,B:c,C:u,D:h,E:p,F:m,G:y,H:v}=this;for(let b=0;b<64;b++){const w=rotr(p,6)^rotr(p,11)^rotr(p,25),S=v+w+Chi(p,m,y)+SHA256_K[b]+SHA256_W[b]|0,R=(rotr(a,2)^rotr(a,13)^rotr(a,22))+Maj(a,c,u)|0;v=y,y=m,m=p,p=h+S|0,h=u,u=c,c=a,a=S+R|0}a=a+this.A|0,c=c+this.B|0,u=u+this.C|0,h=h+this.D|0,p=p+this.E|0,m=m+this.F|0,y=y+this.G|0,v=v+this.H|0,this.set(a,c,u,h,p,m,y,v)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256);async function recoverPublicKey({hash:e,signature:s}){const o=isHex(s)?s:toHex(s),a=isHex(e)?e:toHex(e);let c=hexToNumber$1(`0x${o.slice(130)}`);(c===0||c===1)&&(c+=27);const{secp256k1:u}=await __vitePreload(async()=>{const{secp256k1:p}=await Promise.resolve().then(()=>secp256k1$2);return{secp256k1:p}},void 0);return`0x${u.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c-27).recoverPublicKey(a.substring(2)).toHex(!1)}`}async function recoverAddress({hash:e,signature:s}){return publicKeyToAddress(await recoverPublicKey({hash:e,signature:s}))}const presignMessagePrefix=`Ethereum Signed Message:
`;function hashMessage(e,s){const o=typeof e=="string"?stringToBytes(e):e.raw instanceof Uint8Array?e.raw:toBytes$1(e.raw),a=stringToBytes(`${presignMessagePrefix}${o.length}`);return keccak256(concat([a,o]),s)}async function recoverMessageAddress({message:e,signature:s}){return recoverAddress({hash:hashMessage(e),signature:s})}async function verifyMessage({address:e,message:s,signature:o}){return isAddressEqual(getAddress(e),await recoverMessageAddress({message:s,signature:o}))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a=e=>e instanceof Uint8Array,hexes=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex(e){if(!u8a(e))throw new Error("Uint8Array expected");let s="";for(let o=0;o<e.length;o++)s+=hexes[e[o]];return s}function numberToHexUnpadded(e){const s=e.toString(16);return s.length&1?`0${s}`:s}function hexToNumber(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function hexToBytes(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const o=new Uint8Array(s/2);for(let a=0;a<o.length;a++){const c=a*2,u=e.slice(c,c+2),h=Number.parseInt(u,16);if(Number.isNaN(h)||h<0)throw new Error("Invalid byte sequence");o[a]=h}return o}function bytesToNumberBE(e){return hexToNumber(bytesToHex(e))}function bytesToNumberLE(e){if(!u8a(e))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(e).reverse()))}function numberToBytesBE(e,s){return hexToBytes(e.toString(16).padStart(s*2,"0"))}function numberToBytesLE(e,s){return numberToBytesBE(e,s).reverse()}function numberToVarBytesBE(e){return hexToBytes(numberToHexUnpadded(e))}function ensureBytes(e,s,o){let a;if(typeof s=="string")try{a=hexToBytes(s)}catch(u){throw new Error(`${e} must be valid hex string, got "${s}". Cause: ${u}`)}else if(u8a(s))a=Uint8Array.from(s);else throw new Error(`${e} must be hex string or Uint8Array`);const c=a.length;if(typeof o=="number"&&c!==o)throw new Error(`${e} expected ${o} bytes, got ${c}`);return a}function concatBytes(...e){const s=new Uint8Array(e.reduce((a,c)=>a+c.length,0));let o=0;return e.forEach(a=>{if(!u8a(a))throw new Error("Uint8Array expected");s.set(a,o),o+=a.length}),s}function equalBytes(e,s){if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==s[o])return!1;return!0}function utf8ToBytes(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function bitLen(e){let s;for(s=0;e>_0n$3;e>>=_1n$4,s+=1);return s}function bitGet(e,s){return e>>BigInt(s)&_1n$4}const bitSet=(e,s,o)=>e|(o?_1n$4:_0n$3)<<BigInt(s),bitMask=e=>(_2n$2<<BigInt(e-1))-_1n$4,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,s,o){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof o!="function")throw new Error("hmacFn must be a function");let a=u8n(e),c=u8n(e),u=0;const h=()=>{a.fill(1),c.fill(0),u=0},p=(...b)=>o(c,a,...b),m=(b=u8n())=>{c=p(u8fr([0]),b),a=p(),b.length!==0&&(c=p(u8fr([1]),b),a=p())},y=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const w=[];for(;b<s;){a=p();const S=a.slice();w.push(S),b+=a.length}return concatBytes(...w)};return(b,w)=>{h(),m(b);let S;for(;!(S=w(y()));)m();return h(),S}}const validatorFns={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,s)=>s.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject(e,s,o={}){const a=(c,u,h)=>{const p=validatorFns[u];if(typeof p!="function")throw new Error(`Invalid validator "${u}", expected function`);const m=e[c];if(!(h&&m===void 0)&&!p(m,e))throw new Error(`Invalid param ${String(c)}=${m} (${typeof m}), expected ${u}`)};for(const[c,u]of Object.entries(s))a(c,u,!1);for(const[c,u]of Object.entries(o))a(c,u,!0);return e}const ut$1=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(e,s){const o=e%s;return o>=_0n$2?o:s+o}function pow(e,s,o){if(o<=_0n$2||s<_0n$2)throw new Error("Expected power/modulo > 0");if(o===_1n$3)return _0n$2;let a=_1n$3;for(;s>_0n$2;)s&_1n$3&&(a=a*e%o),e=e*e%o,s>>=_1n$3;return a}function pow2(e,s,o){let a=e;for(;s-- >_0n$2;)a*=a,a%=o;return a}function invert(e,s){if(e===_0n$2||s<=_0n$2)throw new Error(`invert: expected positive integers, got n=${e} mod=${s}`);let o=mod(e,s),a=s,c=_0n$2,u=_1n$3;for(;o!==_0n$2;){const p=a/o,m=a%o,y=c-u*p;a=o,o=m,c=u,u=y}if(a!==_1n$3)throw new Error("invert: does not exist");return mod(c,s)}function tonelliShanks(e){const s=(e-_1n$3)/_2n$1;let o,a,c;for(o=e-_1n$3,a=0;o%_2n$1===_0n$2;o/=_2n$1,a++);for(c=_2n$1;c<e&&pow(c,s,e)!==e-_1n$3;c++);if(a===1){const h=(e+_1n$3)/_4n;return function(m,y){const v=m.pow(y,h);if(!m.eql(m.sqr(v),y))throw new Error("Cannot find square root");return v}}const u=(o+_1n$3)/_2n$1;return function(p,m){if(p.pow(m,s)===p.neg(p.ONE))throw new Error("Cannot find square root");let y=a,v=p.pow(p.mul(p.ONE,c),o),b=p.pow(m,u),w=p.pow(m,o);for(;!p.eql(w,p.ONE);){if(p.eql(w,p.ZERO))return p.ZERO;let S=1;for(let R=p.sqr(w);S<y&&!p.eql(R,p.ONE);S++)R=p.sqr(R);const P=p.pow(v,_1n$3<<BigInt(y-S-1));v=p.sqr(P),b=p.mul(b,P),w=p.mul(w,v),y=S}return b}}function FpSqrt(e){if(e%_4n===_3n$1){const s=(e+_1n$3)/_4n;return function(a,c){const u=a.pow(c,s);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}if(e%_8n===_5n){const s=(e-_5n)/_8n;return function(a,c){const u=a.mul(c,_2n$1),h=a.pow(u,s),p=a.mul(c,h),m=a.mul(a.mul(p,_2n$1),h),y=a.mul(p,a.sub(m,a.ONE));if(!a.eql(a.sqr(y),c))throw new Error("Cannot find square root");return y}}return tonelliShanks(e)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},o=FIELD_FIELDS.reduce((a,c)=>(a[c]="function",a),s);return validateObject(e,o)}function FpPow(e,s,o){if(o<_0n$2)throw new Error("Expected power > 0");if(o===_0n$2)return e.ONE;if(o===_1n$3)return s;let a=e.ONE,c=s;for(;o>_0n$2;)o&_1n$3&&(a=e.mul(a,c)),c=e.sqr(c),o>>=_1n$3;return a}function FpInvertBatch(e,s){const o=new Array(s.length),a=s.reduce((u,h,p)=>e.is0(h)?u:(o[p]=u,e.mul(u,h)),e.ONE),c=e.inv(a);return s.reduceRight((u,h,p)=>e.is0(h)?u:(o[p]=e.mul(u,o[p]),e.mul(u,h)),c),o}function nLength(e,s){const o=s!==void 0?s:e.toString(2).length,a=Math.ceil(o/8);return{nBitLength:o,nByteLength:a}}function Field(e,s,o=!1,a={}){if(e<=_0n$2)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:c,nByteLength:u}=nLength(e,s);if(u>2048)throw new Error("Field lengths over 2048 bytes are not supported");const h=FpSqrt(e),p=Object.freeze({ORDER:e,BITS:c,BYTES:u,MASK:bitMask(c),ZERO:_0n$2,ONE:_1n$3,create:m=>mod(m,e),isValid:m=>{if(typeof m!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof m}`);return _0n$2<=m&&m<e},is0:m=>m===_0n$2,isOdd:m=>(m&_1n$3)===_1n$3,neg:m=>mod(-m,e),eql:(m,y)=>m===y,sqr:m=>mod(m*m,e),add:(m,y)=>mod(m+y,e),sub:(m,y)=>mod(m-y,e),mul:(m,y)=>mod(m*y,e),pow:(m,y)=>FpPow(p,m,y),div:(m,y)=>mod(m*invert(y,e),e),sqrN:m=>m*m,addN:(m,y)=>m+y,subN:(m,y)=>m-y,mulN:(m,y)=>m*y,inv:m=>invert(m,e),sqrt:a.sqrt||(m=>h(p,m)),invertBatch:m=>FpInvertBatch(p,m),cmov:(m,y,v)=>v?y:m,toBytes:m=>o?numberToBytesLE(m,u):numberToBytesBE(m,u),fromBytes:m=>{if(m.length!==u)throw new Error(`Fp.fromBytes: expected ${u}, got ${m.length}`);return o?bytesToNumberLE(m):bytesToNumberBE(m)}});return Object.freeze(p)}function getFieldBytesLength(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const s=e.toString(2).length;return Math.ceil(s/8)}function getMinHashLength(e){const s=getFieldBytesLength(e);return s+Math.ceil(s/2)}function mapHashToField(e,s,o=!1){const a=e.length,c=getFieldBytesLength(s),u=getMinHashLength(s);if(a<16||a<u||a>1024)throw new Error(`expected ${u}-1024 bytes of input, got ${a}`);const h=o?bytesToNumberBE(e):bytesToNumberLE(e),p=mod(h,s-_1n$3)+_1n$3;return o?numberToBytesLE(p,c):numberToBytesBE(p,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(e,s){const o=(c,u)=>{const h=u.negate();return c?h:u},a=c=>{const u=Math.ceil(s/c)+1,h=2**(c-1);return{windows:u,windowSize:h}};return{constTimeNegate:o,unsafeLadder(c,u){let h=e.ZERO,p=c;for(;u>_0n$1;)u&_1n$2&&(h=h.add(p)),p=p.double(),u>>=_1n$2;return h},precomputeWindow(c,u){const{windows:h,windowSize:p}=a(u),m=[];let y=c,v=y;for(let b=0;b<h;b++){v=y,m.push(v);for(let w=1;w<p;w++)v=v.add(y),m.push(v);y=v.double()}return m},wNAF(c,u,h){const{windows:p,windowSize:m}=a(c);let y=e.ZERO,v=e.BASE;const b=BigInt(2**c-1),w=2**c,S=BigInt(c);for(let P=0;P<p;P++){const R=P*m;let T=Number(h&b);h>>=S,T>m&&(T-=w,h+=_1n$2);const k=R,or=R+Math.abs(T)-1,dr=P%2!==0,yr=T<0;T===0?v=v.add(o(dr,u[k])):y=y.add(o(yr,u[or]))}return{p:y,f:v}},wNAFCached(c,u,h,p){const m=c._WINDOW_SIZE||1;let y=u.get(c);return y||(y=this.precomputeWindow(c,m),m!==1&&u.set(c,p(y))),this.wNAF(m,y,h)}}}function validateBasic(e){return validateField(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(e){const s=validateBasic(e);validateObject(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:o,Fp:a,a:c}=s;if(o){if(!a.eql(c,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof o!="object"||typeof o.beta!="bigint"||typeof o.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(e){const{Err:s}=DER;if(e.length<2||e[0]!==2)throw new s("Invalid signature integer tag");const o=e[1],a=e.subarray(2,o+2);if(!o||a.length!==o)throw new s("Invalid signature integer: wrong length");if(a[0]&128)throw new s("Invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:b2n(a),l:e.subarray(o+2)}},toSig(e){const{Err:s}=DER,o=typeof e=="string"?h2b(e):e;if(!(o instanceof Uint8Array))throw new Error("ui8a expected");let a=o.length;if(a<2||o[0]!=48)throw new s("Invalid signature tag");if(o[1]!==a-2)throw new s("Invalid signature: incorrect length");const{d:c,l:u}=DER._parseInt(o.subarray(2)),{d:h,l:p}=DER._parseInt(u);if(p.length)throw new s("Invalid signature: left bytes after parsing");return{r:c,s:h}},hexFromSig(e){const s=y=>Number.parseInt(y[0],16)&8?"00"+y:y,o=y=>{const v=y.toString(16);return v.length&1?`0${v}`:v},a=s(o(e.s)),c=s(o(e.r)),u=a.length/2,h=c.length/2,p=o(u),m=o(h);return`30${o(h+u+4)}02${m}${c}02${p}${a}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(e){const s=validatePointOpts(e),{Fp:o}=s,a=s.toBytes||((P,R,T)=>{const k=R.toAffine();return concatBytes(Uint8Array.from([4]),o.toBytes(k.x),o.toBytes(k.y))}),c=s.fromBytes||(P=>{const R=P.subarray(1),T=o.fromBytes(R.subarray(0,o.BYTES)),k=o.fromBytes(R.subarray(o.BYTES,2*o.BYTES));return{x:T,y:k}});function u(P){const{a:R,b:T}=s,k=o.sqr(P),or=o.mul(k,P);return o.add(o.add(or,o.mul(P,R)),T)}if(!o.eql(o.sqr(s.Gy),u(s.Gx)))throw new Error("bad generator point: equation left != right");function h(P){return typeof P=="bigint"&&_0n<P&&P<s.n}function p(P){if(!h(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(P){const{allowedPrivateKeyLengths:R,nByteLength:T,wrapPrivateKey:k,n:or}=s;if(R&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=bytesToHex(P)),typeof P!="string"||!R.includes(P.length))throw new Error("Invalid key");P=P.padStart(T*2,"0")}let dr;try{dr=typeof P=="bigint"?P:bytesToNumberBE(ensureBytes("private key",P,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof P}`)}return k&&(dr=mod(dr,or)),p(dr),dr}const y=new Map;function v(P){if(!(P instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(R,T,k){if(this.px=R,this.py=T,this.pz=k,R==null||!o.isValid(R))throw new Error("x required");if(T==null||!o.isValid(T))throw new Error("y required");if(k==null||!o.isValid(k))throw new Error("z required")}static fromAffine(R){const{x:T,y:k}=R||{};if(!R||!o.isValid(T)||!o.isValid(k))throw new Error("invalid affine point");if(R instanceof b)throw new Error("projective point not allowed");const or=dr=>o.eql(dr,o.ZERO);return or(T)&&or(k)?b.ZERO:new b(T,k,o.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(R){const T=o.invertBatch(R.map(k=>k.pz));return R.map((k,or)=>k.toAffine(T[or])).map(b.fromAffine)}static fromHex(R){const T=b.fromAffine(c(ensureBytes("pointHex",R)));return T.assertValidity(),T}static fromPrivateKey(R){return b.BASE.multiply(m(R))}_setWindowSize(R){this._WINDOW_SIZE=R,y.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!o.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:R,y:T}=this.toAffine();if(!o.isValid(R)||!o.isValid(T))throw new Error("bad point: x or y not FE");const k=o.sqr(T),or=u(R);if(!o.eql(k,or))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:R}=this.toAffine();if(o.isOdd)return!o.isOdd(R);throw new Error("Field doesn't support isOdd")}equals(R){v(R);const{px:T,py:k,pz:or}=this,{px:dr,py:yr,pz:lr}=R,br=o.eql(o.mul(T,lr),o.mul(dr,or)),wr=o.eql(o.mul(k,lr),o.mul(yr,or));return br&&wr}negate(){return new b(this.px,o.neg(this.py),this.pz)}double(){const{a:R,b:T}=s,k=o.mul(T,_3n),{px:or,py:dr,pz:yr}=this;let lr=o.ZERO,br=o.ZERO,wr=o.ZERO,Sr=o.mul(or,or),Rr=o.mul(dr,dr),Ir=o.mul(yr,yr),xr=o.mul(or,dr);return xr=o.add(xr,xr),wr=o.mul(or,yr),wr=o.add(wr,wr),lr=o.mul(R,wr),br=o.mul(k,Ir),br=o.add(lr,br),lr=o.sub(Rr,br),br=o.add(Rr,br),br=o.mul(lr,br),lr=o.mul(xr,lr),wr=o.mul(k,wr),Ir=o.mul(R,Ir),xr=o.sub(Sr,Ir),xr=o.mul(R,xr),xr=o.add(xr,wr),wr=o.add(Sr,Sr),Sr=o.add(wr,Sr),Sr=o.add(Sr,Ir),Sr=o.mul(Sr,xr),br=o.add(br,Sr),Ir=o.mul(dr,yr),Ir=o.add(Ir,Ir),Sr=o.mul(Ir,xr),lr=o.sub(lr,Sr),wr=o.mul(Ir,Rr),wr=o.add(wr,wr),wr=o.add(wr,wr),new b(lr,br,wr)}add(R){v(R);const{px:T,py:k,pz:or}=this,{px:dr,py:yr,pz:lr}=R;let br=o.ZERO,wr=o.ZERO,Sr=o.ZERO;const Rr=s.a,Ir=o.mul(s.b,_3n);let xr=o.mul(T,dr),C=o.mul(k,yr),B=o.mul(or,lr),ur=o.add(T,k),er=o.add(dr,yr);ur=o.mul(ur,er),er=o.add(xr,C),ur=o.sub(ur,er),er=o.add(T,or);let H=o.add(dr,lr);return er=o.mul(er,H),H=o.add(xr,B),er=o.sub(er,H),H=o.add(k,or),br=o.add(yr,lr),H=o.mul(H,br),br=o.add(C,B),H=o.sub(H,br),Sr=o.mul(Rr,er),br=o.mul(Ir,B),Sr=o.add(br,Sr),br=o.sub(C,Sr),Sr=o.add(C,Sr),wr=o.mul(br,Sr),C=o.add(xr,xr),C=o.add(C,xr),B=o.mul(Rr,B),er=o.mul(Ir,er),C=o.add(C,B),B=o.sub(xr,B),B=o.mul(Rr,B),er=o.add(er,B),xr=o.mul(C,er),wr=o.add(wr,xr),xr=o.mul(H,er),br=o.mul(ur,br),br=o.sub(br,xr),xr=o.mul(ur,C),Sr=o.mul(H,Sr),Sr=o.add(Sr,xr),new b(br,wr,Sr)}subtract(R){return this.add(R.negate())}is0(){return this.equals(b.ZERO)}wNAF(R){return S.wNAFCached(this,y,R,T=>{const k=o.invertBatch(T.map(or=>or.pz));return T.map((or,dr)=>or.toAffine(k[dr])).map(b.fromAffine)})}multiplyUnsafe(R){const T=b.ZERO;if(R===_0n)return T;if(p(R),R===_1n$1)return this;const{endo:k}=s;if(!k)return S.unsafeLadder(this,R);let{k1neg:or,k1:dr,k2neg:yr,k2:lr}=k.splitScalar(R),br=T,wr=T,Sr=this;for(;dr>_0n||lr>_0n;)dr&_1n$1&&(br=br.add(Sr)),lr&_1n$1&&(wr=wr.add(Sr)),Sr=Sr.double(),dr>>=_1n$1,lr>>=_1n$1;return or&&(br=br.negate()),yr&&(wr=wr.negate()),wr=new b(o.mul(wr.px,k.beta),wr.py,wr.pz),br.add(wr)}multiply(R){p(R);let T=R,k,or;const{endo:dr}=s;if(dr){const{k1neg:yr,k1:lr,k2neg:br,k2:wr}=dr.splitScalar(T);let{p:Sr,f:Rr}=this.wNAF(lr),{p:Ir,f:xr}=this.wNAF(wr);Sr=S.constTimeNegate(yr,Sr),Ir=S.constTimeNegate(br,Ir),Ir=new b(o.mul(Ir.px,dr.beta),Ir.py,Ir.pz),k=Sr.add(Ir),or=Rr.add(xr)}else{const{p:yr,f:lr}=this.wNAF(T);k=yr,or=lr}return b.normalizeZ([k,or])[0]}multiplyAndAddUnsafe(R,T,k){const or=b.BASE,dr=(lr,br)=>br===_0n||br===_1n$1||!lr.equals(or)?lr.multiplyUnsafe(br):lr.multiply(br),yr=dr(this,T).add(dr(R,k));return yr.is0()?void 0:yr}toAffine(R){const{px:T,py:k,pz:or}=this,dr=this.is0();R==null&&(R=dr?o.ONE:o.inv(or));const yr=o.mul(T,R),lr=o.mul(k,R),br=o.mul(or,R);if(dr)return{x:o.ZERO,y:o.ZERO};if(!o.eql(br,o.ONE))throw new Error("invZ was invalid");return{x:yr,y:lr}}isTorsionFree(){const{h:R,isTorsionFree:T}=s;if(R===_1n$1)return!0;if(T)return T(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:R,clearCofactor:T}=s;return R===_1n$1?this:T?T(b,this):this.multiplyUnsafe(s.h)}toRawBytes(R=!0){return this.assertValidity(),a(b,this,R)}toHex(R=!0){return bytesToHex(this.toRawBytes(R))}}b.BASE=new b(s.Gx,s.Gy,o.ONE),b.ZERO=new b(o.ZERO,o.ONE,o.ZERO);const w=s.nBitLength,S=wNAF(b,s.endo?Math.ceil(w/2):w);return{CURVE:s,ProjectivePoint:b,normPrivateKeyToScalar:m,weierstrassEquation:u,isWithinCurveOrder:h}}function validateOpts(e){const s=validateBasic(e);return validateObject(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass(e){const s=validateOpts(e),{Fp:o,n:a}=s,c=o.BYTES+1,u=2*o.BYTES+1;function h(er){return _0n<er&&er<o.ORDER}function p(er){return mod(er,a)}function m(er){return invert(er,a)}const{ProjectivePoint:y,normPrivateKeyToScalar:v,weierstrassEquation:b,isWithinCurveOrder:w}=weierstrassPoints({...s,toBytes(er,H,pr){const hr=H.toAffine(),mr=o.toBytes(hr.x),$=concatBytes;return pr?$(Uint8Array.from([H.hasEvenY()?2:3]),mr):$(Uint8Array.from([4]),mr,o.toBytes(hr.y))},fromBytes(er){const H=er.length,pr=er[0],hr=er.subarray(1);if(H===c&&(pr===2||pr===3)){const mr=bytesToNumberBE(hr);if(!h(mr))throw new Error("Point is not on curve");const $=b(mr);let fr=o.sqrt($);const Ar=(fr&_1n$1)===_1n$1;return(pr&1)===1!==Ar&&(fr=o.neg(fr)),{x:mr,y:fr}}else if(H===u&&pr===4){const mr=o.fromBytes(hr.subarray(0,o.BYTES)),$=o.fromBytes(hr.subarray(o.BYTES,2*o.BYTES));return{x:mr,y:$}}else throw new Error(`Point of length ${H} was invalid. Expected ${c} compressed bytes or ${u} uncompressed bytes`)}}),S=er=>bytesToHex(numberToBytesBE(er,s.nByteLength));function P(er){const H=a>>_1n$1;return er>H}function R(er){return P(er)?p(-er):er}const T=(er,H,pr)=>bytesToNumberBE(er.slice(H,pr));class k{constructor(H,pr,hr){this.r=H,this.s=pr,this.recovery=hr,this.assertValidity()}static fromCompact(H){const pr=s.nByteLength;return H=ensureBytes("compactSignature",H,pr*2),new k(T(H,0,pr),T(H,pr,2*pr))}static fromDER(H){const{r:pr,s:hr}=DER.toSig(ensureBytes("DER",H));return new k(pr,hr)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(H){return new k(this.r,this.s,H)}recoverPublicKey(H){const{r:pr,s:hr,recovery:mr}=this,$=wr(ensureBytes("msgHash",H));if(mr==null||![0,1,2,3].includes(mr))throw new Error("recovery id invalid");const fr=mr===2||mr===3?pr+s.n:pr;if(fr>=o.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ar=(mr&1)===0?"02":"03",Or=y.fromHex(Ar+S(fr)),jr=m(fr),Ur=p(-$*jr),qr=p(hr*jr),Lr=y.BASE.multiplyAndAddUnsafe(Or,Ur,qr);if(!Lr)throw new Error("point at infinify");return Lr.assertValidity(),Lr}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const or={isValidPrivateKey(er){try{return v(er),!0}catch{return!1}},normPrivateKeyToScalar:v,randomPrivateKey:()=>{const er=getMinHashLength(s.n);return mapHashToField(s.randomBytes(er),s.n)},precompute(er=8,H=y.BASE){return H._setWindowSize(er),H.multiply(BigInt(3)),H}};function dr(er,H=!0){return y.fromPrivateKey(er).toRawBytes(H)}function yr(er){const H=er instanceof Uint8Array,pr=typeof er=="string",hr=(H||pr)&&er.length;return H?hr===c||hr===u:pr?hr===2*c||hr===2*u:er instanceof y}function lr(er,H,pr=!0){if(yr(er))throw new Error("first arg must be private key");if(!yr(H))throw new Error("second arg must be public key");return y.fromHex(H).multiply(v(er)).toRawBytes(pr)}const br=s.bits2int||function(er){const H=bytesToNumberBE(er),pr=er.length*8-s.nBitLength;return pr>0?H>>BigInt(pr):H},wr=s.bits2int_modN||function(er){return p(br(er))},Sr=bitMask(s.nBitLength);function Rr(er){if(typeof er!="bigint")throw new Error("bigint expected");if(!(_0n<=er&&er<Sr))throw new Error(`bigint expected < 2^${s.nBitLength}`);return numberToBytesBE(er,s.nByteLength)}function Ir(er,H,pr=xr){if(["recovered","canonical"].some(Vr=>Vr in pr))throw new Error("sign() legacy options not supported");const{hash:hr,randomBytes:mr}=s;let{lowS:$,prehash:fr,extraEntropy:Ar}=pr;$==null&&($=!0),er=ensureBytes("msgHash",er),fr&&(er=ensureBytes("prehashed msgHash",hr(er)));const Or=wr(er),jr=v(H),Ur=[Rr(jr),Rr(Or)];if(Ar!=null){const Vr=Ar===!0?mr(o.BYTES):Ar;Ur.push(ensureBytes("extraEntropy",Vr))}const qr=concatBytes(...Ur),Lr=Or;function Wr(Vr){const Gr=br(Vr);if(!w(Gr))return;const un=m(Gr),Jr=y.BASE.multiply(Gr).toAffine(),Qr=p(Jr.x);if(Qr===_0n)return;const vn=p(un*p(Lr+Qr*jr));if(vn===_0n)return;let hn=(Jr.x===Qr?0:2)|Number(Jr.y&_1n$1),pn=vn;return $&&P(vn)&&(pn=R(vn),hn^=1),new k(Qr,pn,hn)}return{seed:qr,k2sig:Wr}}const xr={lowS:s.lowS,prehash:!1},C={lowS:s.lowS,prehash:!1};function B(er,H,pr=xr){const{seed:hr,k2sig:mr}=Ir(er,H,pr),$=s;return createHmacDrbg($.hash.outputLen,$.nByteLength,$.hmac)(hr,mr)}y.BASE._setWindowSize(8);function ur(er,H,pr,hr=C){var Jr;const mr=er;if(H=ensureBytes("msgHash",H),pr=ensureBytes("publicKey",pr),"strict"in hr)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:fr}=hr;let Ar,Or;try{if(typeof mr=="string"||mr instanceof Uint8Array)try{Ar=k.fromDER(mr)}catch(Qr){if(!(Qr instanceof DER.Err))throw Qr;Ar=k.fromCompact(mr)}else if(typeof mr=="object"&&typeof mr.r=="bigint"&&typeof mr.s=="bigint"){const{r:Qr,s:vn}=mr;Ar=new k(Qr,vn)}else throw new Error("PARSE");Or=y.fromHex(pr)}catch(Qr){if(Qr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&Ar.hasHighS())return!1;fr&&(H=s.hash(H));const{r:jr,s:Ur}=Ar,qr=wr(H),Lr=m(Ur),Wr=p(qr*Lr),Vr=p(jr*Lr),Gr=(Jr=y.BASE.multiplyAndAddUnsafe(Or,Wr,Vr))==null?void 0:Jr.toAffine();return Gr?p(Gr.x)===jr:!1}return{CURVE:s,getPublicKey:dr,getSharedSecret:lr,sign:B,verify:ur,ProjectivePoint:y,Signature:k,utils:or}}class HMAC extends Hash{constructor(s,o){super(),this.finished=!1,this.destroyed=!1,hash$1(s);const a=toBytes(o);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,u=new Uint8Array(c);u.set(a.length>c?s.create().update(a).digest():a);for(let h=0;h<u.length;h++)u[h]^=54;this.iHash.update(u),this.oHash=s.create();for(let h=0;h<u.length;h++)u[h]^=106;this.oHash.update(u),u.fill(0)}update(s){return exists(this),this.iHash.update(s),this}digestInto(s){exists(this),bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:a,finished:c,destroyed:u,blockLen:h,outputLen:p}=this;return s=s,s.finished=c,s.destroyed=u,s.blockLen=h,s.outputLen=p,s.oHash=o._cloneInto(s.oHash),s.iHash=a._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$1=(e,s,o)=>new HMAC(e,s).update(o).digest();hmac$1.create=(e,s)=>new HMAC(e,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(e){return{hash:e,hmac:(s,...o)=>hmac$1(e,s,concatBytes$2(...o)),randomBytes}}function createCurve(e,s){const o=a=>weierstrass({...e,...getHash(a)});return Object.freeze({...o(s),create:o})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(e,s)=>(e+s/_2n)/s;function sqrtMod(e){const s=secp256k1P,o=BigInt(3),a=BigInt(6),c=BigInt(11),u=BigInt(22),h=BigInt(23),p=BigInt(44),m=BigInt(88),y=e*e*e%s,v=y*y*e%s,b=pow2(v,o,s)*v%s,w=pow2(b,o,s)*v%s,S=pow2(w,_2n,s)*y%s,P=pow2(S,c,s)*S%s,R=pow2(P,u,s)*P%s,T=pow2(R,p,s)*R%s,k=pow2(T,m,s)*T%s,or=pow2(k,p,s)*R%s,dr=pow2(or,o,s)*v%s,yr=pow2(dr,h,s)*P%s,lr=pow2(yr,a,s)*y%s,br=pow2(lr,_2n,s);if(!Fp.eql(Fp.sqr(br),e))throw new Error("Cannot find square root");return br}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1$1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const s=secp256k1N,o=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),c=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),u=o,h=BigInt("0x100000000000000000000000000000000"),p=divNearest(u*e,s),m=divNearest(-a*e,s);let y=mod(e-p*o-m*c,s),v=mod(-p*a-m*u,s);const b=y>h,w=v>h;if(b&&(y=s-y),w&&(v=s-v),y>h||v>h)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:b,k1:y,k2neg:w,k2:v}}}},sha256);BigInt(0);secp256k1$1.ProjectivePoint;const secp256k1$2=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:secp256k1$1},Symbol.toStringTag,{value:"Module"}));function hexToSignature(e){const{r:s,s:o}=secp256k1$1.Signature.fromCompact(e.slice(2,130)),a=BigInt(`0x${e.slice(130)}`);return{r:numberToHex(s,{size:32}),s:numberToHex(o,{size:32}),v:a}}let t$1=class Dp{constructor(s){po(this,"authorityId");po(this,"typeId");po(this,"versionMajor");po(this,"versionMinor");this.authorityId=s.authorityId,this.typeId=s.typeId,this.versionMajor=s.versionMajor,this.versionMinor=s.versionMinor}toString(){return`${this.authorityId}/${this.typeId}:${this.versionMajor}.${this.versionMinor}`}static fromString(s){const[o,a]=s.split(":"),[c,u]=o.split("/"),[h,p]=a.split(".");return new Dp({authorityId:c,typeId:u,versionMajor:Number(h),versionMinor:Number(p)})}sameAs(s){return this.authorityId===s.authorityId&&this.typeId===s.typeId}};const n=new t$1({authorityId:"xmtp.org",typeId:"text",versionMajor:1,versionMinor:0});var t;(function(e){e.utf8="UTF-8",e.unknown="unknown"})(t||(t={}));class r{get contentType(){return n}encode(s){return{type:n,parameters:{encoding:t.utf8},content:new TextEncoder().encode(s)}}decode(s){if(s.parameters.encoding!==t.utf8)throw new Error(`unrecognized encoding ${s.parameters.encoding}`);return new TextDecoder().decode(s.content)}fallback(){}shouldPush(){return!0}}const E_CANCELED=new Error("request for lock canceled");var __awaiter$2=function(e,s,o,a){function c(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function p(v){try{y(a.next(v))}catch(b){h(b)}}function m(v){try{y(a.throw(v))}catch(b){h(b)}}function y(v){v.done?u(v.value):c(v.value).then(p,m)}y((a=a.apply(e,s||[])).next())})};class Semaphore{constructor(s,o=E_CANCELED){this._value=s,this._cancelError=o,this._queue=[],this._weightedWaiters=[]}acquire(s=1,o=0){if(s<=0)throw new Error(`invalid weight ${s}: must be positive`);return new Promise((a,c)=>{const u={resolve:a,reject:c,weight:s,priority:o},h=findIndexFromEnd(this._queue,p=>o<=p.priority);h===-1&&s<=this._value?this._dispatchItem(u):this._queue.splice(h+1,0,u)})}runExclusive(s){return __awaiter$2(this,arguments,void 0,function*(o,a=1,c=0){const[u,h]=yield this.acquire(a,c);try{return yield o(u)}finally{h()}})}waitForUnlock(s=1,o=0){if(s<=0)throw new Error(`invalid weight ${s}: must be positive`);return this._couldLockImmediately(s,o)?Promise.resolve():new Promise(a=>{this._weightedWaiters[s-1]||(this._weightedWaiters[s-1]=[]),insertSorted(this._weightedWaiters[s-1],{resolve:a,priority:o})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(s){this._value=s,this._dispatchQueue()}release(s=1){if(s<=0)throw new Error(`invalid weight ${s}: must be positive`);this._value+=s,this._dispatchQueue()}cancel(){this._queue.forEach(s=>s.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(s){const o=this._value;this._value-=s.weight,s.resolve([o,this._newReleaser(s.weight)])}_newReleaser(s){let o=!1;return()=>{o||(o=!0,this.release(s))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let s=this._value;s>0;s--){const o=this._weightedWaiters[s-1];o&&(o.forEach(a=>a.resolve()),this._weightedWaiters[s-1]=[])}else{const s=this._queue[0].priority;for(let o=this._value;o>0;o--){const a=this._weightedWaiters[o-1];if(!a)continue;const c=a.findIndex(u=>u.priority<=s);(c===-1?a:a.splice(0,c)).forEach(u=>u.resolve())}}}_couldLockImmediately(s,o){return(this._queue.length===0||this._queue[0].priority<o)&&s<=this._value}}function insertSorted(e,s){const o=findIndexFromEnd(e,a=>s.priority<=a.priority);e.splice(o+1,0,s)}function findIndexFromEnd(e,s){for(let o=e.length-1;o>=0;o--)if(s(e[o]))return o;return-1}var __awaiter$1=function(e,s,o,a){function c(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function p(v){try{y(a.next(v))}catch(b){h(b)}}function m(v){try{y(a.throw(v))}catch(b){h(b)}}function y(v){v.done?u(v.value):c(v.value).then(p,m)}y((a=a.apply(e,s||[])).next())})};class Mutex{constructor(s){this._semaphore=new Semaphore(1,s)}acquire(){return __awaiter$1(this,arguments,void 0,function*(s=0){const[,o]=yield this._semaphore.acquire(1,s);return o})}runExclusive(s,o=0){return this._semaphore.runExclusive(()=>s(),1,o)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(s=0){return this._semaphore.waitForUnlock(1,s)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}var elliptic={};const version="6.6.1",require$$0={version};var utils$2={},bn$1={exports:{}};const require$$3=getAugmentedNamespace(__viteBrowserExternal$1);var bn=bn$1.exports,hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(e){(function(s,o){function a(xr,C){if(!xr)throw new Error(C||"Assertion failed")}function c(xr,C){xr.super_=C;var B=function(){};B.prototype=C.prototype,xr.prototype=new B,xr.prototype.constructor=xr}function u(xr,C,B){if(u.isBN(xr))return xr;this.negative=0,this.words=null,this.length=0,this.red=null,xr!==null&&((C==="le"||C==="be")&&(B=C,C=10),this._init(xr||0,C||10,B||"be"))}typeof s=="object"?s.exports=u:o.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=require$$3.Buffer}catch{}u.isBN=function(C){return C instanceof u?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===u.wordSize&&Array.isArray(C.words)},u.max=function(C,B){return C.cmp(B)>0?C:B},u.min=function(C,B){return C.cmp(B)<0?C:B},u.prototype._init=function(C,B,ur){if(typeof C=="number")return this._initNumber(C,B,ur);if(typeof C=="object")return this._initArray(C,B,ur);B==="hex"&&(B=16),a(B===(B|0)&&B>=2&&B<=36),C=C.toString().replace(/\s+/g,"");var er=0;C[0]==="-"&&(er++,this.negative=1),er<C.length&&(B===16?this._parseHex(C,er,ur):(this._parseBase(C,B,er),ur==="le"&&this._initArray(this.toArray(),B,ur)))},u.prototype._initNumber=function(C,B,ur){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(a(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),ur==="le"&&this._initArray(this.toArray(),B,ur)},u.prototype._initArray=function(C,B,ur){if(a(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var er=0;er<this.length;er++)this.words[er]=0;var H,pr,hr=0;if(ur==="be")for(er=C.length-1,H=0;er>=0;er-=3)pr=C[er]|C[er-1]<<8|C[er-2]<<16,this.words[H]|=pr<<hr&67108863,this.words[H+1]=pr>>>26-hr&67108863,hr+=24,hr>=26&&(hr-=26,H++);else if(ur==="le")for(er=0,H=0;er<C.length;er+=3)pr=C[er]|C[er+1]<<8|C[er+2]<<16,this.words[H]|=pr<<hr&67108863,this.words[H+1]=pr>>>26-hr&67108863,hr+=24,hr>=26&&(hr-=26,H++);return this.strip()};function p(xr,C){var B=xr.charCodeAt(C);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function m(xr,C,B){var ur=p(xr,B);return B-1>=C&&(ur|=p(xr,B-1)<<4),ur}u.prototype._parseHex=function(C,B,ur){this.length=Math.ceil((C.length-B)/6),this.words=new Array(this.length);for(var er=0;er<this.length;er++)this.words[er]=0;var H=0,pr=0,hr;if(ur==="be")for(er=C.length-1;er>=B;er-=2)hr=m(C,B,er)<<H,this.words[pr]|=hr&67108863,H>=18?(H-=18,pr+=1,this.words[pr]|=hr>>>26):H+=8;else{var mr=C.length-B;for(er=mr%2===0?B+1:B;er<C.length;er+=2)hr=m(C,B,er)<<H,this.words[pr]|=hr&67108863,H>=18?(H-=18,pr+=1,this.words[pr]|=hr>>>26):H+=8}this.strip()};function y(xr,C,B,ur){for(var er=0,H=Math.min(xr.length,B),pr=C;pr<H;pr++){var hr=xr.charCodeAt(pr)-48;er*=ur,hr>=49?er+=hr-49+10:hr>=17?er+=hr-17+10:er+=hr}return er}u.prototype._parseBase=function(C,B,ur){this.words=[0],this.length=1;for(var er=0,H=1;H<=67108863;H*=B)er++;er--,H=H/B|0;for(var pr=C.length-ur,hr=pr%er,mr=Math.min(pr,pr-hr)+ur,$=0,fr=ur;fr<mr;fr+=er)$=y(C,fr,fr+er,B),this.imuln(H),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(hr!==0){var Ar=1;for($=y(C,fr,C.length,B),fr=0;fr<hr;fr++)Ar*=B;this.imuln(Ar),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this.strip()},u.prototype.copy=function(C){C.words=new Array(this.length);for(var B=0;B<this.length;B++)C.words[B]=this.words[B];C.length=this.length,C.negative=this.negative,C.red=this.red},u.prototype.clone=function(){var C=new u(null);return this.copy(C),C},u.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(C,B){C=C||10,B=B|0||1;var ur;if(C===16||C==="hex"){ur="";for(var er=0,H=0,pr=0;pr<this.length;pr++){var hr=this.words[pr],mr=((hr<<er|H)&16777215).toString(16);H=hr>>>24-er&16777215,er+=2,er>=26&&(er-=26,pr--),H!==0||pr!==this.length-1?ur=v[6-mr.length]+mr+ur:ur=mr+ur}for(H!==0&&(ur=H.toString(16)+ur);ur.length%B!==0;)ur="0"+ur;return this.negative!==0&&(ur="-"+ur),ur}if(C===(C|0)&&C>=2&&C<=36){var $=b[C],fr=w[C];ur="";var Ar=this.clone();for(Ar.negative=0;!Ar.isZero();){var Or=Ar.modn(fr).toString(C);Ar=Ar.idivn(fr),Ar.isZero()?ur=Or+ur:ur=v[$-Or.length]+Or+ur}for(this.isZero()&&(ur="0"+ur);ur.length%B!==0;)ur="0"+ur;return this.negative!==0&&(ur="-"+ur),ur}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(C,B){return a(typeof h<"u"),this.toArrayLike(h,C,B)},u.prototype.toArray=function(C,B){return this.toArrayLike(Array,C,B)},u.prototype.toArrayLike=function(C,B,ur){var er=this.byteLength(),H=ur||Math.max(1,er);a(er<=H,"byte array longer than desired length"),a(H>0,"Requested array length <= 0"),this.strip();var pr=B==="le",hr=new C(H),mr,$,fr=this.clone();if(pr){for($=0;!fr.isZero();$++)mr=fr.andln(255),fr.iushrn(8),hr[$]=mr;for(;$<H;$++)hr[$]=0}else{for($=0;$<H-er;$++)hr[$]=0;for($=0;!fr.isZero();$++)mr=fr.andln(255),fr.iushrn(8),hr[H-$-1]=mr}return hr},Math.clz32?u.prototype._countBits=function(C){return 32-Math.clz32(C)}:u.prototype._countBits=function(C){var B=C,ur=0;return B>=4096&&(ur+=13,B>>>=13),B>=64&&(ur+=7,B>>>=7),B>=8&&(ur+=4,B>>>=4),B>=2&&(ur+=2,B>>>=2),ur+B},u.prototype._zeroBits=function(C){if(C===0)return 26;var B=C,ur=0;return(B&8191)===0&&(ur+=13,B>>>=13),(B&127)===0&&(ur+=7,B>>>=7),(B&15)===0&&(ur+=4,B>>>=4),(B&3)===0&&(ur+=2,B>>>=2),(B&1)===0&&ur++,ur},u.prototype.bitLength=function(){var C=this.words[this.length-1],B=this._countBits(C);return(this.length-1)*26+B};function S(xr){for(var C=new Array(xr.bitLength()),B=0;B<C.length;B++){var ur=B/26|0,er=B%26;C[B]=(xr.words[ur]&1<<er)>>>er}return C}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,B=0;B<this.length;B++){var ur=this._zeroBits(this.words[B]);if(C+=ur,ur!==26)break}return C},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},u.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var B=0;B<C.length;B++)this.words[B]=this.words[B]|C.words[B];return this.strip()},u.prototype.ior=function(C){return a((this.negative|C.negative)===0),this.iuor(C)},u.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},u.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},u.prototype.iuand=function(C){var B;this.length>C.length?B=C:B=this;for(var ur=0;ur<B.length;ur++)this.words[ur]=this.words[ur]&C.words[ur];return this.length=B.length,this.strip()},u.prototype.iand=function(C){return a((this.negative|C.negative)===0),this.iuand(C)},u.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},u.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},u.prototype.iuxor=function(C){var B,ur;this.length>C.length?(B=this,ur=C):(B=C,ur=this);for(var er=0;er<ur.length;er++)this.words[er]=B.words[er]^ur.words[er];if(this!==B)for(;er<B.length;er++)this.words[er]=B.words[er];return this.length=B.length,this.strip()},u.prototype.ixor=function(C){return a((this.negative|C.negative)===0),this.iuxor(C)},u.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},u.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},u.prototype.inotn=function(C){a(typeof C=="number"&&C>=0);var B=Math.ceil(C/26)|0,ur=C%26;this._expand(B),ur>0&&B--;for(var er=0;er<B;er++)this.words[er]=~this.words[er]&67108863;return ur>0&&(this.words[er]=~this.words[er]&67108863>>26-ur),this.strip()},u.prototype.notn=function(C){return this.clone().inotn(C)},u.prototype.setn=function(C,B){a(typeof C=="number"&&C>=0);var ur=C/26|0,er=C%26;return this._expand(ur+1),B?this.words[ur]=this.words[ur]|1<<er:this.words[ur]=this.words[ur]&~(1<<er),this.strip()},u.prototype.iadd=function(C){var B;if(this.negative!==0&&C.negative===0)return this.negative=0,B=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,B=this.isub(C),C.negative=1,B._normSign();var ur,er;this.length>C.length?(ur=this,er=C):(ur=C,er=this);for(var H=0,pr=0;pr<er.length;pr++)B=(ur.words[pr]|0)+(er.words[pr]|0)+H,this.words[pr]=B&67108863,H=B>>>26;for(;H!==0&&pr<ur.length;pr++)B=(ur.words[pr]|0)+H,this.words[pr]=B&67108863,H=B>>>26;if(this.length=ur.length,H!==0)this.words[this.length]=H,this.length++;else if(ur!==this)for(;pr<ur.length;pr++)this.words[pr]=ur.words[pr];return this},u.prototype.add=function(C){var B;return C.negative!==0&&this.negative===0?(C.negative=0,B=this.sub(C),C.negative^=1,B):C.negative===0&&this.negative!==0?(this.negative=0,B=C.sub(this),this.negative=1,B):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},u.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var B=this.iadd(C);return C.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var ur=this.cmp(C);if(ur===0)return this.negative=0,this.length=1,this.words[0]=0,this;var er,H;ur>0?(er=this,H=C):(er=C,H=this);for(var pr=0,hr=0;hr<H.length;hr++)B=(er.words[hr]|0)-(H.words[hr]|0)+pr,pr=B>>26,this.words[hr]=B&67108863;for(;pr!==0&&hr<er.length;hr++)B=(er.words[hr]|0)+pr,pr=B>>26,this.words[hr]=B&67108863;if(pr===0&&hr<er.length&&er!==this)for(;hr<er.length;hr++)this.words[hr]=er.words[hr];return this.length=Math.max(this.length,hr),er!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(C){return this.clone().isub(C)};function P(xr,C,B){B.negative=C.negative^xr.negative;var ur=xr.length+C.length|0;B.length=ur,ur=ur-1|0;var er=xr.words[0]|0,H=C.words[0]|0,pr=er*H,hr=pr&67108863,mr=pr/67108864|0;B.words[0]=hr;for(var $=1;$<ur;$++){for(var fr=mr>>>26,Ar=mr&67108863,Or=Math.min($,C.length-1),jr=Math.max(0,$-xr.length+1);jr<=Or;jr++){var Ur=$-jr|0;er=xr.words[Ur]|0,H=C.words[jr]|0,pr=er*H+Ar,fr+=pr/67108864|0,Ar=pr&67108863}B.words[$]=Ar|0,mr=fr|0}return mr!==0?B.words[$]=mr|0:B.length--,B.strip()}var R=function(C,B,ur){var er=C.words,H=B.words,pr=ur.words,hr=0,mr,$,fr,Ar=er[0]|0,Or=Ar&8191,jr=Ar>>>13,Ur=er[1]|0,qr=Ur&8191,Lr=Ur>>>13,Wr=er[2]|0,Vr=Wr&8191,Gr=Wr>>>13,un=er[3]|0,Jr=un&8191,Qr=un>>>13,vn=er[4]|0,hn=vn&8191,pn=vn>>>13,Xn=er[5]|0,An=Xn&8191,En=Xn>>>13,xi=er[6]|0,xn=xi&8191,yn=xi>>>13,Bi=er[7]|0,Pn=Bi&8191,gn=Bi>>>13,Zi=er[8]|0,vr=Zi&8191,K=Zi>>>13,cr=er[9]|0,Er=cr&8191,Nr=cr>>>13,$r=H[0]|0,Dr=$r&8191,rn=$r>>>13,In=H[1]|0,ln=In&8191,dn=In>>>13,Sn=H[2]|0,Un=Sn&8191,Fn=Sn>>>13,so=H[3]|0,kn=so&8191,zn=so>>>13,lc=H[4]|0,Gn=lc&8191,Wn=lc>>>13,dc=H[5]|0,Kn=dc&8191,Jn=dc>>>13,bo=H[6]|0,qn=bo&8191,Bn=bo>>>13,ru=H[7]|0,On=ru&8191,Mn=ru>>>13,Xo=H[8]|0,Hn=Xo&8191,Qn=Xo>>>13,nu=H[9]|0,Is=nu&8191,Tn=nu>>>13;ur.negative=C.negative^B.negative,ur.length=19,mr=Math.imul(Or,Dr),$=Math.imul(Or,rn),$=$+Math.imul(jr,Dr)|0,fr=Math.imul(jr,rn);var xa=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(xa>>>26)|0,xa&=67108863,mr=Math.imul(qr,Dr),$=Math.imul(qr,rn),$=$+Math.imul(Lr,Dr)|0,fr=Math.imul(Lr,rn),mr=mr+Math.imul(Or,ln)|0,$=$+Math.imul(Or,dn)|0,$=$+Math.imul(jr,ln)|0,fr=fr+Math.imul(jr,dn)|0;var wa=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(wa>>>26)|0,wa&=67108863,mr=Math.imul(Vr,Dr),$=Math.imul(Vr,rn),$=$+Math.imul(Gr,Dr)|0,fr=Math.imul(Gr,rn),mr=mr+Math.imul(qr,ln)|0,$=$+Math.imul(qr,dn)|0,$=$+Math.imul(Lr,ln)|0,fr=fr+Math.imul(Lr,dn)|0,mr=mr+Math.imul(Or,Un)|0,$=$+Math.imul(Or,Fn)|0,$=$+Math.imul(jr,Un)|0,fr=fr+Math.imul(jr,Fn)|0;var fc=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(fc>>>26)|0,fc&=67108863,mr=Math.imul(Jr,Dr),$=Math.imul(Jr,rn),$=$+Math.imul(Qr,Dr)|0,fr=Math.imul(Qr,rn),mr=mr+Math.imul(Vr,ln)|0,$=$+Math.imul(Vr,dn)|0,$=$+Math.imul(Gr,ln)|0,fr=fr+Math.imul(Gr,dn)|0,mr=mr+Math.imul(qr,Un)|0,$=$+Math.imul(qr,Fn)|0,$=$+Math.imul(Lr,Un)|0,fr=fr+Math.imul(Lr,Fn)|0,mr=mr+Math.imul(Or,kn)|0,$=$+Math.imul(Or,zn)|0,$=$+Math.imul(jr,kn)|0,fr=fr+Math.imul(jr,zn)|0;var Ea=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,mr=Math.imul(hn,Dr),$=Math.imul(hn,rn),$=$+Math.imul(pn,Dr)|0,fr=Math.imul(pn,rn),mr=mr+Math.imul(Jr,ln)|0,$=$+Math.imul(Jr,dn)|0,$=$+Math.imul(Qr,ln)|0,fr=fr+Math.imul(Qr,dn)|0,mr=mr+Math.imul(Vr,Un)|0,$=$+Math.imul(Vr,Fn)|0,$=$+Math.imul(Gr,Un)|0,fr=fr+Math.imul(Gr,Fn)|0,mr=mr+Math.imul(qr,kn)|0,$=$+Math.imul(qr,zn)|0,$=$+Math.imul(Lr,kn)|0,fr=fr+Math.imul(Lr,zn)|0,mr=mr+Math.imul(Or,Gn)|0,$=$+Math.imul(Or,Wn)|0,$=$+Math.imul(jr,Gn)|0,fr=fr+Math.imul(jr,Wn)|0;var Sa=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,mr=Math.imul(An,Dr),$=Math.imul(An,rn),$=$+Math.imul(En,Dr)|0,fr=Math.imul(En,rn),mr=mr+Math.imul(hn,ln)|0,$=$+Math.imul(hn,dn)|0,$=$+Math.imul(pn,ln)|0,fr=fr+Math.imul(pn,dn)|0,mr=mr+Math.imul(Jr,Un)|0,$=$+Math.imul(Jr,Fn)|0,$=$+Math.imul(Qr,Un)|0,fr=fr+Math.imul(Qr,Fn)|0,mr=mr+Math.imul(Vr,kn)|0,$=$+Math.imul(Vr,zn)|0,$=$+Math.imul(Gr,kn)|0,fr=fr+Math.imul(Gr,zn)|0,mr=mr+Math.imul(qr,Gn)|0,$=$+Math.imul(qr,Wn)|0,$=$+Math.imul(Lr,Gn)|0,fr=fr+Math.imul(Lr,Wn)|0,mr=mr+Math.imul(Or,Kn)|0,$=$+Math.imul(Or,Jn)|0,$=$+Math.imul(jr,Kn)|0,fr=fr+Math.imul(jr,Jn)|0;var _a=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(_a>>>26)|0,_a&=67108863,mr=Math.imul(xn,Dr),$=Math.imul(xn,rn),$=$+Math.imul(yn,Dr)|0,fr=Math.imul(yn,rn),mr=mr+Math.imul(An,ln)|0,$=$+Math.imul(An,dn)|0,$=$+Math.imul(En,ln)|0,fr=fr+Math.imul(En,dn)|0,mr=mr+Math.imul(hn,Un)|0,$=$+Math.imul(hn,Fn)|0,$=$+Math.imul(pn,Un)|0,fr=fr+Math.imul(pn,Fn)|0,mr=mr+Math.imul(Jr,kn)|0,$=$+Math.imul(Jr,zn)|0,$=$+Math.imul(Qr,kn)|0,fr=fr+Math.imul(Qr,zn)|0,mr=mr+Math.imul(Vr,Gn)|0,$=$+Math.imul(Vr,Wn)|0,$=$+Math.imul(Gr,Gn)|0,fr=fr+Math.imul(Gr,Wn)|0,mr=mr+Math.imul(qr,Kn)|0,$=$+Math.imul(qr,Jn)|0,$=$+Math.imul(Lr,Kn)|0,fr=fr+Math.imul(Lr,Jn)|0,mr=mr+Math.imul(Or,qn)|0,$=$+Math.imul(Or,Bn)|0,$=$+Math.imul(jr,qn)|0,fr=fr+Math.imul(jr,Bn)|0;var Ra=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,mr=Math.imul(Pn,Dr),$=Math.imul(Pn,rn),$=$+Math.imul(gn,Dr)|0,fr=Math.imul(gn,rn),mr=mr+Math.imul(xn,ln)|0,$=$+Math.imul(xn,dn)|0,$=$+Math.imul(yn,ln)|0,fr=fr+Math.imul(yn,dn)|0,mr=mr+Math.imul(An,Un)|0,$=$+Math.imul(An,Fn)|0,$=$+Math.imul(En,Un)|0,fr=fr+Math.imul(En,Fn)|0,mr=mr+Math.imul(hn,kn)|0,$=$+Math.imul(hn,zn)|0,$=$+Math.imul(pn,kn)|0,fr=fr+Math.imul(pn,zn)|0,mr=mr+Math.imul(Jr,Gn)|0,$=$+Math.imul(Jr,Wn)|0,$=$+Math.imul(Qr,Gn)|0,fr=fr+Math.imul(Qr,Wn)|0,mr=mr+Math.imul(Vr,Kn)|0,$=$+Math.imul(Vr,Jn)|0,$=$+Math.imul(Gr,Kn)|0,fr=fr+Math.imul(Gr,Jn)|0,mr=mr+Math.imul(qr,qn)|0,$=$+Math.imul(qr,Bn)|0,$=$+Math.imul(Lr,qn)|0,fr=fr+Math.imul(Lr,Bn)|0,mr=mr+Math.imul(Or,On)|0,$=$+Math.imul(Or,Mn)|0,$=$+Math.imul(jr,On)|0,fr=fr+Math.imul(jr,Mn)|0;var hc=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(hc>>>26)|0,hc&=67108863,mr=Math.imul(vr,Dr),$=Math.imul(vr,rn),$=$+Math.imul(K,Dr)|0,fr=Math.imul(K,rn),mr=mr+Math.imul(Pn,ln)|0,$=$+Math.imul(Pn,dn)|0,$=$+Math.imul(gn,ln)|0,fr=fr+Math.imul(gn,dn)|0,mr=mr+Math.imul(xn,Un)|0,$=$+Math.imul(xn,Fn)|0,$=$+Math.imul(yn,Un)|0,fr=fr+Math.imul(yn,Fn)|0,mr=mr+Math.imul(An,kn)|0,$=$+Math.imul(An,zn)|0,$=$+Math.imul(En,kn)|0,fr=fr+Math.imul(En,zn)|0,mr=mr+Math.imul(hn,Gn)|0,$=$+Math.imul(hn,Wn)|0,$=$+Math.imul(pn,Gn)|0,fr=fr+Math.imul(pn,Wn)|0,mr=mr+Math.imul(Jr,Kn)|0,$=$+Math.imul(Jr,Jn)|0,$=$+Math.imul(Qr,Kn)|0,fr=fr+Math.imul(Qr,Jn)|0,mr=mr+Math.imul(Vr,qn)|0,$=$+Math.imul(Vr,Bn)|0,$=$+Math.imul(Gr,qn)|0,fr=fr+Math.imul(Gr,Bn)|0,mr=mr+Math.imul(qr,On)|0,$=$+Math.imul(qr,Mn)|0,$=$+Math.imul(Lr,On)|0,fr=fr+Math.imul(Lr,Mn)|0,mr=mr+Math.imul(Or,Hn)|0,$=$+Math.imul(Or,Qn)|0,$=$+Math.imul(jr,Hn)|0,fr=fr+Math.imul(jr,Qn)|0;var pc=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(pc>>>26)|0,pc&=67108863,mr=Math.imul(Er,Dr),$=Math.imul(Er,rn),$=$+Math.imul(Nr,Dr)|0,fr=Math.imul(Nr,rn),mr=mr+Math.imul(vr,ln)|0,$=$+Math.imul(vr,dn)|0,$=$+Math.imul(K,ln)|0,fr=fr+Math.imul(K,dn)|0,mr=mr+Math.imul(Pn,Un)|0,$=$+Math.imul(Pn,Fn)|0,$=$+Math.imul(gn,Un)|0,fr=fr+Math.imul(gn,Fn)|0,mr=mr+Math.imul(xn,kn)|0,$=$+Math.imul(xn,zn)|0,$=$+Math.imul(yn,kn)|0,fr=fr+Math.imul(yn,zn)|0,mr=mr+Math.imul(An,Gn)|0,$=$+Math.imul(An,Wn)|0,$=$+Math.imul(En,Gn)|0,fr=fr+Math.imul(En,Wn)|0,mr=mr+Math.imul(hn,Kn)|0,$=$+Math.imul(hn,Jn)|0,$=$+Math.imul(pn,Kn)|0,fr=fr+Math.imul(pn,Jn)|0,mr=mr+Math.imul(Jr,qn)|0,$=$+Math.imul(Jr,Bn)|0,$=$+Math.imul(Qr,qn)|0,fr=fr+Math.imul(Qr,Bn)|0,mr=mr+Math.imul(Vr,On)|0,$=$+Math.imul(Vr,Mn)|0,$=$+Math.imul(Gr,On)|0,fr=fr+Math.imul(Gr,Mn)|0,mr=mr+Math.imul(qr,Hn)|0,$=$+Math.imul(qr,Qn)|0,$=$+Math.imul(Lr,Hn)|0,fr=fr+Math.imul(Lr,Qn)|0,mr=mr+Math.imul(Or,Is)|0,$=$+Math.imul(Or,Tn)|0,$=$+Math.imul(jr,Is)|0,fr=fr+Math.imul(jr,Tn)|0;var jn=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(jn>>>26)|0,jn&=67108863,mr=Math.imul(Er,ln),$=Math.imul(Er,dn),$=$+Math.imul(Nr,ln)|0,fr=Math.imul(Nr,dn),mr=mr+Math.imul(vr,Un)|0,$=$+Math.imul(vr,Fn)|0,$=$+Math.imul(K,Un)|0,fr=fr+Math.imul(K,Fn)|0,mr=mr+Math.imul(Pn,kn)|0,$=$+Math.imul(Pn,zn)|0,$=$+Math.imul(gn,kn)|0,fr=fr+Math.imul(gn,zn)|0,mr=mr+Math.imul(xn,Gn)|0,$=$+Math.imul(xn,Wn)|0,$=$+Math.imul(yn,Gn)|0,fr=fr+Math.imul(yn,Wn)|0,mr=mr+Math.imul(An,Kn)|0,$=$+Math.imul(An,Jn)|0,$=$+Math.imul(En,Kn)|0,fr=fr+Math.imul(En,Jn)|0,mr=mr+Math.imul(hn,qn)|0,$=$+Math.imul(hn,Bn)|0,$=$+Math.imul(pn,qn)|0,fr=fr+Math.imul(pn,Bn)|0,mr=mr+Math.imul(Jr,On)|0,$=$+Math.imul(Jr,Mn)|0,$=$+Math.imul(Qr,On)|0,fr=fr+Math.imul(Qr,Mn)|0,mr=mr+Math.imul(Vr,Hn)|0,$=$+Math.imul(Vr,Qn)|0,$=$+Math.imul(Gr,Hn)|0,fr=fr+Math.imul(Gr,Qn)|0,mr=mr+Math.imul(qr,Is)|0,$=$+Math.imul(qr,Tn)|0,$=$+Math.imul(Lr,Is)|0,fr=fr+Math.imul(Lr,Tn)|0;var mc=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(mc>>>26)|0,mc&=67108863,mr=Math.imul(Er,Un),$=Math.imul(Er,Fn),$=$+Math.imul(Nr,Un)|0,fr=Math.imul(Nr,Fn),mr=mr+Math.imul(vr,kn)|0,$=$+Math.imul(vr,zn)|0,$=$+Math.imul(K,kn)|0,fr=fr+Math.imul(K,zn)|0,mr=mr+Math.imul(Pn,Gn)|0,$=$+Math.imul(Pn,Wn)|0,$=$+Math.imul(gn,Gn)|0,fr=fr+Math.imul(gn,Wn)|0,mr=mr+Math.imul(xn,Kn)|0,$=$+Math.imul(xn,Jn)|0,$=$+Math.imul(yn,Kn)|0,fr=fr+Math.imul(yn,Jn)|0,mr=mr+Math.imul(An,qn)|0,$=$+Math.imul(An,Bn)|0,$=$+Math.imul(En,qn)|0,fr=fr+Math.imul(En,Bn)|0,mr=mr+Math.imul(hn,On)|0,$=$+Math.imul(hn,Mn)|0,$=$+Math.imul(pn,On)|0,fr=fr+Math.imul(pn,Mn)|0,mr=mr+Math.imul(Jr,Hn)|0,$=$+Math.imul(Jr,Qn)|0,$=$+Math.imul(Qr,Hn)|0,fr=fr+Math.imul(Qr,Qn)|0,mr=mr+Math.imul(Vr,Is)|0,$=$+Math.imul(Vr,Tn)|0,$=$+Math.imul(Gr,Is)|0,fr=fr+Math.imul(Gr,Tn)|0;var Qo=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,mr=Math.imul(Er,kn),$=Math.imul(Er,zn),$=$+Math.imul(Nr,kn)|0,fr=Math.imul(Nr,zn),mr=mr+Math.imul(vr,Gn)|0,$=$+Math.imul(vr,Wn)|0,$=$+Math.imul(K,Gn)|0,fr=fr+Math.imul(K,Wn)|0,mr=mr+Math.imul(Pn,Kn)|0,$=$+Math.imul(Pn,Jn)|0,$=$+Math.imul(gn,Kn)|0,fr=fr+Math.imul(gn,Jn)|0,mr=mr+Math.imul(xn,qn)|0,$=$+Math.imul(xn,Bn)|0,$=$+Math.imul(yn,qn)|0,fr=fr+Math.imul(yn,Bn)|0,mr=mr+Math.imul(An,On)|0,$=$+Math.imul(An,Mn)|0,$=$+Math.imul(En,On)|0,fr=fr+Math.imul(En,Mn)|0,mr=mr+Math.imul(hn,Hn)|0,$=$+Math.imul(hn,Qn)|0,$=$+Math.imul(pn,Hn)|0,fr=fr+Math.imul(pn,Qn)|0,mr=mr+Math.imul(Jr,Is)|0,$=$+Math.imul(Jr,Tn)|0,$=$+Math.imul(Qr,Is)|0,fr=fr+Math.imul(Qr,Tn)|0;var Aa=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,mr=Math.imul(Er,Gn),$=Math.imul(Er,Wn),$=$+Math.imul(Nr,Gn)|0,fr=Math.imul(Nr,Wn),mr=mr+Math.imul(vr,Kn)|0,$=$+Math.imul(vr,Jn)|0,$=$+Math.imul(K,Kn)|0,fr=fr+Math.imul(K,Jn)|0,mr=mr+Math.imul(Pn,qn)|0,$=$+Math.imul(Pn,Bn)|0,$=$+Math.imul(gn,qn)|0,fr=fr+Math.imul(gn,Bn)|0,mr=mr+Math.imul(xn,On)|0,$=$+Math.imul(xn,Mn)|0,$=$+Math.imul(yn,On)|0,fr=fr+Math.imul(yn,Mn)|0,mr=mr+Math.imul(An,Hn)|0,$=$+Math.imul(An,Qn)|0,$=$+Math.imul(En,Hn)|0,fr=fr+Math.imul(En,Qn)|0,mr=mr+Math.imul(hn,Is)|0,$=$+Math.imul(hn,Tn)|0,$=$+Math.imul(pn,Is)|0,fr=fr+Math.imul(pn,Tn)|0;var xo=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(xo>>>26)|0,xo&=67108863,mr=Math.imul(Er,Kn),$=Math.imul(Er,Jn),$=$+Math.imul(Nr,Kn)|0,fr=Math.imul(Nr,Jn),mr=mr+Math.imul(vr,qn)|0,$=$+Math.imul(vr,Bn)|0,$=$+Math.imul(K,qn)|0,fr=fr+Math.imul(K,Bn)|0,mr=mr+Math.imul(Pn,On)|0,$=$+Math.imul(Pn,Mn)|0,$=$+Math.imul(gn,On)|0,fr=fr+Math.imul(gn,Mn)|0,mr=mr+Math.imul(xn,Hn)|0,$=$+Math.imul(xn,Qn)|0,$=$+Math.imul(yn,Hn)|0,fr=fr+Math.imul(yn,Qn)|0,mr=mr+Math.imul(An,Is)|0,$=$+Math.imul(An,Tn)|0,$=$+Math.imul(En,Is)|0,fr=fr+Math.imul(En,Tn)|0;var yc=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(yc>>>26)|0,yc&=67108863,mr=Math.imul(Er,qn),$=Math.imul(Er,Bn),$=$+Math.imul(Nr,qn)|0,fr=Math.imul(Nr,Bn),mr=mr+Math.imul(vr,On)|0,$=$+Math.imul(vr,Mn)|0,$=$+Math.imul(K,On)|0,fr=fr+Math.imul(K,Mn)|0,mr=mr+Math.imul(Pn,Hn)|0,$=$+Math.imul(Pn,Qn)|0,$=$+Math.imul(gn,Hn)|0,fr=fr+Math.imul(gn,Qn)|0,mr=mr+Math.imul(xn,Is)|0,$=$+Math.imul(xn,Tn)|0,$=$+Math.imul(yn,Is)|0,fr=fr+Math.imul(yn,Tn)|0;var Pa=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,mr=Math.imul(Er,On),$=Math.imul(Er,Mn),$=$+Math.imul(Nr,On)|0,fr=Math.imul(Nr,Mn),mr=mr+Math.imul(vr,Hn)|0,$=$+Math.imul(vr,Qn)|0,$=$+Math.imul(K,Hn)|0,fr=fr+Math.imul(K,Qn)|0,mr=mr+Math.imul(Pn,Is)|0,$=$+Math.imul(Pn,Tn)|0,$=$+Math.imul(gn,Is)|0,fr=fr+Math.imul(gn,Tn)|0;var wo=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(wo>>>26)|0,wo&=67108863,mr=Math.imul(Er,Hn),$=Math.imul(Er,Qn),$=$+Math.imul(Nr,Hn)|0,fr=Math.imul(Nr,Qn),mr=mr+Math.imul(vr,Is)|0,$=$+Math.imul(vr,Tn)|0,$=$+Math.imul(K,Is)|0,fr=fr+Math.imul(K,Tn)|0;var wi=(hr+mr|0)+(($&8191)<<13)|0;hr=(fr+($>>>13)|0)+(wi>>>26)|0,wi&=67108863,mr=Math.imul(Er,Is),$=Math.imul(Er,Tn),$=$+Math.imul(Nr,Is)|0,fr=Math.imul(Nr,Tn);var gc=(hr+mr|0)+(($&8191)<<13)|0;return hr=(fr+($>>>13)|0)+(gc>>>26)|0,gc&=67108863,pr[0]=xa,pr[1]=wa,pr[2]=fc,pr[3]=Ea,pr[4]=Sa,pr[5]=_a,pr[6]=Ra,pr[7]=hc,pr[8]=pc,pr[9]=jn,pr[10]=mc,pr[11]=Qo,pr[12]=Aa,pr[13]=xo,pr[14]=yc,pr[15]=Pa,pr[16]=wo,pr[17]=wi,pr[18]=gc,hr!==0&&(pr[19]=hr,ur.length++),ur};Math.imul||(R=P);function T(xr,C,B){B.negative=C.negative^xr.negative,B.length=xr.length+C.length;for(var ur=0,er=0,H=0;H<B.length-1;H++){var pr=er;er=0;for(var hr=ur&67108863,mr=Math.min(H,C.length-1),$=Math.max(0,H-xr.length+1);$<=mr;$++){var fr=H-$,Ar=xr.words[fr]|0,Or=C.words[$]|0,jr=Ar*Or,Ur=jr&67108863;pr=pr+(jr/67108864|0)|0,Ur=Ur+hr|0,hr=Ur&67108863,pr=pr+(Ur>>>26)|0,er+=pr>>>26,pr&=67108863}B.words[H]=hr,ur=pr,pr=er}return ur!==0?B.words[H]=ur:B.length--,B.strip()}function k(xr,C,B){var ur=new or;return ur.mulp(xr,C,B)}u.prototype.mulTo=function(C,B){var ur,er=this.length+C.length;return this.length===10&&C.length===10?ur=R(this,C,B):er<63?ur=P(this,C,B):er<1024?ur=T(this,C,B):ur=k(this,C,B),ur};function or(xr,C){this.x=xr,this.y=C}or.prototype.makeRBT=function(C){for(var B=new Array(C),ur=u.prototype._countBits(C)-1,er=0;er<C;er++)B[er]=this.revBin(er,ur,C);return B},or.prototype.revBin=function(C,B,ur){if(C===0||C===ur-1)return C;for(var er=0,H=0;H<B;H++)er|=(C&1)<<B-H-1,C>>=1;return er},or.prototype.permute=function(C,B,ur,er,H,pr){for(var hr=0;hr<pr;hr++)er[hr]=B[C[hr]],H[hr]=ur[C[hr]]},or.prototype.transform=function(C,B,ur,er,H,pr){this.permute(pr,C,B,ur,er,H);for(var hr=1;hr<H;hr<<=1)for(var mr=hr<<1,$=Math.cos(2*Math.PI/mr),fr=Math.sin(2*Math.PI/mr),Ar=0;Ar<H;Ar+=mr)for(var Or=$,jr=fr,Ur=0;Ur<hr;Ur++){var qr=ur[Ar+Ur],Lr=er[Ar+Ur],Wr=ur[Ar+Ur+hr],Vr=er[Ar+Ur+hr],Gr=Or*Wr-jr*Vr;Vr=Or*Vr+jr*Wr,Wr=Gr,ur[Ar+Ur]=qr+Wr,er[Ar+Ur]=Lr+Vr,ur[Ar+Ur+hr]=qr-Wr,er[Ar+Ur+hr]=Lr-Vr,Ur!==mr&&(Gr=$*Or-fr*jr,jr=$*jr+fr*Or,Or=Gr)}},or.prototype.guessLen13b=function(C,B){var ur=Math.max(B,C)|1,er=ur&1,H=0;for(ur=ur/2|0;ur;ur=ur>>>1)H++;return 1<<H+1+er},or.prototype.conjugate=function(C,B,ur){if(!(ur<=1))for(var er=0;er<ur/2;er++){var H=C[er];C[er]=C[ur-er-1],C[ur-er-1]=H,H=B[er],B[er]=-B[ur-er-1],B[ur-er-1]=-H}},or.prototype.normalize13b=function(C,B){for(var ur=0,er=0;er<B/2;er++){var H=Math.round(C[2*er+1]/B)*8192+Math.round(C[2*er]/B)+ur;C[er]=H&67108863,H<67108864?ur=0:ur=H/67108864|0}return C},or.prototype.convert13b=function(C,B,ur,er){for(var H=0,pr=0;pr<B;pr++)H=H+(C[pr]|0),ur[2*pr]=H&8191,H=H>>>13,ur[2*pr+1]=H&8191,H=H>>>13;for(pr=2*B;pr<er;++pr)ur[pr]=0;a(H===0),a((H&-8192)===0)},or.prototype.stub=function(C){for(var B=new Array(C),ur=0;ur<C;ur++)B[ur]=0;return B},or.prototype.mulp=function(C,B,ur){var er=2*this.guessLen13b(C.length,B.length),H=this.makeRBT(er),pr=this.stub(er),hr=new Array(er),mr=new Array(er),$=new Array(er),fr=new Array(er),Ar=new Array(er),Or=new Array(er),jr=ur.words;jr.length=er,this.convert13b(C.words,C.length,hr,er),this.convert13b(B.words,B.length,fr,er),this.transform(hr,pr,mr,$,er,H),this.transform(fr,pr,Ar,Or,er,H);for(var Ur=0;Ur<er;Ur++){var qr=mr[Ur]*Ar[Ur]-$[Ur]*Or[Ur];$[Ur]=mr[Ur]*Or[Ur]+$[Ur]*Ar[Ur],mr[Ur]=qr}return this.conjugate(mr,$,er),this.transform(mr,$,jr,pr,er,H),this.conjugate(jr,pr,er),this.normalize13b(jr,er),ur.negative=C.negative^B.negative,ur.length=C.length+B.length,ur.strip()},u.prototype.mul=function(C){var B=new u(null);return B.words=new Array(this.length+C.length),this.mulTo(C,B)},u.prototype.mulf=function(C){var B=new u(null);return B.words=new Array(this.length+C.length),k(this,C,B)},u.prototype.imul=function(C){return this.clone().mulTo(C,this)},u.prototype.imuln=function(C){a(typeof C=="number"),a(C<67108864);for(var B=0,ur=0;ur<this.length;ur++){var er=(this.words[ur]|0)*C,H=(er&67108863)+(B&67108863);B>>=26,B+=er/67108864|0,B+=H>>>26,this.words[ur]=H&67108863}return B!==0&&(this.words[ur]=B,this.length++),this.length=C===0?1:this.length,this},u.prototype.muln=function(C){return this.clone().imuln(C)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(C){var B=S(C);if(B.length===0)return new u(1);for(var ur=this,er=0;er<B.length&&B[er]===0;er++,ur=ur.sqr());if(++er<B.length)for(var H=ur.sqr();er<B.length;er++,H=H.sqr())B[er]!==0&&(ur=ur.mul(H));return ur},u.prototype.iushln=function(C){a(typeof C=="number"&&C>=0);var B=C%26,ur=(C-B)/26,er=67108863>>>26-B<<26-B,H;if(B!==0){var pr=0;for(H=0;H<this.length;H++){var hr=this.words[H]&er,mr=(this.words[H]|0)-hr<<B;this.words[H]=mr|pr,pr=hr>>>26-B}pr&&(this.words[H]=pr,this.length++)}if(ur!==0){for(H=this.length-1;H>=0;H--)this.words[H+ur]=this.words[H];for(H=0;H<ur;H++)this.words[H]=0;this.length+=ur}return this.strip()},u.prototype.ishln=function(C){return a(this.negative===0),this.iushln(C)},u.prototype.iushrn=function(C,B,ur){a(typeof C=="number"&&C>=0);var er;B?er=(B-B%26)/26:er=0;var H=C%26,pr=Math.min((C-H)/26,this.length),hr=67108863^67108863>>>H<<H,mr=ur;if(er-=pr,er=Math.max(0,er),mr){for(var $=0;$<pr;$++)mr.words[$]=this.words[$];mr.length=pr}if(pr!==0)if(this.length>pr)for(this.length-=pr,$=0;$<this.length;$++)this.words[$]=this.words[$+pr];else this.words[0]=0,this.length=1;var fr=0;for($=this.length-1;$>=0&&(fr!==0||$>=er);$--){var Ar=this.words[$]|0;this.words[$]=fr<<26-H|Ar>>>H,fr=Ar&hr}return mr&&fr!==0&&(mr.words[mr.length++]=fr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(C,B,ur){return a(this.negative===0),this.iushrn(C,B,ur)},u.prototype.shln=function(C){return this.clone().ishln(C)},u.prototype.ushln=function(C){return this.clone().iushln(C)},u.prototype.shrn=function(C){return this.clone().ishrn(C)},u.prototype.ushrn=function(C){return this.clone().iushrn(C)},u.prototype.testn=function(C){a(typeof C=="number"&&C>=0);var B=C%26,ur=(C-B)/26,er=1<<B;if(this.length<=ur)return!1;var H=this.words[ur];return!!(H&er)},u.prototype.imaskn=function(C){a(typeof C=="number"&&C>=0);var B=C%26,ur=(C-B)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=ur)return this;if(B!==0&&ur++,this.length=Math.min(ur,this.length),B!==0){var er=67108863^67108863>>>B<<B;this.words[this.length-1]&=er}return this.strip()},u.prototype.maskn=function(C){return this.clone().imaskn(C)},u.prototype.iaddn=function(C){return a(typeof C=="number"),a(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},u.prototype._iaddn=function(C){this.words[0]+=C;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},u.prototype.isubn=function(C){if(a(typeof C=="number"),a(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},u.prototype.addn=function(C){return this.clone().iaddn(C)},u.prototype.subn=function(C){return this.clone().isubn(C)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(C,B,ur){var er=C.length+ur,H;this._expand(er);var pr,hr=0;for(H=0;H<C.length;H++){pr=(this.words[H+ur]|0)+hr;var mr=(C.words[H]|0)*B;pr-=mr&67108863,hr=(pr>>26)-(mr/67108864|0),this.words[H+ur]=pr&67108863}for(;H<this.length-ur;H++)pr=(this.words[H+ur]|0)+hr,hr=pr>>26,this.words[H+ur]=pr&67108863;if(hr===0)return this.strip();for(a(hr===-1),hr=0,H=0;H<this.length;H++)pr=-(this.words[H]|0)+hr,hr=pr>>26,this.words[H]=pr&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(C,B){var ur=this.length-C.length,er=this.clone(),H=C,pr=H.words[H.length-1]|0,hr=this._countBits(pr);ur=26-hr,ur!==0&&(H=H.ushln(ur),er.iushln(ur),pr=H.words[H.length-1]|0);var mr=er.length-H.length,$;if(B!=="mod"){$=new u(null),$.length=mr+1,$.words=new Array($.length);for(var fr=0;fr<$.length;fr++)$.words[fr]=0}var Ar=er.clone()._ishlnsubmul(H,1,mr);Ar.negative===0&&(er=Ar,$&&($.words[mr]=1));for(var Or=mr-1;Or>=0;Or--){var jr=(er.words[H.length+Or]|0)*67108864+(er.words[H.length+Or-1]|0);for(jr=Math.min(jr/pr|0,67108863),er._ishlnsubmul(H,jr,Or);er.negative!==0;)jr--,er.negative=0,er._ishlnsubmul(H,1,Or),er.isZero()||(er.negative^=1);$&&($.words[Or]=jr)}return $&&$.strip(),er.strip(),B!=="div"&&ur!==0&&er.iushrn(ur),{div:$||null,mod:er}},u.prototype.divmod=function(C,B,ur){if(a(!C.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var er,H,pr;return this.negative!==0&&C.negative===0?(pr=this.neg().divmod(C,B),B!=="mod"&&(er=pr.div.neg()),B!=="div"&&(H=pr.mod.neg(),ur&&H.negative!==0&&H.iadd(C)),{div:er,mod:H}):this.negative===0&&C.negative!==0?(pr=this.divmod(C.neg(),B),B!=="mod"&&(er=pr.div.neg()),{div:er,mod:pr.mod}):(this.negative&C.negative)!==0?(pr=this.neg().divmod(C.neg(),B),B!=="div"&&(H=pr.mod.neg(),ur&&H.negative!==0&&H.isub(C)),{div:pr.div,mod:H}):C.length>this.length||this.cmp(C)<0?{div:new u(0),mod:this}:C.length===1?B==="div"?{div:this.divn(C.words[0]),mod:null}:B==="mod"?{div:null,mod:new u(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new u(this.modn(C.words[0]))}:this._wordDiv(C,B)},u.prototype.div=function(C){return this.divmod(C,"div",!1).div},u.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},u.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},u.prototype.divRound=function(C){var B=this.divmod(C);if(B.mod.isZero())return B.div;var ur=B.div.negative!==0?B.mod.isub(C):B.mod,er=C.ushrn(1),H=C.andln(1),pr=ur.cmp(er);return pr<0||H===1&&pr===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},u.prototype.modn=function(C){a(C<=67108863);for(var B=(1<<26)%C,ur=0,er=this.length-1;er>=0;er--)ur=(B*ur+(this.words[er]|0))%C;return ur},u.prototype.idivn=function(C){a(C<=67108863);for(var B=0,ur=this.length-1;ur>=0;ur--){var er=(this.words[ur]|0)+B*67108864;this.words[ur]=er/C|0,B=er%C}return this.strip()},u.prototype.divn=function(C){return this.clone().idivn(C)},u.prototype.egcd=function(C){a(C.negative===0),a(!C.isZero());var B=this,ur=C.clone();B.negative!==0?B=B.umod(C):B=B.clone();for(var er=new u(1),H=new u(0),pr=new u(0),hr=new u(1),mr=0;B.isEven()&&ur.isEven();)B.iushrn(1),ur.iushrn(1),++mr;for(var $=ur.clone(),fr=B.clone();!B.isZero();){for(var Ar=0,Or=1;(B.words[0]&Or)===0&&Ar<26;++Ar,Or<<=1);if(Ar>0)for(B.iushrn(Ar);Ar-- >0;)(er.isOdd()||H.isOdd())&&(er.iadd($),H.isub(fr)),er.iushrn(1),H.iushrn(1);for(var jr=0,Ur=1;(ur.words[0]&Ur)===0&&jr<26;++jr,Ur<<=1);if(jr>0)for(ur.iushrn(jr);jr-- >0;)(pr.isOdd()||hr.isOdd())&&(pr.iadd($),hr.isub(fr)),pr.iushrn(1),hr.iushrn(1);B.cmp(ur)>=0?(B.isub(ur),er.isub(pr),H.isub(hr)):(ur.isub(B),pr.isub(er),hr.isub(H))}return{a:pr,b:hr,gcd:ur.iushln(mr)}},u.prototype._invmp=function(C){a(C.negative===0),a(!C.isZero());var B=this,ur=C.clone();B.negative!==0?B=B.umod(C):B=B.clone();for(var er=new u(1),H=new u(0),pr=ur.clone();B.cmpn(1)>0&&ur.cmpn(1)>0;){for(var hr=0,mr=1;(B.words[0]&mr)===0&&hr<26;++hr,mr<<=1);if(hr>0)for(B.iushrn(hr);hr-- >0;)er.isOdd()&&er.iadd(pr),er.iushrn(1);for(var $=0,fr=1;(ur.words[0]&fr)===0&&$<26;++$,fr<<=1);if($>0)for(ur.iushrn($);$-- >0;)H.isOdd()&&H.iadd(pr),H.iushrn(1);B.cmp(ur)>=0?(B.isub(ur),er.isub(H)):(ur.isub(B),H.isub(er))}var Ar;return B.cmpn(1)===0?Ar=er:Ar=H,Ar.cmpn(0)<0&&Ar.iadd(C),Ar},u.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var B=this.clone(),ur=C.clone();B.negative=0,ur.negative=0;for(var er=0;B.isEven()&&ur.isEven();er++)B.iushrn(1),ur.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;ur.isEven();)ur.iushrn(1);var H=B.cmp(ur);if(H<0){var pr=B;B=ur,ur=pr}else if(H===0||ur.cmpn(1)===0)break;B.isub(ur)}while(!0);return ur.iushln(er)},u.prototype.invm=function(C){return this.egcd(C).a.umod(C)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(C){return this.words[0]&C},u.prototype.bincn=function(C){a(typeof C=="number");var B=C%26,ur=(C-B)/26,er=1<<B;if(this.length<=ur)return this._expand(ur+1),this.words[ur]|=er,this;for(var H=er,pr=ur;H!==0&&pr<this.length;pr++){var hr=this.words[pr]|0;hr+=H,H=hr>>>26,hr&=67108863,this.words[pr]=hr}return H!==0&&(this.words[pr]=H,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(C){var B=C<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var ur;if(this.length>1)ur=1;else{B&&(C=-C),a(C<=67108863,"Number is too big");var er=this.words[0]|0;ur=er===C?0:er<C?-1:1}return this.negative!==0?-ur|0:ur},u.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var B=this.ucmp(C);return this.negative!==0?-B|0:B},u.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var B=0,ur=this.length-1;ur>=0;ur--){var er=this.words[ur]|0,H=C.words[ur]|0;if(er!==H){er<H?B=-1:er>H&&(B=1);break}}return B},u.prototype.gtn=function(C){return this.cmpn(C)===1},u.prototype.gt=function(C){return this.cmp(C)===1},u.prototype.gten=function(C){return this.cmpn(C)>=0},u.prototype.gte=function(C){return this.cmp(C)>=0},u.prototype.ltn=function(C){return this.cmpn(C)===-1},u.prototype.lt=function(C){return this.cmp(C)===-1},u.prototype.lten=function(C){return this.cmpn(C)<=0},u.prototype.lte=function(C){return this.cmp(C)<=0},u.prototype.eqn=function(C){return this.cmpn(C)===0},u.prototype.eq=function(C){return this.cmp(C)===0},u.red=function(C){return new Rr(C)},u.prototype.toRed=function(C){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(C){return this.red=C,this},u.prototype.forceRed=function(C){return a(!this.red,"Already a number in reduction context"),this._forceRed(C)},u.prototype.redAdd=function(C){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},u.prototype.redIAdd=function(C){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},u.prototype.redSub=function(C){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},u.prototype.redISub=function(C){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},u.prototype.redShl=function(C){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},u.prototype.redMul=function(C){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},u.prototype.redIMul=function(C){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(C){return a(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var dr={k256:null,p224:null,p192:null,p25519:null};function yr(xr,C){this.name=xr,this.p=new u(C,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}yr.prototype._tmp=function(){var C=new u(null);return C.words=new Array(Math.ceil(this.n/13)),C},yr.prototype.ireduce=function(C){var B=C,ur;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),ur=B.bitLength();while(ur>this.n);var er=ur<this.n?-1:B.ucmp(this.p);return er===0?(B.words[0]=0,B.length=1):er>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},yr.prototype.split=function(C,B){C.iushrn(this.n,0,B)},yr.prototype.imulK=function(C){return C.imul(this.k)};function lr(){yr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(lr,yr),lr.prototype.split=function(C,B){for(var ur=4194303,er=Math.min(C.length,9),H=0;H<er;H++)B.words[H]=C.words[H];if(B.length=er,C.length<=9){C.words[0]=0,C.length=1;return}var pr=C.words[9];for(B.words[B.length++]=pr&ur,H=10;H<C.length;H++){var hr=C.words[H]|0;C.words[H-10]=(hr&ur)<<4|pr>>>22,pr=hr}pr>>>=22,C.words[H-10]=pr,pr===0&&C.length>10?C.length-=10:C.length-=9},lr.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var B=0,ur=0;ur<C.length;ur++){var er=C.words[ur]|0;B+=er*977,C.words[ur]=B&67108863,B=er*64+(B/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function br(){yr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(br,yr);function wr(){yr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(wr,yr);function Sr(){yr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Sr,yr),Sr.prototype.imulK=function(C){for(var B=0,ur=0;ur<C.length;ur++){var er=(C.words[ur]|0)*19+B,H=er&67108863;er>>>=26,C.words[ur]=H,B=er}return B!==0&&(C.words[C.length++]=B),C},u._prime=function(C){if(dr[C])return dr[C];var B;if(C==="k256")B=new lr;else if(C==="p224")B=new br;else if(C==="p192")B=new wr;else if(C==="p25519")B=new Sr;else throw new Error("Unknown prime "+C);return dr[C]=B,B};function Rr(xr){if(typeof xr=="string"){var C=u._prime(xr);this.m=C.p,this.prime=C}else a(xr.gtn(1),"modulus must be greater than 1"),this.m=xr,this.prime=null}Rr.prototype._verify1=function(C){a(C.negative===0,"red works only with positives"),a(C.red,"red works only with red numbers")},Rr.prototype._verify2=function(C,B){a((C.negative|B.negative)===0,"red works only with positives"),a(C.red&&C.red===B.red,"red works only with red numbers")},Rr.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},Rr.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},Rr.prototype.add=function(C,B){this._verify2(C,B);var ur=C.add(B);return ur.cmp(this.m)>=0&&ur.isub(this.m),ur._forceRed(this)},Rr.prototype.iadd=function(C,B){this._verify2(C,B);var ur=C.iadd(B);return ur.cmp(this.m)>=0&&ur.isub(this.m),ur},Rr.prototype.sub=function(C,B){this._verify2(C,B);var ur=C.sub(B);return ur.cmpn(0)<0&&ur.iadd(this.m),ur._forceRed(this)},Rr.prototype.isub=function(C,B){this._verify2(C,B);var ur=C.isub(B);return ur.cmpn(0)<0&&ur.iadd(this.m),ur},Rr.prototype.shl=function(C,B){return this._verify1(C),this.imod(C.ushln(B))},Rr.prototype.imul=function(C,B){return this._verify2(C,B),this.imod(C.imul(B))},Rr.prototype.mul=function(C,B){return this._verify2(C,B),this.imod(C.mul(B))},Rr.prototype.isqr=function(C){return this.imul(C,C.clone())},Rr.prototype.sqr=function(C){return this.mul(C,C)},Rr.prototype.sqrt=function(C){if(C.isZero())return C.clone();var B=this.m.andln(3);if(a(B%2===1),B===3){var ur=this.m.add(new u(1)).iushrn(2);return this.pow(C,ur)}for(var er=this.m.subn(1),H=0;!er.isZero()&&er.andln(1)===0;)H++,er.iushrn(1);a(!er.isZero());var pr=new u(1).toRed(this),hr=pr.redNeg(),mr=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new u(2*$*$).toRed(this);this.pow($,mr).cmp(hr)!==0;)$.redIAdd(hr);for(var fr=this.pow($,er),Ar=this.pow(C,er.addn(1).iushrn(1)),Or=this.pow(C,er),jr=H;Or.cmp(pr)!==0;){for(var Ur=Or,qr=0;Ur.cmp(pr)!==0;qr++)Ur=Ur.redSqr();a(qr<jr);var Lr=this.pow(fr,new u(1).iushln(jr-qr-1));Ar=Ar.redMul(Lr),fr=Lr.redSqr(),Or=Or.redMul(fr),jr=qr}return Ar},Rr.prototype.invm=function(C){var B=C._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},Rr.prototype.pow=function(C,B){if(B.isZero())return new u(1).toRed(this);if(B.cmpn(1)===0)return C.clone();var ur=4,er=new Array(1<<ur);er[0]=new u(1).toRed(this),er[1]=C;for(var H=2;H<er.length;H++)er[H]=this.mul(er[H-1],C);var pr=er[0],hr=0,mr=0,$=B.bitLength()%26;for($===0&&($=26),H=B.length-1;H>=0;H--){for(var fr=B.words[H],Ar=$-1;Ar>=0;Ar--){var Or=fr>>Ar&1;if(pr!==er[0]&&(pr=this.sqr(pr)),Or===0&&hr===0){mr=0;continue}hr<<=1,hr|=Or,mr++,!(mr!==ur&&(H!==0||Ar!==0))&&(pr=this.mul(pr,er[hr]),mr=0,hr=0)}$=26}return pr},Rr.prototype.convertTo=function(C){var B=C.umod(this.m);return B===C?B.clone():B},Rr.prototype.convertFrom=function(C){var B=C.clone();return B.red=null,B},u.mont=function(C){return new Ir(C)};function Ir(xr){Rr.call(this,xr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(Ir,Rr),Ir.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},Ir.prototype.convertFrom=function(C){var B=this.imod(C.mul(this.rinv));return B.red=null,B},Ir.prototype.imul=function(C,B){if(C.isZero()||B.isZero())return C.words[0]=0,C.length=1,C;var ur=C.imul(B),er=ur.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=ur.isub(er).iushrn(this.shift),pr=H;return H.cmp(this.m)>=0?pr=H.isub(this.m):H.cmpn(0)<0&&(pr=H.iadd(this.m)),pr._forceRed(this)},Ir.prototype.mul=function(C,B){if(C.isZero()||B.isZero())return new u(0)._forceRed(this);var ur=C.mul(B),er=ur.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=ur.isub(er).iushrn(this.shift),pr=H;return H.cmp(this.m)>=0?pr=H.isub(this.m):H.cmpn(0)<0&&(pr=H.iadd(this.m)),pr._forceRed(this)},Ir.prototype.invm=function(C){var B=this.imod(C._invmp(this.m).mul(this.r2));return B._forceRed(this)}})(e,bn)}(bn$1)),bn$1.exports}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=e;function e(s,o){if(!s)throw new Error(o||"Assertion failed")}return e.equal=function(o,a,c){if(o!=a)throw new Error(c||"Assertion failed: "+o+" != "+a)},minimalisticAssert}var utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(e){var s=e;function o(u,h){if(Array.isArray(u))return u.slice();if(!u)return[];var p=[];if(typeof u!="string"){for(var m=0;m<u.length;m++)p[m]=u[m]|0;return p}if(h==="hex"){u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u);for(var m=0;m<u.length;m+=2)p.push(parseInt(u[m]+u[m+1],16))}else for(var m=0;m<u.length;m++){var y=u.charCodeAt(m),v=y>>8,b=y&255;v?p.push(v,b):p.push(b)}return p}s.toArray=o;function a(u){return u.length===1?"0"+u:u}s.zero2=a;function c(u){for(var h="",p=0;p<u.length;p++)h+=a(u[p].toString(16));return h}s.toHex=c,s.encode=function(h,p){return p==="hex"?c(h):h}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(e){var s=e,o=requireBn(),a=requireMinimalisticAssert(),c=requireUtils$2();s.assert=a,s.toArray=c.toArray,s.zero2=c.zero2,s.toHex=c.toHex,s.encode=c.encode;function u(v,b,w){var S=new Array(Math.max(v.bitLength(),w)+1),P;for(P=0;P<S.length;P+=1)S[P]=0;var R=1<<b+1,T=v.clone();for(P=0;P<S.length;P++){var k,or=T.andln(R-1);T.isOdd()?(or>(R>>1)-1?k=(R>>1)-or:k=or,T.isubn(k)):k=0,S[P]=k,T.iushrn(1)}return S}s.getNAF=u;function h(v,b){var w=[[],[]];v=v.clone(),b=b.clone();for(var S=0,P=0,R;v.cmpn(-S)>0||b.cmpn(-P)>0;){var T=v.andln(3)+S&3,k=b.andln(3)+P&3;T===3&&(T=-1),k===3&&(k=-1);var or;(T&1)===0?or=0:(R=v.andln(7)+S&7,(R===3||R===5)&&k===2?or=-T:or=T),w[0].push(or);var dr;(k&1)===0?dr=0:(R=b.andln(7)+P&7,(R===3||R===5)&&T===2?dr=-k:dr=k),w[1].push(dr),2*S===or+1&&(S=1-S),2*P===dr+1&&(P=1-P),v.iushrn(1),b.iushrn(1)}return w}s.getJSF=h;function p(v,b,w){var S="_"+b;v.prototype[b]=function(){return this[S]!==void 0?this[S]:this[S]=w.call(this)}}s.cachedProperty=p;function m(v){return typeof v=="string"?s.toArray(v,"hex"):v}s.parseBytes=m;function y(v){return new o(v,"hex","le")}s.intFromLE=y}(utils$2)),utils$2}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var e;brorand.exports=function(c){return e||(e=new s(null)),e.generate(c)};function s(a){this.rand=a}if(brorand.exports.Rand=s,s.prototype.generate=function(c){return this._rand(c)},s.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var u=new Uint8Array(c),h=0;h<u.length;h++)u[h]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(c){var u=new Uint8Array(c);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(c){var u=new Uint8Array(c);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=require$$3;if(typeof o.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(c){return o.randomBytes(c)}}catch{}return brorand.exports}var curve={},base,hasRequiredBase;function requireBase(){if(hasRequiredBase)return base;hasRequiredBase=1;var e=requireBn(),s=requireUtils$1(),o=s.getNAF,a=s.getJSF,c=s.assert;function u(p,m){this.type=p,this.p=new e(m.p,16),this.red=m.prime?e.red(m.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=m.n&&new e(m.n,16),this.g=m.g&&this.pointFromJSON(m.g,m.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(m,y){c(m.precomputed);var v=m._getDoubles(),b=o(y,1,this._bitLength),w=(1<<v.step+1)-(v.step%2===0?2:1);w/=3;var S=[],P,R;for(P=0;P<b.length;P+=v.step){R=0;for(var T=P+v.step-1;T>=P;T--)R=(R<<1)+b[T];S.push(R)}for(var k=this.jpoint(null,null,null),or=this.jpoint(null,null,null),dr=w;dr>0;dr--){for(P=0;P<S.length;P++)R=S[P],R===dr?or=or.mixedAdd(v.points[P]):R===-dr&&(or=or.mixedAdd(v.points[P].neg()));k=k.add(or)}return k.toP()},u.prototype._wnafMul=function(m,y){var v=4,b=m._getNAFPoints(v);v=b.wnd;for(var w=b.points,S=o(y,v,this._bitLength),P=this.jpoint(null,null,null),R=S.length-1;R>=0;R--){for(var T=0;R>=0&&S[R]===0;R--)T++;if(R>=0&&T++,P=P.dblp(T),R<0)break;var k=S[R];c(k!==0),m.type==="affine"?k>0?P=P.mixedAdd(w[k-1>>1]):P=P.mixedAdd(w[-k-1>>1].neg()):k>0?P=P.add(w[k-1>>1]):P=P.add(w[-k-1>>1].neg())}return m.type==="affine"?P.toP():P},u.prototype._wnafMulAdd=function(m,y,v,b,w){var S=this._wnafT1,P=this._wnafT2,R=this._wnafT3,T=0,k,or,dr;for(k=0;k<b;k++){dr=y[k];var yr=dr._getNAFPoints(m);S[k]=yr.wnd,P[k]=yr.points}for(k=b-1;k>=1;k-=2){var lr=k-1,br=k;if(S[lr]!==1||S[br]!==1){R[lr]=o(v[lr],S[lr],this._bitLength),R[br]=o(v[br],S[br],this._bitLength),T=Math.max(R[lr].length,T),T=Math.max(R[br].length,T);continue}var wr=[y[lr],null,null,y[br]];y[lr].y.cmp(y[br].y)===0?(wr[1]=y[lr].add(y[br]),wr[2]=y[lr].toJ().mixedAdd(y[br].neg())):y[lr].y.cmp(y[br].y.redNeg())===0?(wr[1]=y[lr].toJ().mixedAdd(y[br]),wr[2]=y[lr].add(y[br].neg())):(wr[1]=y[lr].toJ().mixedAdd(y[br]),wr[2]=y[lr].toJ().mixedAdd(y[br].neg()));var Sr=[-3,-1,-5,-7,0,7,5,1,3],Rr=a(v[lr],v[br]);for(T=Math.max(Rr[0].length,T),R[lr]=new Array(T),R[br]=new Array(T),or=0;or<T;or++){var Ir=Rr[0][or]|0,xr=Rr[1][or]|0;R[lr][or]=Sr[(Ir+1)*3+(xr+1)],R[br][or]=0,P[lr]=wr}}var C=this.jpoint(null,null,null),B=this._wnafT4;for(k=T;k>=0;k--){for(var ur=0;k>=0;){var er=!0;for(or=0;or<b;or++)B[or]=R[or][k]|0,B[or]!==0&&(er=!1);if(!er)break;ur++,k--}if(k>=0&&ur++,C=C.dblp(ur),k<0)break;for(or=0;or<b;or++){var H=B[or];H!==0&&(H>0?dr=P[or][H-1>>1]:H<0&&(dr=P[or][-H-1>>1].neg()),dr.type==="affine"?C=C.mixedAdd(dr):C=C.add(dr))}}for(k=0;k<b;k++)P[k]=null;return w?C:C.toP()};function h(p,m){this.curve=p,this.type=m,this.precomputed=null}return u.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(m,y){m=s.toArray(m,y);var v=this.p.byteLength();if((m[0]===4||m[0]===6||m[0]===7)&&m.length-1===2*v){m[0]===6?c(m[m.length-1]%2===0):m[0]===7&&c(m[m.length-1]%2===1);var b=this.point(m.slice(1,1+v),m.slice(1+v,1+2*v));return b}else if((m[0]===2||m[0]===3)&&m.length-1===v)return this.pointFromX(m.slice(1,1+v),m[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(m){return this.encode(m,!0)},h.prototype._encode=function(m){var y=this.curve.p.byteLength(),v=this.getX().toArray("be",y);return m?[this.getY().isEven()?2:3].concat(v):[4].concat(v,this.getY().toArray("be",y))},h.prototype.encode=function(m,y){return s.encode(this._encode(y),m)},h.prototype.precompute=function(m){if(this.precomputed)return this;var y={doubles:null,naf:null,beta:null};return y.naf=this._getNAFPoints(8),y.doubles=this._getDoubles(4,m),y.beta=this._getBeta(),this.precomputed=y,this},h.prototype._hasDoubles=function(m){if(!this.precomputed)return!1;var y=this.precomputed.doubles;return y?y.points.length>=Math.ceil((m.bitLength()+1)/y.step):!1},h.prototype._getDoubles=function(m,y){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var v=[this],b=this,w=0;w<y;w+=m){for(var S=0;S<m;S++)b=b.dbl();v.push(b)}return{step:m,points:v}},h.prototype._getNAFPoints=function(m){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var y=[this],v=(1<<m)-1,b=v===1?null:this.dbl(),w=1;w<v;w++)y[w]=y[w-1].add(b);return{wnd:m,points:y}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(m){for(var y=this,v=0;v<m;v++)y=y.dbl();return y},base}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(s,o){if(o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}}),inherits_browser.exports}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var e=requireUtils$1(),s=requireBn(),o=requireInherits_browser(),a=requireBase(),c=e.assert;function u(m){a.call(this,"short",m),this.a=new s(m.a,16).toRed(this.red),this.b=new s(m.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(m),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(u,a),short=u,u.prototype._getEndomorphism=function(y){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var v,b;if(y.beta)v=new s(y.beta,16).toRed(this.red);else{var w=this._getEndoRoots(this.p);v=w[0].cmp(w[1])<0?w[0]:w[1],v=v.toRed(this.red)}if(y.lambda)b=new s(y.lambda,16);else{var S=this._getEndoRoots(this.n);this.g.mul(S[0]).x.cmp(this.g.x.redMul(v))===0?b=S[0]:(b=S[1],c(this.g.mul(b).x.cmp(this.g.x.redMul(v))===0))}var P;return y.basis?P=y.basis.map(function(R){return{a:new s(R.a,16),b:new s(R.b,16)}}):P=this._getEndoBasis(b),{beta:v,lambda:b,basis:P}}},u.prototype._getEndoRoots=function(y){var v=y===this.p?this.red:s.mont(y),b=new s(2).toRed(v).redInvm(),w=b.redNeg(),S=new s(3).toRed(v).redNeg().redSqrt().redMul(b),P=w.redAdd(S).fromRed(),R=w.redSub(S).fromRed();return[P,R]},u.prototype._getEndoBasis=function(y){for(var v=this.n.ushrn(Math.floor(this.n.bitLength()/2)),b=y,w=this.n.clone(),S=new s(1),P=new s(0),R=new s(0),T=new s(1),k,or,dr,yr,lr,br,wr,Sr=0,Rr,Ir;b.cmpn(0)!==0;){var xr=w.div(b);Rr=w.sub(xr.mul(b)),Ir=R.sub(xr.mul(S));var C=T.sub(xr.mul(P));if(!dr&&Rr.cmp(v)<0)k=wr.neg(),or=S,dr=Rr.neg(),yr=Ir;else if(dr&&++Sr===2)break;wr=Rr,w=b,b=Rr,R=S,S=Ir,T=P,P=C}lr=Rr.neg(),br=Ir;var B=dr.sqr().add(yr.sqr()),ur=lr.sqr().add(br.sqr());return ur.cmp(B)>=0&&(lr=k,br=or),dr.negative&&(dr=dr.neg(),yr=yr.neg()),lr.negative&&(lr=lr.neg(),br=br.neg()),[{a:dr,b:yr},{a:lr,b:br}]},u.prototype._endoSplit=function(y){var v=this.endo.basis,b=v[0],w=v[1],S=w.b.mul(y).divRound(this.n),P=b.b.neg().mul(y).divRound(this.n),R=S.mul(b.a),T=P.mul(w.a),k=S.mul(b.b),or=P.mul(w.b),dr=y.sub(R).sub(T),yr=k.add(or).neg();return{k1:dr,k2:yr}},u.prototype.pointFromX=function(y,v){y=new s(y,16),y.red||(y=y.toRed(this.red));var b=y.redSqr().redMul(y).redIAdd(y.redMul(this.a)).redIAdd(this.b),w=b.redSqrt();if(w.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var S=w.fromRed().isOdd();return(v&&!S||!v&&S)&&(w=w.redNeg()),this.point(y,w)},u.prototype.validate=function(y){if(y.inf)return!0;var v=y.x,b=y.y,w=this.a.redMul(v),S=v.redSqr().redMul(v).redIAdd(w).redIAdd(this.b);return b.redSqr().redISub(S).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(y,v,b){for(var w=this._endoWnafT1,S=this._endoWnafT2,P=0;P<y.length;P++){var R=this._endoSplit(v[P]),T=y[P],k=T._getBeta();R.k1.negative&&(R.k1.ineg(),T=T.neg(!0)),R.k2.negative&&(R.k2.ineg(),k=k.neg(!0)),w[P*2]=T,w[P*2+1]=k,S[P*2]=R.k1,S[P*2+1]=R.k2}for(var or=this._wnafMulAdd(1,w,S,P*2,b),dr=0;dr<P*2;dr++)w[dr]=null,S[dr]=null;return or};function h(m,y,v,b){a.BasePoint.call(this,m,"affine"),y===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(y,16),this.y=new s(v,16),b&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(h,a.BasePoint),u.prototype.point=function(y,v,b){return new h(this,y,v,b)},u.prototype.pointFromJSON=function(y,v){return h.fromJSON(this,y,v)},h.prototype._getBeta=function(){if(this.curve.endo){var y=this.precomputed;if(y&&y.beta)return y.beta;var v=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(y){var b=this.curve,w=function(S){return b.point(S.x.redMul(b.endo.beta),S.y)};y.beta=v,v.precomputed={beta:null,naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(w)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(w)}}}return v}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(y,v,b){typeof v=="string"&&(v=JSON.parse(v));var w=y.point(v[0],v[1],b);if(!v[2])return w;function S(R){return y.point(R[0],R[1],b)}var P=v[2];return w.precomputed={beta:null,doubles:P.doubles&&{step:P.doubles.step,points:[w].concat(P.doubles.points.map(S))},naf:P.naf&&{wnd:P.naf.wnd,points:[w].concat(P.naf.points.map(S))}},w},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(y){if(this.inf)return y;if(y.inf)return this;if(this.eq(y))return this.dbl();if(this.neg().eq(y))return this.curve.point(null,null);if(this.x.cmp(y.x)===0)return this.curve.point(null,null);var v=this.y.redSub(y.y);v.cmpn(0)!==0&&(v=v.redMul(this.x.redSub(y.x).redInvm()));var b=v.redSqr().redISub(this.x).redISub(y.x),w=v.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,w)},h.prototype.dbl=function(){if(this.inf)return this;var y=this.y.redAdd(this.y);if(y.cmpn(0)===0)return this.curve.point(null,null);var v=this.curve.a,b=this.x.redSqr(),w=y.redInvm(),S=b.redAdd(b).redIAdd(b).redIAdd(v).redMul(w),P=S.redSqr().redISub(this.x.redAdd(this.x)),R=S.redMul(this.x.redSub(P)).redISub(this.y);return this.curve.point(P,R)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(y){return y=new s(y,16),this.isInfinity()?this:this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve.endo?this.curve._endoWnafMulAdd([this],[y]):this.curve._wnafMul(this,y)},h.prototype.mulAdd=function(y,v,b){var w=[this,v],S=[y,b];return this.curve.endo?this.curve._endoWnafMulAdd(w,S):this.curve._wnafMulAdd(1,w,S,2)},h.prototype.jmulAdd=function(y,v,b){var w=[this,v],S=[y,b];return this.curve.endo?this.curve._endoWnafMulAdd(w,S,!0):this.curve._wnafMulAdd(1,w,S,2,!0)},h.prototype.eq=function(y){return this===y||this.inf===y.inf&&(this.inf||this.x.cmp(y.x)===0&&this.y.cmp(y.y)===0)},h.prototype.neg=function(y){if(this.inf)return this;var v=this.curve.point(this.x,this.y.redNeg());if(y&&this.precomputed){var b=this.precomputed,w=function(S){return S.neg()};v.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(w)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(w)}}}return v},h.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var y=this.curve.jpoint(this.x,this.y,this.curve.one);return y};function p(m,y,v,b){a.BasePoint.call(this,m,"jacobian"),y===null&&v===null&&b===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(y,16),this.y=new s(v,16),this.z=new s(b,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return o(p,a.BasePoint),u.prototype.jpoint=function(y,v,b){return new p(this,y,v,b)},p.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var y=this.z.redInvm(),v=y.redSqr(),b=this.x.redMul(v),w=this.y.redMul(v).redMul(y);return this.curve.point(b,w)},p.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},p.prototype.add=function(y){if(this.isInfinity())return y;if(y.isInfinity())return this;var v=y.z.redSqr(),b=this.z.redSqr(),w=this.x.redMul(v),S=y.x.redMul(b),P=this.y.redMul(v.redMul(y.z)),R=y.y.redMul(b.redMul(this.z)),T=w.redSub(S),k=P.redSub(R);if(T.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var or=T.redSqr(),dr=or.redMul(T),yr=w.redMul(or),lr=k.redSqr().redIAdd(dr).redISub(yr).redISub(yr),br=k.redMul(yr.redISub(lr)).redISub(P.redMul(dr)),wr=this.z.redMul(y.z).redMul(T);return this.curve.jpoint(lr,br,wr)},p.prototype.mixedAdd=function(y){if(this.isInfinity())return y.toJ();if(y.isInfinity())return this;var v=this.z.redSqr(),b=this.x,w=y.x.redMul(v),S=this.y,P=y.y.redMul(v).redMul(this.z),R=b.redSub(w),T=S.redSub(P);if(R.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=R.redSqr(),or=k.redMul(R),dr=b.redMul(k),yr=T.redSqr().redIAdd(or).redISub(dr).redISub(dr),lr=T.redMul(dr.redISub(yr)).redISub(S.redMul(or)),br=this.z.redMul(R);return this.curve.jpoint(yr,lr,br)},p.prototype.dblp=function(y){if(y===0)return this;if(this.isInfinity())return this;if(!y)return this.dbl();var v;if(this.curve.zeroA||this.curve.threeA){var b=this;for(v=0;v<y;v++)b=b.dbl();return b}var w=this.curve.a,S=this.curve.tinv,P=this.x,R=this.y,T=this.z,k=T.redSqr().redSqr(),or=R.redAdd(R);for(v=0;v<y;v++){var dr=P.redSqr(),yr=or.redSqr(),lr=yr.redSqr(),br=dr.redAdd(dr).redIAdd(dr).redIAdd(w.redMul(k)),wr=P.redMul(yr),Sr=br.redSqr().redISub(wr.redAdd(wr)),Rr=wr.redISub(Sr),Ir=br.redMul(Rr);Ir=Ir.redIAdd(Ir).redISub(lr);var xr=or.redMul(T);v+1<y&&(k=k.redMul(lr)),P=Sr,T=xr,or=Ir}return this.curve.jpoint(P,or.redMul(S),T)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},p.prototype._zeroDbl=function(){var y,v,b;if(this.zOne){var w=this.x.redSqr(),S=this.y.redSqr(),P=S.redSqr(),R=this.x.redAdd(S).redSqr().redISub(w).redISub(P);R=R.redIAdd(R);var T=w.redAdd(w).redIAdd(w),k=T.redSqr().redISub(R).redISub(R),or=P.redIAdd(P);or=or.redIAdd(or),or=or.redIAdd(or),y=k,v=T.redMul(R.redISub(k)).redISub(or),b=this.y.redAdd(this.y)}else{var dr=this.x.redSqr(),yr=this.y.redSqr(),lr=yr.redSqr(),br=this.x.redAdd(yr).redSqr().redISub(dr).redISub(lr);br=br.redIAdd(br);var wr=dr.redAdd(dr).redIAdd(dr),Sr=wr.redSqr(),Rr=lr.redIAdd(lr);Rr=Rr.redIAdd(Rr),Rr=Rr.redIAdd(Rr),y=Sr.redISub(br).redISub(br),v=wr.redMul(br.redISub(y)).redISub(Rr),b=this.y.redMul(this.z),b=b.redIAdd(b)}return this.curve.jpoint(y,v,b)},p.prototype._threeDbl=function(){var y,v,b;if(this.zOne){var w=this.x.redSqr(),S=this.y.redSqr(),P=S.redSqr(),R=this.x.redAdd(S).redSqr().redISub(w).redISub(P);R=R.redIAdd(R);var T=w.redAdd(w).redIAdd(w).redIAdd(this.curve.a),k=T.redSqr().redISub(R).redISub(R);y=k;var or=P.redIAdd(P);or=or.redIAdd(or),or=or.redIAdd(or),v=T.redMul(R.redISub(k)).redISub(or),b=this.y.redAdd(this.y)}else{var dr=this.z.redSqr(),yr=this.y.redSqr(),lr=this.x.redMul(yr),br=this.x.redSub(dr).redMul(this.x.redAdd(dr));br=br.redAdd(br).redIAdd(br);var wr=lr.redIAdd(lr);wr=wr.redIAdd(wr);var Sr=wr.redAdd(wr);y=br.redSqr().redISub(Sr),b=this.y.redAdd(this.z).redSqr().redISub(yr).redISub(dr);var Rr=yr.redSqr();Rr=Rr.redIAdd(Rr),Rr=Rr.redIAdd(Rr),Rr=Rr.redIAdd(Rr),v=br.redMul(wr.redISub(y)).redISub(Rr)}return this.curve.jpoint(y,v,b)},p.prototype._dbl=function(){var y=this.curve.a,v=this.x,b=this.y,w=this.z,S=w.redSqr().redSqr(),P=v.redSqr(),R=b.redSqr(),T=P.redAdd(P).redIAdd(P).redIAdd(y.redMul(S)),k=v.redAdd(v);k=k.redIAdd(k);var or=k.redMul(R),dr=T.redSqr().redISub(or.redAdd(or)),yr=or.redISub(dr),lr=R.redSqr();lr=lr.redIAdd(lr),lr=lr.redIAdd(lr),lr=lr.redIAdd(lr);var br=T.redMul(yr).redISub(lr),wr=b.redAdd(b).redMul(w);return this.curve.jpoint(dr,br,wr)},p.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var y=this.x.redSqr(),v=this.y.redSqr(),b=this.z.redSqr(),w=v.redSqr(),S=y.redAdd(y).redIAdd(y),P=S.redSqr(),R=this.x.redAdd(v).redSqr().redISub(y).redISub(w);R=R.redIAdd(R),R=R.redAdd(R).redIAdd(R),R=R.redISub(P);var T=R.redSqr(),k=w.redIAdd(w);k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var or=S.redIAdd(R).redSqr().redISub(P).redISub(T).redISub(k),dr=v.redMul(or);dr=dr.redIAdd(dr),dr=dr.redIAdd(dr);var yr=this.x.redMul(T).redISub(dr);yr=yr.redIAdd(yr),yr=yr.redIAdd(yr);var lr=this.y.redMul(or.redMul(k.redISub(or)).redISub(R.redMul(T)));lr=lr.redIAdd(lr),lr=lr.redIAdd(lr),lr=lr.redIAdd(lr);var br=this.z.redAdd(R).redSqr().redISub(b).redISub(T);return this.curve.jpoint(yr,lr,br)},p.prototype.mul=function(y,v){return y=new s(y,v),this.curve._wnafMul(this,y)},p.prototype.eq=function(y){if(y.type==="affine")return this.eq(y.toJ());if(this===y)return!0;var v=this.z.redSqr(),b=y.z.redSqr();if(this.x.redMul(b).redISub(y.x.redMul(v)).cmpn(0)!==0)return!1;var w=v.redMul(this.z),S=b.redMul(y.z);return this.y.redMul(S).redISub(y.y.redMul(w)).cmpn(0)===0},p.prototype.eqXToP=function(y){var v=this.z.redSqr(),b=y.toRed(this.curve.red).redMul(v);if(this.x.cmp(b)===0)return!0;for(var w=y.clone(),S=this.curve.redN.redMul(v);;){if(w.iadd(this.curve.n),w.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(S),this.x.cmp(b)===0)return!0}},p.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},p.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var e=requireBn(),s=requireInherits_browser(),o=requireBase(),a=requireUtils$1();function c(h){o.call(this,"mont",h),this.a=new e(h.a,16).toRed(this.red),this.b=new e(h.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}s(c,o),mont=c,c.prototype.validate=function(p){var m=p.normalize().x,y=m.redSqr(),v=y.redMul(m).redAdd(y.redMul(this.a)).redAdd(m),b=v.redSqrt();return b.redSqr().cmp(v)===0};function u(h,p,m){o.BasePoint.call(this,h,"projective"),p===null&&m===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(p,16),this.z=new e(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return s(u,o.BasePoint),c.prototype.decodePoint=function(p,m){return this.point(a.toArray(p,m),1)},c.prototype.point=function(p,m){return new u(this,p,m)},c.prototype.pointFromJSON=function(p){return u.fromJSON(this,p)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(p,m){return new u(p,m[0],m[1]||p.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var p=this.x.redAdd(this.z),m=p.redSqr(),y=this.x.redSub(this.z),v=y.redSqr(),b=m.redSub(v),w=m.redMul(v),S=b.redMul(v.redAdd(this.curve.a24.redMul(b)));return this.curve.point(w,S)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(p,m){var y=this.x.redAdd(this.z),v=this.x.redSub(this.z),b=p.x.redAdd(p.z),w=p.x.redSub(p.z),S=w.redMul(y),P=b.redMul(v),R=m.z.redMul(S.redAdd(P).redSqr()),T=m.x.redMul(S.redISub(P).redSqr());return this.curve.point(R,T)},u.prototype.mul=function(p){for(var m=p.clone(),y=this,v=this.curve.point(null,null),b=this,w=[];m.cmpn(0)!==0;m.iushrn(1))w.push(m.andln(1));for(var S=w.length-1;S>=0;S--)w[S]===0?(y=y.diffAdd(v,b),v=v.dbl()):(v=y.diffAdd(v,b),y=y.dbl());return v},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var e=requireUtils$1(),s=requireBn(),o=requireInherits_browser(),a=requireBase(),c=e.assert;function u(p){this.twisted=(p.a|0)!==1,this.mOneA=this.twisted&&(p.a|0)===-1,this.extended=this.mOneA,a.call(this,"edwards",p),this.a=new s(p.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(p.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(p.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(p.c|0)===1}o(u,a),edwards=u,u.prototype._mulA=function(m){return this.mOneA?m.redNeg():this.a.redMul(m)},u.prototype._mulC=function(m){return this.oneC?m:this.c.redMul(m)},u.prototype.jpoint=function(m,y,v,b){return this.point(m,y,v,b)},u.prototype.pointFromX=function(m,y){m=new s(m,16),m.red||(m=m.toRed(this.red));var v=m.redSqr(),b=this.c2.redSub(this.a.redMul(v)),w=this.one.redSub(this.c2.redMul(this.d).redMul(v)),S=b.redMul(w.redInvm()),P=S.redSqrt();if(P.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");var R=P.fromRed().isOdd();return(y&&!R||!y&&R)&&(P=P.redNeg()),this.point(m,P)},u.prototype.pointFromY=function(m,y){m=new s(m,16),m.red||(m=m.toRed(this.red));var v=m.redSqr(),b=v.redSub(this.c2),w=v.redMul(this.d).redMul(this.c2).redSub(this.a),S=b.redMul(w.redInvm());if(S.cmp(this.zero)===0){if(y)throw new Error("invalid point");return this.point(this.zero,m)}var P=S.redSqrt();if(P.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");return P.fromRed().isOdd()!==y&&(P=P.redNeg()),this.point(P,m)},u.prototype.validate=function(m){if(m.isInfinity())return!0;m.normalize();var y=m.x.redSqr(),v=m.y.redSqr(),b=y.redMul(this.a).redAdd(v),w=this.c2.redMul(this.one.redAdd(this.d.redMul(y).redMul(v)));return b.cmp(w)===0};function h(p,m,y,v,b){a.BasePoint.call(this,p,"projective"),m===null&&y===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(m,16),this.y=new s(y,16),this.z=v?new s(v,16):this.curve.one,this.t=b&&new s(b,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return o(h,a.BasePoint),u.prototype.pointFromJSON=function(m){return h.fromJSON(this,m)},u.prototype.point=function(m,y,v,b){return new h(this,m,y,v,b)},h.fromJSON=function(m,y){return new h(m,y[0],y[1],y[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var m=this.x.redSqr(),y=this.y.redSqr(),v=this.z.redSqr();v=v.redIAdd(v);var b=this.curve._mulA(m),w=this.x.redAdd(this.y).redSqr().redISub(m).redISub(y),S=b.redAdd(y),P=S.redSub(v),R=b.redSub(y),T=w.redMul(P),k=S.redMul(R),or=w.redMul(R),dr=P.redMul(S);return this.curve.point(T,k,dr,or)},h.prototype._projDbl=function(){var m=this.x.redAdd(this.y).redSqr(),y=this.x.redSqr(),v=this.y.redSqr(),b,w,S,P,R,T;if(this.curve.twisted){P=this.curve._mulA(y);var k=P.redAdd(v);this.zOne?(b=m.redSub(y).redSub(v).redMul(k.redSub(this.curve.two)),w=k.redMul(P.redSub(v)),S=k.redSqr().redSub(k).redSub(k)):(R=this.z.redSqr(),T=k.redSub(R).redISub(R),b=m.redSub(y).redISub(v).redMul(T),w=k.redMul(P.redSub(v)),S=k.redMul(T))}else P=y.redAdd(v),R=this.curve._mulC(this.z).redSqr(),T=P.redSub(R).redSub(R),b=this.curve._mulC(m.redISub(P)).redMul(T),w=this.curve._mulC(P).redMul(y.redISub(v)),S=P.redMul(T);return this.curve.point(b,w,S)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(m){var y=this.y.redSub(this.x).redMul(m.y.redSub(m.x)),v=this.y.redAdd(this.x).redMul(m.y.redAdd(m.x)),b=this.t.redMul(this.curve.dd).redMul(m.t),w=this.z.redMul(m.z.redAdd(m.z)),S=v.redSub(y),P=w.redSub(b),R=w.redAdd(b),T=v.redAdd(y),k=S.redMul(P),or=R.redMul(T),dr=S.redMul(T),yr=P.redMul(R);return this.curve.point(k,or,yr,dr)},h.prototype._projAdd=function(m){var y=this.z.redMul(m.z),v=y.redSqr(),b=this.x.redMul(m.x),w=this.y.redMul(m.y),S=this.curve.d.redMul(b).redMul(w),P=v.redSub(S),R=v.redAdd(S),T=this.x.redAdd(this.y).redMul(m.x.redAdd(m.y)).redISub(b).redISub(w),k=y.redMul(P).redMul(T),or,dr;return this.curve.twisted?(or=y.redMul(R).redMul(w.redSub(this.curve._mulA(b))),dr=P.redMul(R)):(or=y.redMul(R).redMul(w.redSub(b)),dr=this.curve._mulC(P).redMul(R)),this.curve.point(k,or,dr)},h.prototype.add=function(m){return this.isInfinity()?m:m.isInfinity()?this:this.curve.extended?this._extAdd(m):this._projAdd(m)},h.prototype.mul=function(m){return this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve._wnafMul(this,m)},h.prototype.mulAdd=function(m,y,v){return this.curve._wnafMulAdd(1,[this,y],[m,v],2,!1)},h.prototype.jmulAdd=function(m,y,v){return this.curve._wnafMulAdd(1,[this,y],[m,v],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var m=this.z.redInvm();return this.x=this.x.redMul(m),this.y=this.y.redMul(m),this.t&&(this.t=this.t.redMul(m)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(m){return this===m||this.getX().cmp(m.getX())===0&&this.getY().cmp(m.getY())===0},h.prototype.eqXToP=function(m){var y=m.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(y)===0)return!0;for(var v=m.clone(),b=this.curve.redN.redMul(this.z);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(b),this.x.cmp(y)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(e){var s=e;s.base=requireBase(),s.short=requireShort(),s.mont=requireMont(),s.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var e=requireMinimalisticAssert(),s=requireInherits_browser();utils.inherits=s;function o(C,B){return(C.charCodeAt(B)&64512)!==55296||B<0||B+1>=C.length?!1:(C.charCodeAt(B+1)&64512)===56320}function a(C,B){if(Array.isArray(C))return C.slice();if(!C)return[];var ur=[];if(typeof C=="string")if(B){if(B==="hex")for(C=C.replace(/[^a-z0-9]+/ig,""),C.length%2!==0&&(C="0"+C),H=0;H<C.length;H+=2)ur.push(parseInt(C[H]+C[H+1],16))}else for(var er=0,H=0;H<C.length;H++){var pr=C.charCodeAt(H);pr<128?ur[er++]=pr:pr<2048?(ur[er++]=pr>>6|192,ur[er++]=pr&63|128):o(C,H)?(pr=65536+((pr&1023)<<10)+(C.charCodeAt(++H)&1023),ur[er++]=pr>>18|240,ur[er++]=pr>>12&63|128,ur[er++]=pr>>6&63|128,ur[er++]=pr&63|128):(ur[er++]=pr>>12|224,ur[er++]=pr>>6&63|128,ur[er++]=pr&63|128)}else for(H=0;H<C.length;H++)ur[H]=C[H]|0;return ur}utils.toArray=a;function c(C){for(var B="",ur=0;ur<C.length;ur++)B+=p(C[ur].toString(16));return B}utils.toHex=c;function u(C){var B=C>>>24|C>>>8&65280|C<<8&16711680|(C&255)<<24;return B>>>0}utils.htonl=u;function h(C,B){for(var ur="",er=0;er<C.length;er++){var H=C[er];B==="little"&&(H=u(H)),ur+=m(H.toString(16))}return ur}utils.toHex32=h;function p(C){return C.length===1?"0"+C:C}utils.zero2=p;function m(C){return C.length===7?"0"+C:C.length===6?"00"+C:C.length===5?"000"+C:C.length===4?"0000"+C:C.length===3?"00000"+C:C.length===2?"000000"+C:C.length===1?"0000000"+C:C}utils.zero8=m;function y(C,B,ur,er){var H=ur-B;e(H%4===0);for(var pr=new Array(H/4),hr=0,mr=B;hr<pr.length;hr++,mr+=4){var $;er==="big"?$=C[mr]<<24|C[mr+1]<<16|C[mr+2]<<8|C[mr+3]:$=C[mr+3]<<24|C[mr+2]<<16|C[mr+1]<<8|C[mr],pr[hr]=$>>>0}return pr}utils.join32=y;function v(C,B){for(var ur=new Array(C.length*4),er=0,H=0;er<C.length;er++,H+=4){var pr=C[er];B==="big"?(ur[H]=pr>>>24,ur[H+1]=pr>>>16&255,ur[H+2]=pr>>>8&255,ur[H+3]=pr&255):(ur[H+3]=pr>>>24,ur[H+2]=pr>>>16&255,ur[H+1]=pr>>>8&255,ur[H]=pr&255)}return ur}utils.split32=v;function b(C,B){return C>>>B|C<<32-B}utils.rotr32=b;function w(C,B){return C<<B|C>>>32-B}utils.rotl32=w;function S(C,B){return C+B>>>0}utils.sum32=S;function P(C,B,ur){return C+B+ur>>>0}utils.sum32_3=P;function R(C,B,ur,er){return C+B+ur+er>>>0}utils.sum32_4=R;function T(C,B,ur,er,H){return C+B+ur+er+H>>>0}utils.sum32_5=T;function k(C,B,ur,er){var H=C[B],pr=C[B+1],hr=er+pr>>>0,mr=(hr<er?1:0)+ur+H;C[B]=mr>>>0,C[B+1]=hr}utils.sum64=k;function or(C,B,ur,er){var H=B+er>>>0,pr=(H<B?1:0)+C+ur;return pr>>>0}utils.sum64_hi=or;function dr(C,B,ur,er){var H=B+er;return H>>>0}utils.sum64_lo=dr;function yr(C,B,ur,er,H,pr,hr,mr){var $=0,fr=B;fr=fr+er>>>0,$+=fr<B?1:0,fr=fr+pr>>>0,$+=fr<pr?1:0,fr=fr+mr>>>0,$+=fr<mr?1:0;var Ar=C+ur+H+hr+$;return Ar>>>0}utils.sum64_4_hi=yr;function lr(C,B,ur,er,H,pr,hr,mr){var $=B+er+pr+mr;return $>>>0}utils.sum64_4_lo=lr;function br(C,B,ur,er,H,pr,hr,mr,$,fr){var Ar=0,Or=B;Or=Or+er>>>0,Ar+=Or<B?1:0,Or=Or+pr>>>0,Ar+=Or<pr?1:0,Or=Or+mr>>>0,Ar+=Or<mr?1:0,Or=Or+fr>>>0,Ar+=Or<fr?1:0;var jr=C+ur+H+hr+$+Ar;return jr>>>0}utils.sum64_5_hi=br;function wr(C,B,ur,er,H,pr,hr,mr,$,fr){var Ar=B+er+pr+mr+fr;return Ar>>>0}utils.sum64_5_lo=wr;function Sr(C,B,ur){var er=B<<32-ur|C>>>ur;return er>>>0}utils.rotr64_hi=Sr;function Rr(C,B,ur){var er=C<<32-ur|B>>>ur;return er>>>0}utils.rotr64_lo=Rr;function Ir(C,B,ur){return C>>>ur}utils.shr64_hi=Ir;function xr(C,B,ur){var er=C<<32-ur|B>>>ur;return er>>>0}return utils.shr64_lo=xr,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var e=requireUtils(),s=requireMinimalisticAssert();function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=o,o.prototype.update=function(c,u){if(c=e.toArray(c,u),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){c=this.pending;var h=c.length%this._delta8;this.pending=c.slice(c.length-h,c.length),this.pending.length===0&&(this.pending=null),c=e.join32(c,0,c.length-h,this.endian);for(var p=0;p<c.length;p+=this._delta32)this._update(c,p,p+this._delta32)}return this},o.prototype.digest=function(c){return this.update(this._pad()),s(this.pending===null),this._digest(c)},o.prototype._pad=function(){var c=this.pendingTotal,u=this._delta8,h=u-(c+this.padLength)%u,p=new Array(h+this.padLength);p[0]=128;for(var m=1;m<h;m++)p[m]=0;if(c<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)p[m++]=0;p[m++]=0,p[m++]=0,p[m++]=0,p[m++]=0,p[m++]=c>>>24&255,p[m++]=c>>>16&255,p[m++]=c>>>8&255,p[m++]=c&255}else for(p[m++]=c&255,p[m++]=c>>>8&255,p[m++]=c>>>16&255,p[m++]=c>>>24&255,p[m++]=0,p[m++]=0,p[m++]=0,p[m++]=0,y=8;y<this.padLength;y++)p[m++]=0;return p},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var e=requireUtils(),s=e.rotr32;function o(v,b,w,S){if(v===0)return a(b,w,S);if(v===1||v===3)return u(b,w,S);if(v===2)return c(b,w,S)}common.ft_1=o;function a(v,b,w){return v&b^~v&w}common.ch32=a;function c(v,b,w){return v&b^v&w^b&w}common.maj32=c;function u(v,b,w){return v^b^w}common.p32=u;function h(v){return s(v,2)^s(v,13)^s(v,22)}common.s0_256=h;function p(v){return s(v,6)^s(v,11)^s(v,25)}common.s1_256=p;function m(v){return s(v,7)^s(v,18)^v>>>3}common.g0_256=m;function y(v){return s(v,17)^s(v,19)^v>>>10}return common.g1_256=y,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var e=requireUtils(),s=requireCommon$1(),o=requireCommon(),a=e.rotl32,c=e.sum32,u=e.sum32_5,h=o.ft_1,p=s.BlockHash,m=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(y,p),_1=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(b,w){for(var S=this.W,P=0;P<16;P++)S[P]=b[w+P];for(;P<S.length;P++)S[P]=a(S[P-3]^S[P-8]^S[P-14]^S[P-16],1);var R=this.h[0],T=this.h[1],k=this.h[2],or=this.h[3],dr=this.h[4];for(P=0;P<S.length;P++){var yr=~~(P/20),lr=u(a(R,5),h(yr,T,k,or),dr,S[P],m[yr]);dr=or,or=k,k=a(T,30),T=R,R=lr}this.h[0]=c(this.h[0],R),this.h[1]=c(this.h[1],T),this.h[2]=c(this.h[2],k),this.h[3]=c(this.h[3],or),this.h[4]=c(this.h[4],dr)},y.prototype._digest=function(b){return b==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var e=requireUtils(),s=requireCommon$1(),o=requireCommon(),a=requireMinimalisticAssert(),c=e.sum32,u=e.sum32_4,h=e.sum32_5,p=o.ch32,m=o.maj32,y=o.s0_256,v=o.s1_256,b=o.g0_256,w=o.g1_256,S=s.BlockHash,P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function R(){if(!(this instanceof R))return new R;S.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=P,this.W=new Array(64)}return e.inherits(R,S),_256=R,R.blockSize=512,R.outSize=256,R.hmacStrength=192,R.padLength=64,R.prototype._update=function(k,or){for(var dr=this.W,yr=0;yr<16;yr++)dr[yr]=k[or+yr];for(;yr<dr.length;yr++)dr[yr]=u(w(dr[yr-2]),dr[yr-7],b(dr[yr-15]),dr[yr-16]);var lr=this.h[0],br=this.h[1],wr=this.h[2],Sr=this.h[3],Rr=this.h[4],Ir=this.h[5],xr=this.h[6],C=this.h[7];for(a(this.k.length===dr.length),yr=0;yr<dr.length;yr++){var B=h(C,v(Rr),p(Rr,Ir,xr),this.k[yr],dr[yr]),ur=c(y(lr),m(lr,br,wr));C=xr,xr=Ir,Ir=Rr,Rr=c(Sr,B),Sr=wr,wr=br,br=lr,lr=c(B,ur)}this.h[0]=c(this.h[0],lr),this.h[1]=c(this.h[1],br),this.h[2]=c(this.h[2],wr),this.h[3]=c(this.h[3],Sr),this.h[4]=c(this.h[4],Rr),this.h[5]=c(this.h[5],Ir),this.h[6]=c(this.h[6],xr),this.h[7]=c(this.h[7],C)},R.prototype._digest=function(k){return k==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var e=requireUtils(),s=require_256();function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(o,s),_224=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(c){return c==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var e=requireUtils(),s=requireCommon$1(),o=requireMinimalisticAssert(),a=e.rotr64_hi,c=e.rotr64_lo,u=e.shr64_hi,h=e.shr64_lo,p=e.sum64,m=e.sum64_hi,y=e.sum64_lo,v=e.sum64_4_hi,b=e.sum64_4_lo,w=e.sum64_5_hi,S=e.sum64_5_lo,P=s.BlockHash,R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;P.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=R,this.W=new Array(160)}e.inherits(T,P),_512=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(ur,er){for(var H=this.W,pr=0;pr<32;pr++)H[pr]=ur[er+pr];for(;pr<H.length;pr+=2){var hr=xr(H[pr-4],H[pr-3]),mr=C(H[pr-4],H[pr-3]),$=H[pr-14],fr=H[pr-13],Ar=Rr(H[pr-30],H[pr-29]),Or=Ir(H[pr-30],H[pr-29]),jr=H[pr-32],Ur=H[pr-31];H[pr]=v(hr,mr,$,fr,Ar,Or,jr,Ur),H[pr+1]=b(hr,mr,$,fr,Ar,Or,jr,Ur)}},T.prototype._update=function(ur,er){this._prepareBlock(ur,er);var H=this.W,pr=this.h[0],hr=this.h[1],mr=this.h[2],$=this.h[3],fr=this.h[4],Ar=this.h[5],Or=this.h[6],jr=this.h[7],Ur=this.h[8],qr=this.h[9],Lr=this.h[10],Wr=this.h[11],Vr=this.h[12],Gr=this.h[13],un=this.h[14],Jr=this.h[15];o(this.k.length===H.length);for(var Qr=0;Qr<H.length;Qr+=2){var vn=un,hn=Jr,pn=wr(Ur,qr),Xn=Sr(Ur,qr),An=k(Ur,qr,Lr,Wr,Vr),En=or(Ur,qr,Lr,Wr,Vr,Gr),xi=this.k[Qr],xn=this.k[Qr+1],yn=H[Qr],Bi=H[Qr+1],Pn=w(vn,hn,pn,Xn,An,En,xi,xn,yn,Bi),gn=S(vn,hn,pn,Xn,An,En,xi,xn,yn,Bi);vn=lr(pr,hr),hn=br(pr,hr),pn=dr(pr,hr,mr,$,fr),Xn=yr(pr,hr,mr,$,fr,Ar);var Zi=m(vn,hn,pn,Xn),vr=y(vn,hn,pn,Xn);un=Vr,Jr=Gr,Vr=Lr,Gr=Wr,Lr=Ur,Wr=qr,Ur=m(Or,jr,Pn,gn),qr=y(jr,jr,Pn,gn),Or=fr,jr=Ar,fr=mr,Ar=$,mr=pr,$=hr,pr=m(Pn,gn,Zi,vr),hr=y(Pn,gn,Zi,vr)}p(this.h,0,pr,hr),p(this.h,2,mr,$),p(this.h,4,fr,Ar),p(this.h,6,Or,jr),p(this.h,8,Ur,qr),p(this.h,10,Lr,Wr),p(this.h,12,Vr,Gr),p(this.h,14,un,Jr)},T.prototype._digest=function(ur){return ur==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function k(B,ur,er,H,pr){var hr=B&er^~B&pr;return hr<0&&(hr+=4294967296),hr}function or(B,ur,er,H,pr,hr){var mr=ur&H^~ur&hr;return mr<0&&(mr+=4294967296),mr}function dr(B,ur,er,H,pr){var hr=B&er^B&pr^er&pr;return hr<0&&(hr+=4294967296),hr}function yr(B,ur,er,H,pr,hr){var mr=ur&H^ur&hr^H&hr;return mr<0&&(mr+=4294967296),mr}function lr(B,ur){var er=a(B,ur,28),H=a(ur,B,2),pr=a(ur,B,7),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}function br(B,ur){var er=c(B,ur,28),H=c(ur,B,2),pr=c(ur,B,7),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}function wr(B,ur){var er=a(B,ur,14),H=a(B,ur,18),pr=a(ur,B,9),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}function Sr(B,ur){var er=c(B,ur,14),H=c(B,ur,18),pr=c(ur,B,9),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}function Rr(B,ur){var er=a(B,ur,1),H=a(B,ur,8),pr=u(B,ur,7),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}function Ir(B,ur){var er=c(B,ur,1),H=c(B,ur,8),pr=h(B,ur,7),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}function xr(B,ur){var er=a(B,ur,19),H=a(ur,B,29),pr=u(B,ur,6),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}function C(B,ur){var er=c(B,ur,19),H=c(ur,B,29),pr=h(B,ur,6),hr=er^H^pr;return hr<0&&(hr+=4294967296),hr}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var e=requireUtils(),s=require_512();function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(o,s),_384=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(c){return c==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var e=requireUtils(),s=requireCommon$1(),o=e.rotl32,a=e.sum32,c=e.sum32_3,u=e.sum32_4,h=s.BlockHash;function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(p,h),ripemd.ripemd160=p,p.blockSize=512,p.outSize=160,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(T,k){for(var or=this.h[0],dr=this.h[1],yr=this.h[2],lr=this.h[3],br=this.h[4],wr=or,Sr=dr,Rr=yr,Ir=lr,xr=br,C=0;C<80;C++){var B=a(o(u(or,m(C,dr,yr,lr),T[b[C]+k],y(C)),S[C]),br);or=br,br=lr,lr=o(yr,10),yr=dr,dr=B,B=a(o(u(wr,m(79-C,Sr,Rr,Ir),T[w[C]+k],v(C)),P[C]),xr),wr=xr,xr=Ir,Ir=o(Rr,10),Rr=Sr,Sr=B}B=c(this.h[1],yr,Ir),this.h[1]=c(this.h[2],lr,xr),this.h[2]=c(this.h[3],br,wr),this.h[3]=c(this.h[4],or,Sr),this.h[4]=c(this.h[0],dr,Rr),this.h[0]=B},p.prototype._digest=function(T){return T==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function m(R,T,k,or){return R<=15?T^k^or:R<=31?T&k|~T&or:R<=47?(T|~k)^or:R<=63?T&or|k&~or:T^(k|~or)}function y(R){return R<=15?0:R<=31?1518500249:R<=47?1859775393:R<=63?2400959708:2840853838}function v(R){return R<=15?1352829926:R<=31?1548603684:R<=47?1836072691:R<=63?2053994217:0}var b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var e=requireUtils(),s=requireMinimalisticAssert();function o(a,c,u){if(!(this instanceof o))return new o(a,c,u);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(c,u))}return hmac=o,o.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),s(c.length<=this.blockSize);for(var u=c.length;u<this.blockSize;u++)c.push(0);for(u=0;u<c.length;u++)c[u]^=54;for(this.inner=new this.Hash().update(c),u=0;u<c.length;u++)c[u]^=106;this.outer=new this.Hash().update(c)},o.prototype.update=function(c,u){return this.inner.update(c,u),this},o.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(e){var s=e;s.utils=requireUtils(),s.common=requireCommon$1(),s.sha=requireSha(),s.ripemd=requireRipemd(),s.hmac=requireHmac(),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(e){var s=e,o=requireHash(),a=requireCurve(),c=requireUtils$1(),u=c.assert;function h(y){y.type==="short"?this.curve=new a.short(y):y.type==="edwards"?this.curve=new a.edwards(y):this.curve=new a.mont(y),this.g=this.curve.g,this.n=this.curve.n,this.hash=y.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}s.PresetCurve=h;function p(y,v){Object.defineProperty(s,y,{configurable:!0,enumerable:!0,get:function(){var b=new h(v);return Object.defineProperty(s,y,{configurable:!0,enumerable:!0,value:b}),b}})}p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var m;try{m=requireSecp256k1()}catch{m=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",m]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var e=requireHash(),s=requireUtils$2(),o=requireMinimalisticAssert();function a(c){if(!(this instanceof a))return new a(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=s.toArray(c.entropy,c.entropyEnc||"hex"),h=s.toArray(c.nonce,c.nonceEnc||"hex"),p=s.toArray(c.pers,c.persEnc||"hex");o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,h,p)}return hmacDrbg=a,a.prototype._init=function(u,h,p){var m=u.concat(h).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var y=0;y<this.V.length;y++)this.K[y]=0,this.V[y]=1;this._update(m),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},a.prototype._update=function(u){var h=this._hmac().update(this.V).update([0]);u&&(h=h.update(u)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(u,h,p,m){typeof h!="string"&&(m=p,p=h,h=null),u=s.toArray(u,h),p=s.toArray(p,m),o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(p||[])),this._reseed=1},a.prototype.generate=function(u,h,p,m){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof h!="string"&&(m=p,p=h,h=null),p&&(p=s.toArray(p,m||"hex"),this._update(p));for(var y=[];y.length<u;)this.V=this._hmac().update(this.V).digest(),y=y.concat(this.V);var v=y.slice(0,u);return this._update(p),this._reseed++,s.encode(v,h)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var e=requireBn(),s=requireUtils$1(),o=s.assert;function a(c,u){this.ec=c,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}return key$1=a,a.fromPublic=function(u,h,p){return h instanceof a?h:new a(u,{pub:h,pubEnc:p})},a.fromPrivate=function(u,h,p){return h instanceof a?h:new a(u,{priv:h,privEnc:p})},a.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(u,h){return typeof u=="string"&&(h=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),h?this.pub.encode(h,u):this.pub},a.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(u,h){this.priv=new e(u,h||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(u,h){if(u.x||u.y){this.ec.curve.type==="mont"?o(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&o(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,h)},a.prototype.derive=function(u){return u.validate()||o(u.validate(),"public point not validated"),u.mul(this.priv).getX()},a.prototype.sign=function(u,h,p){return this.ec.sign(u,this,h,p)},a.prototype.verify=function(u,h,p){return this.ec.verify(u,h,this,void 0,p)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var e=requireBn(),s=requireUtils$1(),o=s.assert;function a(m,y){if(m instanceof a)return m;this._importDER(m,y)||(o(m.r&&m.s,"Signature without r or s"),this.r=new e(m.r,16),this.s=new e(m.s,16),m.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=m.recoveryParam)}signature$1=a;function c(){this.place=0}function u(m,y){var v=m[y.place++];if(!(v&128))return v;var b=v&15;if(b===0||b>4||m[y.place]===0)return!1;for(var w=0,S=0,P=y.place;S<b;S++,P++)w<<=8,w|=m[P],w>>>=0;return w<=127?!1:(y.place=P,w)}function h(m){for(var y=0,v=m.length-1;!m[y]&&!(m[y+1]&128)&&y<v;)y++;return y===0?m:m.slice(y)}a.prototype._importDER=function(y,v){y=s.toArray(y,v);var b=new c;if(y[b.place++]!==48)return!1;var w=u(y,b);if(w===!1||w+b.place!==y.length||y[b.place++]!==2)return!1;var S=u(y,b);if(S===!1||(y[b.place]&128)!==0)return!1;var P=y.slice(b.place,S+b.place);if(b.place+=S,y[b.place++]!==2)return!1;var R=u(y,b);if(R===!1||y.length!==R+b.place||(y[b.place]&128)!==0)return!1;var T=y.slice(b.place,R+b.place);if(P[0]===0)if(P[1]&128)P=P.slice(1);else return!1;if(T[0]===0)if(T[1]&128)T=T.slice(1);else return!1;return this.r=new e(P),this.s=new e(T),this.recoveryParam=null,!0};function p(m,y){if(y<128){m.push(y);return}var v=1+(Math.log(y)/Math.LN2>>>3);for(m.push(v|128);--v;)m.push(y>>>(v<<3)&255);m.push(y)}return a.prototype.toDER=function(y){var v=this.r.toArray(),b=this.s.toArray();for(v[0]&128&&(v=[0].concat(v)),b[0]&128&&(b=[0].concat(b)),v=h(v),b=h(b);!b[0]&&!(b[1]&128);)b=b.slice(1);var w=[2];p(w,v.length),w=w.concat(v),w.push(2),p(w,b.length);var S=w.concat(b),P=[48];return p(P,S.length),P=P.concat(S),s.encode(P,y)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var e=requireBn(),s=requireHmacDrbg(),o=requireUtils$1(),a=requireCurves(),c=requireBrorand(),u=o.assert,h=requireKey$1(),p=requireSignature$1();function m(y){if(!(this instanceof m))return new m(y);typeof y=="string"&&(u(Object.prototype.hasOwnProperty.call(a,y),"Unknown curve "+y),y=a[y]),y instanceof a.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}return ec=m,m.prototype.keyPair=function(v){return new h(this,v)},m.prototype.keyFromPrivate=function(v,b){return h.fromPrivate(this,v,b)},m.prototype.keyFromPublic=function(v,b){return h.fromPublic(this,v,b)},m.prototype.genKeyPair=function(v){v||(v={});for(var b=new s({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||c(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),w=this.n.byteLength(),S=this.n.sub(new e(2));;){var P=new e(b.generate(w));if(!(P.cmp(S)>0))return P.iaddn(1),this.keyFromPrivate(P)}},m.prototype._truncateToN=function(v,b,w){var S;if(e.isBN(v)||typeof v=="number")v=new e(v,16),S=v.byteLength();else if(typeof v=="object")S=v.length,v=new e(v,16);else{var P=v.toString();S=P.length+1>>>1,v=new e(P,16)}typeof w!="number"&&(w=S*8);var R=w-this.n.bitLength();return R>0&&(v=v.ushrn(R)),!b&&v.cmp(this.n)>=0?v.sub(this.n):v},m.prototype.sign=function(v,b,w,S){if(typeof w=="object"&&(S=w,w=null),S||(S={}),typeof v!="string"&&typeof v!="number"&&!e.isBN(v)){u(typeof v=="object"&&v&&typeof v.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),u(v.length>>>0===v.length);for(var P=0;P<v.length;P++)u((v[P]&255)===v[P])}b=this.keyFromPrivate(b,w),v=this._truncateToN(v,!1,S.msgBitLength),u(!v.isNeg(),"Can not sign a negative message");var R=this.n.byteLength(),T=b.getPrivate().toArray("be",R),k=v.toArray("be",R);u(new e(k).eq(v),"Can not sign message");for(var or=new s({hash:this.hash,entropy:T,nonce:k,pers:S.pers,persEnc:S.persEnc||"utf8"}),dr=this.n.sub(new e(1)),yr=0;;yr++){var lr=S.k?S.k(yr):new e(or.generate(this.n.byteLength()));if(lr=this._truncateToN(lr,!0),!(lr.cmpn(1)<=0||lr.cmp(dr)>=0)){var br=this.g.mul(lr);if(!br.isInfinity()){var wr=br.getX(),Sr=wr.umod(this.n);if(Sr.cmpn(0)!==0){var Rr=lr.invm(this.n).mul(Sr.mul(b.getPrivate()).iadd(v));if(Rr=Rr.umod(this.n),Rr.cmpn(0)!==0){var Ir=(br.getY().isOdd()?1:0)|(wr.cmp(Sr)!==0?2:0);return S.canonical&&Rr.cmp(this.nh)>0&&(Rr=this.n.sub(Rr),Ir^=1),new p({r:Sr,s:Rr,recoveryParam:Ir})}}}}}},m.prototype.verify=function(v,b,w,S,P){P||(P={}),v=this._truncateToN(v,!1,P.msgBitLength),w=this.keyFromPublic(w,S),b=new p(b,"hex");var R=b.r,T=b.s;if(R.cmpn(1)<0||R.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var k=T.invm(this.n),or=k.mul(v).umod(this.n),dr=k.mul(R).umod(this.n),yr;return this.curve._maxwellTrick?(yr=this.g.jmulAdd(or,w.getPublic(),dr),yr.isInfinity()?!1:yr.eqXToP(R)):(yr=this.g.mulAdd(or,w.getPublic(),dr),yr.isInfinity()?!1:yr.getX().umod(this.n).cmp(R)===0)},m.prototype.recoverPubKey=function(y,v,b,w){u((3&b)===b,"The recovery param is more than two bits"),v=new p(v,w);var S=this.n,P=new e(y),R=v.r,T=v.s,k=b&1,or=b>>1;if(R.cmp(this.curve.p.umod(this.curve.n))>=0&&or)throw new Error("Unable to find sencond key candinate");or?R=this.curve.pointFromX(R.add(this.curve.n),k):R=this.curve.pointFromX(R,k);var dr=v.r.invm(S),yr=S.sub(P).mul(dr).umod(S),lr=T.mul(dr).umod(S);return this.g.mulAdd(yr,R,lr)},m.prototype.getKeyRecoveryParam=function(y,v,b,w){if(v=new p(v,w),v.recoveryParam!==null)return v.recoveryParam;for(var S=0;S<4;S++){var P;try{P=this.recoverPubKey(y,v,S)}catch{continue}if(P.eq(b))return S}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var e=requireUtils$1(),s=e.assert,o=e.parseBytes,a=e.cachedProperty;function c(u,h){this.eddsa=u,this._secret=o(h.secret),u.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=o(h.pub)}return c.fromPublic=function(h,p){return p instanceof c?p:new c(h,{pub:p})},c.fromSecret=function(h,p){return p instanceof c?p:new c(h,{secret:p})},c.prototype.secret=function(){return this._secret},a(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(c,"privBytes",function(){var h=this.eddsa,p=this.hash(),m=h.encodingLength-1,y=p.slice(0,h.encodingLength);return y[0]&=248,y[m]&=127,y[m]|=64,y}),a(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(h){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},c.prototype.verify=function(h,p){return this.eddsa.verify(h,p,this)},c.prototype.getSecret=function(h){return s(this._secret,"KeyPair is public only"),e.encode(this.secret(),h)},c.prototype.getPublic=function(h){return e.encode(this.pubBytes(),h)},key=c,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var e=requireBn(),s=requireUtils$1(),o=s.assert,a=s.cachedProperty,c=s.parseBytes;function u(h,p){this.eddsa=h,typeof p!="object"&&(p=c(p)),Array.isArray(p)&&(o(p.length===h.encodingLength*2,"Signature has invalid size"),p={R:p.slice(0,h.encodingLength),S:p.slice(h.encodingLength)}),o(p.R&&p.S,"Signature without R or S"),h.isPoint(p.R)&&(this._R=p.R),p.S instanceof e&&(this._S=p.S),this._Rencoded=Array.isArray(p.R)?p.R:p.Rencoded,this._Sencoded=Array.isArray(p.S)?p.S:p.Sencoded}return a(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},signature=u,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var e=requireHash(),s=requireCurves(),o=requireUtils$1(),a=o.assert,c=o.parseBytes,u=requireKey(),h=requireSignature();function p(m){if(a(m==="ed25519","only tested with ed25519 so far"),!(this instanceof p))return new p(m);m=s[m].curve,this.curve=m,this.g=m.g,this.g.precompute(m.n.bitLength()+1),this.pointClass=m.point().constructor,this.encodingLength=Math.ceil(m.n.bitLength()/8),this.hash=e.sha512}return eddsa=p,p.prototype.sign=function(y,v){y=c(y);var b=this.keyFromSecret(v),w=this.hashInt(b.messagePrefix(),y),S=this.g.mul(w),P=this.encodePoint(S),R=this.hashInt(P,b.pubBytes(),y).mul(b.priv()),T=w.add(R).umod(this.curve.n);return this.makeSignature({R:S,S:T,Rencoded:P})},p.prototype.verify=function(y,v,b){if(y=c(y),v=this.makeSignature(v),v.S().gte(v.eddsa.curve.n)||v.S().isNeg())return!1;var w=this.keyFromPublic(b),S=this.hashInt(v.Rencoded(),w.pubBytes(),y),P=this.g.mul(v.S()),R=v.R().add(w.pub().mul(S));return R.eq(P)},p.prototype.hashInt=function(){for(var y=this.hash(),v=0;v<arguments.length;v++)y.update(arguments[v]);return o.intFromLE(y.digest()).umod(this.curve.n)},p.prototype.keyFromPublic=function(y){return u.fromPublic(this,y)},p.prototype.keyFromSecret=function(y){return u.fromSecret(this,y)},p.prototype.makeSignature=function(y){return y instanceof h?y:new h(this,y)},p.prototype.encodePoint=function(y){var v=y.getY().toArray("le",this.encodingLength);return v[this.encodingLength-1]|=y.getX().isOdd()?128:0,v},p.prototype.decodePoint=function(y){y=o.parseBytes(y);var v=y.length-1,b=y.slice(0,v).concat(y[v]&-129),w=(y[v]&128)!==0,S=o.intFromLE(b);return this.curve.pointFromY(S,w)},p.prototype.encodeInt=function(y){return y.toArray("le",this.encodingLength)},p.prototype.decodeInt=function(y){return o.intFromLE(y)},p.prototype.isPoint=function(y){return y instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(e){var s=e;s.version=require$$0.version,s.utils=requireUtils$1(),s.rand=requireBrorand(),s.curve=requireCurve(),s.curves=requireCurves(),s.ec=requireEc(),s.eddsa=requireEddsa()}(elliptic)),elliptic}var ellipticExports=requireElliptic();const A=getDefaultExportFromCjs(ellipticExports);let wasm;const cachedTextDecoder=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&cachedTextDecoder.decode();let cachedUint8Memory0=null;function getUint8Memory0(){return(cachedUint8Memory0===null||cachedUint8Memory0.byteLength===0)&&(cachedUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachedUint8Memory0}function getStringFromWasm0(e,s){return e=e>>>0,cachedTextDecoder.decode(getUint8Memory0().subarray(e,e+s))}const heap=new Array(128).fill(void 0);heap.push(void 0,null,!0,!1);let heap_next=heap.length;function addHeapObject(e){heap_next===heap.length&&heap.push(heap.length+1);const s=heap_next;return heap_next=heap[s],heap[s]=e,s}function getObject(e){return heap[e]}function dropObject(e){e<132||(heap[e]=heap_next,heap_next=e)}function takeObject(e){const s=getObject(e);return dropObject(e),s}let WASM_VECTOR_LEN=0;function passArray8ToWasm0(e,s){const o=s(e.length*1,1)>>>0;return getUint8Memory0().set(e,o/1),WASM_VECTOR_LEN=e.length,o}let cachedInt32Memory0=null;function getInt32Memory0(){return(cachedInt32Memory0===null||cachedInt32Memory0.byteLength===0)&&(cachedInt32Memory0=new Int32Array(wasm.memory.buffer)),cachedInt32Memory0}function getArrayU8FromWasm0(e,s){return e=e>>>0,getUint8Memory0().subarray(e/1,e/1+s)}function user_preferences_encrypt(e,s,o){try{const m=wasm.__wbindgen_add_to_stack_pointer(-16),y=passArray8ToWasm0(e,wasm.__wbindgen_malloc),v=WASM_VECTOR_LEN,b=passArray8ToWasm0(s,wasm.__wbindgen_malloc),w=WASM_VECTOR_LEN,S=passArray8ToWasm0(o,wasm.__wbindgen_malloc),P=WASM_VECTOR_LEN;wasm.user_preferences_encrypt(m,y,v,b,w,S,P);var a=getInt32Memory0()[m/4+0],c=getInt32Memory0()[m/4+1],u=getInt32Memory0()[m/4+2],h=getInt32Memory0()[m/4+3];if(h)throw takeObject(u);var p=getArrayU8FromWasm0(a,c).slice();return wasm.__wbindgen_free(a,c*1,1),p}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}function user_preferences_decrypt(e,s,o){try{const m=wasm.__wbindgen_add_to_stack_pointer(-16),y=passArray8ToWasm0(e,wasm.__wbindgen_malloc),v=WASM_VECTOR_LEN,b=passArray8ToWasm0(s,wasm.__wbindgen_malloc),w=WASM_VECTOR_LEN,S=passArray8ToWasm0(o,wasm.__wbindgen_malloc),P=WASM_VECTOR_LEN;wasm.user_preferences_decrypt(m,y,v,b,w,S,P);var a=getInt32Memory0()[m/4+0],c=getInt32Memory0()[m/4+1],u=getInt32Memory0()[m/4+2],h=getInt32Memory0()[m/4+3];if(h)throw takeObject(u);var p=getArrayU8FromWasm0(a,c).slice();return wasm.__wbindgen_free(a,c*1,1),p}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}function generate_private_preferences_topic(e){let s,o;try{const y=wasm.__wbindgen_add_to_stack_pointer(-16),v=passArray8ToWasm0(e,wasm.__wbindgen_malloc),b=WASM_VECTOR_LEN;wasm.generate_private_preferences_topic(y,v,b);var a=getInt32Memory0()[y/4+0],c=getInt32Memory0()[y/4+1],u=getInt32Memory0()[y/4+2],h=getInt32Memory0()[y/4+3],p=a,m=c;if(h)throw p=0,m=0,takeObject(u);return s=p,o=m,getStringFromWasm0(p,m)}finally{wasm.__wbindgen_add_to_stack_pointer(16),wasm.__wbindgen_free(s,o,1)}}function handleError(e,s){try{return e.apply(this,s)}catch(o){wasm.__wbindgen_exn_store(addHeapObject(o))}}async function __wbg_load(e,s){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,s)}catch(a){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}const o=await e.arrayBuffer();return await WebAssembly.instantiate(o,s)}else{const o=await WebAssembly.instantiate(e,s);return o instanceof WebAssembly.Instance?{instance:o,module:e}:o}}function __wbg_get_imports(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(s,o){const a=getStringFromWasm0(s,o);return addHeapObject(a)},e.wbg.__wbindgen_object_drop_ref=function(s){takeObject(s)},e.wbg.__wbg_crypto_d05b68a3572bb8ca=function(s){const o=getObject(s).crypto;return addHeapObject(o)},e.wbg.__wbindgen_is_object=function(s){const o=getObject(s);return typeof o=="object"&&o!==null},e.wbg.__wbg_process_b02b3570280d0366=function(s){const o=getObject(s).process;return addHeapObject(o)},e.wbg.__wbg_versions_c1cb42213cedf0f5=function(s){const o=getObject(s).versions;return addHeapObject(o)},e.wbg.__wbg_node_43b1089f407e4ec2=function(s){const o=getObject(s).node;return addHeapObject(o)},e.wbg.__wbindgen_is_string=function(s){return typeof getObject(s)=="string"},e.wbg.__wbg_require_9a7e0f667ead4995=function(){return handleError(function(){const s=module.require;return addHeapObject(s)},arguments)},e.wbg.__wbg_msCrypto_10fc94afee92bd76=function(s){const o=getObject(s).msCrypto;return addHeapObject(o)},e.wbg.__wbg_randomFillSync_b70ccbdf4926a99d=function(){return handleError(function(s,o){getObject(s).randomFillSync(takeObject(o))},arguments)},e.wbg.__wbg_getRandomValues_7e42b4fb8779dc6d=function(){return handleError(function(s,o){getObject(s).getRandomValues(getObject(o))},arguments)},e.wbg.__wbindgen_is_function=function(s){return typeof getObject(s)=="function"},e.wbg.__wbg_newnoargs_cfecb3965268594c=function(s,o){const a=new Function(getStringFromWasm0(s,o));return addHeapObject(a)},e.wbg.__wbg_call_3f093dd26d5569f8=function(){return handleError(function(s,o){const a=getObject(s).call(getObject(o));return addHeapObject(a)},arguments)},e.wbg.__wbg_self_05040bd9523805b9=function(){return handleError(function(){const s=self.self;return addHeapObject(s)},arguments)},e.wbg.__wbg_window_adc720039f2cb14f=function(){return handleError(function(){const s=window.window;return addHeapObject(s)},arguments)},e.wbg.__wbg_globalThis_622105db80c1457d=function(){return handleError(function(){const s=globalThis.globalThis;return addHeapObject(s)},arguments)},e.wbg.__wbg_global_f56b013ed9bcf359=function(){return handleError(function(){const s=globalThis.global;return addHeapObject(s)},arguments)},e.wbg.__wbindgen_is_undefined=function(s){return getObject(s)===void 0},e.wbg.__wbg_call_67f2111acd2dfdb6=function(){return handleError(function(s,o,a){const c=getObject(s).call(getObject(o),getObject(a));return addHeapObject(c)},arguments)},e.wbg.__wbg_buffer_b914fb8b50ebbc3e=function(s){const o=getObject(s).buffer;return addHeapObject(o)},e.wbg.__wbg_newwithbyteoffsetandlength_0de9ee56e9f6ee6e=function(s,o,a){const c=new Uint8Array(getObject(s),o>>>0,a>>>0);return addHeapObject(c)},e.wbg.__wbg_new_b1f2d6842d615181=function(s){const o=new Uint8Array(getObject(s));return addHeapObject(o)},e.wbg.__wbg_set_7d988c98e6ced92d=function(s,o,a){getObject(s).set(getObject(o),a>>>0)},e.wbg.__wbg_newwithlength_0d03cef43b68a530=function(s){const o=new Uint8Array(s>>>0);return addHeapObject(o)},e.wbg.__wbg_subarray_adc418253d76e2f1=function(s,o,a){const c=getObject(s).subarray(o>>>0,a>>>0);return addHeapObject(c)},e.wbg.__wbindgen_object_clone_ref=function(s){const o=getObject(s);return addHeapObject(o)},e.wbg.__wbindgen_throw=function(s,o){throw new Error(getStringFromWasm0(s,o))},e.wbg.__wbindgen_memory=function(){const s=wasm.memory;return addHeapObject(s)},e}function __wbg_finalize_init(e,s){return wasm=e.exports,__wbg_init.__wbindgen_wasm_module=s,cachedInt32Memory0=null,cachedUint8Memory0=null,wasm}async function __wbg_init(e){if(wasm!==void 0)return wasm;typeof e>"u"&&(e=new URL("/assets/user_preferences_bindings_wasm_bg-CCaStjan.wasm",import.meta.url));const s=__wbg_get_imports();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:a}=await __wbg_load(await e,s);return __wbg_finalize_init(o,a)}const createConsentMessage=(e,s)=>`XMTP : Grant inbox consent to sender

Current Time: ${new Date(s).toUTCString()}
From Address: ${e}

For more info: https://xmtp.org/signatures/`;class N{constructor(s){if(!s.aes256GcmHkdfSha256)throw new Error("invalid ciphertext");if(s.aes256GcmHkdfSha256.payload.length<16)throw new Error(`invalid ciphertext ciphertext length: ${s.aes256GcmHkdfSha256.payload.length}`);if(s.aes256GcmHkdfSha256.hkdfSalt.length!==32)throw new Error(`invalid ciphertext salt length: ${s.aes256GcmHkdfSha256.hkdfSalt.length}`);if(s.aes256GcmHkdfSha256.gcmNonce.length!==12)throw new Error(`invalid ciphertext nonce length: ${s.aes256GcmHkdfSha256.gcmNonce.length}`);this.aes256GcmHkdfSha256=s.aes256GcmHkdfSha256}toBytes(){return Ciphertext.encode(this).finish()}static fromBytes(s){return new N(Ciphertext.decode(s))}}const D=window.crypto,M=new Uint8Array().buffer,x=new Uint8Array().buffer;async function _(e){return new Uint8Array(await D.subtle.digest("SHA-256",e))}async function V(e,s,o){const a=D.getRandomValues(new Uint8Array(32)),c=D.getRandomValues(new Uint8Array(12)),u=await q(s,a),h=await D.subtle.encrypt(O(c,o),u,e);return new N({aes256GcmHkdfSha256:{payload:new Uint8Array(h),hkdfSalt:a,gcmNonce:c}})}async function U(e,s,o){if(!e.aes256GcmHkdfSha256)throw new Error("invalid payload ciphertext");const a=await q(s,e.aes256GcmHkdfSha256.hkdfSalt),c=await D.subtle.decrypt(O(e.aes256GcmHkdfSha256.gcmNonce,o),a,e.aes256GcmHkdfSha256.payload);return new Uint8Array(c)}function O(e,s){const o={name:"AES-GCM",iv:e};return s&&(o.additionalData=s),o}async function q(e,s){const o=await D.subtle.importKey("raw",e,"HKDF",!1,["deriveKey"]);return D.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:s,info:M},o,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function L(e,s){const o=await D.subtle.importKey("raw",e,"HKDF",!1,["deriveKey"]);return D.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:x,info:s},o,{name:"HMAC",hash:"SHA-256",length:256},!0,["sign","verify"])}async function G(e,s,o){const a=await L(e,s),c=await D.subtle.sign("HMAC",a,o);return new Uint8Array(c)}async function F(e){const s=await D.subtle.exportKey("raw",e);return new Uint8Array(s)}const j=utils$3.bytesToHex;function X$1(e,s){if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==s[o])return!1;return!0}function J(e){const s=hexToSignature(e),o=hexToBytes$1(s.r),a=hexToBytes$1(s.s);let c=Number(s.v);c!==0&&c!==1||(c+=27);const u=1-c%2,h=new Uint8Array(64);return h.set(o),h.set(a,o.length),{bytes:h,recovery:u}}function z(e){if(e.bytes.length!==32)throw new Error(`invalid private key length: ${e.bytes.length}`)}class W{constructor(s){if(!s.secp256k1)throw new Error("invalid private key");if(z(s.secp256k1),this.secp256k1=s.secp256k1,this.createdNs=s.createdNs,!s.publicKey)throw new Error("missing public key");this.publicKey=new ae(s.publicKey)}static async generate(s){const o={bytes:utils$3.randomPrivateKey()},a=Long.fromNumber(new Date().getTime()).mul(1e6),c=new ie({secp256k1Uncompressed:{bytes:getPublicKey(o.bytes)},createdNs:a}),u=await s.signKey(c);return new W({secp256k1:o,createdNs:a,publicKey:u})}generated(){return new Date(this.createdNs.div(1e6).toNumber())}async sign(s){const[o,a]=await sign(s,this.secp256k1.bytes,{recovered:!0,der:!1});return new te({ecdsaCompact:{bytes:o,recovery:a}})}async signKey(s){const o=s.toBytes(),a=await _(o),c=await this.sign(a);return new ae({keyBytes:o,signature:c})}static async signerKey(s,o){return ee(await _(s.bytesToSign()),o)}sharedSecret(s){return getSharedSecret(this.secp256k1.bytes,s.secp256k1Uncompressed.bytes,!1)}encrypt(s,o,a){return V(s,this.sharedSecret(o),a)}decrypt(s,o,a){return U(s,this.sharedSecret(o),a)}matches(s){return this.publicKey.equals(s)}equals(s){return X$1(this.secp256k1.bytes,s.secp256k1.bytes)&&this.publicKey.equals(s.publicKey)}toBytes(){return SignedPrivateKey.encode(this).finish()}validatePublicKey(){return X$1(getPublicKey(this.secp256k1.bytes),this.publicKey.secp256k1Uncompressed.bytes)}static fromBytes(s){return new W(SignedPrivateKey.decode(s))}static fromLegacyKey(s,o){return new W({createdNs:s.timestamp.mul(1e6),secp256k1:s.secp256k1,publicKey:ae.fromLegacyKey(s.publicKey,o)})}}class Y{constructor(s){if(!s.secp256k1)throw new Error("invalid private key");if(z(s.secp256k1),this.timestamp=s.timestamp,this.secp256k1=s.secp256k1,!s.publicKey)throw new Error("missing public key");this.publicKey=new oe(s.publicKey)}static generate(){const s={bytes:utils$3.randomPrivateKey()},o=Long.fromNumber(new Date().getTime());return new Y({secp256k1:s,timestamp:o,publicKey:new oe({secp256k1Uncompressed:{bytes:getPublicKey(s.bytes)},timestamp:o})})}generated(){return new Date(this.timestamp.toNumber())}async sign(s){const[o,a]=await sign(s,this.secp256k1.bytes,{recovered:!0,der:!1});return new te({ecdsaCompact:{bytes:o,recovery:a}})}async signKey(s){const o=await _(s.bytesToSign());return s.signature=await this.sign(o),s}sharedSecret(s){return getSharedSecret(this.secp256k1.bytes,s.secp256k1Uncompressed.bytes,!1)}encrypt(s,o,a){return V(s,this.sharedSecret(o),a)}decrypt(s,o,a){return U(s,this.sharedSecret(o),a)}matches(s){return this.publicKey.equals(s)}validatePublicKey(){return X$1(getPublicKey(this.secp256k1.bytes),this.publicKey.secp256k1Uncompressed.bytes)}toBytes(){return PrivateKey.encode(this).finish()}static fromBytes(s){return new Y(PrivateKey.decode(s))}}function Q(e){if(e.bytes.length!==64)throw new Error(`invalid signature length: ${e.bytes.length}`);if(e.recovery!==0&&e.recovery!==1)throw new Error(`invalid recovery bit: ${e.recovery}`)}function Z(e,s){return e.recovery===s.recovery&&X$1(e.bytes,s.bytes)}function ee(e,s){const o=recoverPublicKey$1(e,s.bytes,s.recovery);return o?new ie({secp256k1Uncompressed:{bytes:o},createdNs:Long.fromNumber(0)}):void 0}class te{constructor(s){if(s.ecdsaCompact)Q(s.ecdsaCompact),this.ecdsaCompact=s.ecdsaCompact;else{if(!s.walletEcdsaCompact)throw new Error("invalid signature");Q(s.walletEcdsaCompact),this.walletEcdsaCompact=s.walletEcdsaCompact}}async signerKey(s){return this.ecdsaCompact?W.signerKey(s,this.ecdsaCompact):this.walletEcdsaCompact?re.signerKey(s,this.walletEcdsaCompact):void 0}getPublicKey(s){let o;if(this.ecdsaCompact)o=recoverPublicKey$1(s,this.ecdsaCompact.bytes,this.ecdsaCompact.recovery);else{if(!this.walletEcdsaCompact)throw new Error("invalid v1 signature");o=recoverPublicKey$1(s,this.walletEcdsaCompact.bytes,this.walletEcdsaCompact.recovery)}return o?new oe({secp256k1Uncompressed:{bytes:o},timestamp:Long.fromNumber(0)}):void 0}equals(s){return this.ecdsaCompact&&s.ecdsaCompact?Z(this.ecdsaCompact,s.ecdsaCompact):!(!this.walletEcdsaCompact||!s.walletEcdsaCompact)&&Z(this.walletEcdsaCompact,s.walletEcdsaCompact)}toBytes(){return Signature$1.encode(this).finish()}static fromBytes(s){return new te(Signature$1.decode(s))}}var se;(function(e){e[e.INBOX_KEY=0]="INBOX_KEY",e[e.SEND_KEY=1]="SEND_KEY"})(se||(se={}));class re{constructor(s){this.wallet=s}static identitySigRequestText(s){return`XMTP : Create Identity
${j(s)}

For more info: https://xmtp.org/signatures/`}static signerKey(s,o){return ee(hexToBytes$1(hashMessage(this.identitySigRequestText(s.bytesToSign()))),o)}async signKey(s){const o=s.toBytes(),a=await this.wallet.signMessage(re.identitySigRequestText(o)),{bytes:c,recovery:u}=J(a),h=new te({walletEcdsaCompact:{bytes:c,recovery:u}});return new ae({keyBytes:o,signature:h})}}const ne=new Long(10**9).mul(10**9);class ie{constructor(s){if(!(s!=null&&s.secp256k1Uncompressed))throw new Error("invalid public key");(function(o){if(o.bytes.length!==65)throw new Error(`invalid public key length: ${o.bytes.length}`);if(o.bytes[0]!==4)throw new Error(`unrecognized public key prefix: ${o.bytes[0]}`)})(s.secp256k1Uncompressed),this.secp256k1Uncompressed=s.secp256k1Uncompressed,this.createdNs=s.createdNs.toUnsigned()}generated(){return new Date(this.timestamp.toNumber())}isFromLegacyKey(){return this.createdNs.lessThan(ne)}get timestamp(){return(this.isFromLegacyKey()?this.createdNs:this.createdNs.div(1e6)).toUnsigned()}verify(s,o){return!!s.ecdsaCompact&&verify(s.ecdsaCompact.bytes,o,this.secp256k1Uncompressed.bytes)}async verifyKey(s){if(!s.signature)return!1;const o=await _(s.bytesToSign());return this.verify(s.signature,o)}equals(s){return X$1(this.secp256k1Uncompressed.bytes,s.secp256k1Uncompressed.bytes)}getEthereumAddress(){return function(s){const o=bytesToHex$1(s.slice(1)),a=keccak256(o),c=a.substring(a.length-40);return getAddress(`0x${c}`)}(this.secp256k1Uncompressed.bytes)}toBytes(){return UnsignedPublicKey.encode(this).finish()}static fromBytes(s){return new ie(UnsignedPublicKey.decode(s))}}class ae extends ie{constructor(s){if(!s.keyBytes)throw new Error("missing key bytes");if(super(UnsignedPublicKey.decode(s.keyBytes)),this.keyBytes=s.keyBytes,!s.signature)throw new Error("missing key signature");this.signature=new te(s.signature)}get unsignedKey(){return new ie({createdNs:this.createdNs,secp256k1Uncompressed:this.secp256k1Uncompressed})}signerKey(){return this.signature.signerKey(this)}async walletSignatureAddress(){if(!this.signature.walletEcdsaCompact)throw new Error("key was not signed by a wallet");const s=await this.signerKey();if(!s)throw new Error("key signature not valid");return s.getEthereumAddress()}equals(s){return this.unsignedKey.equals(s.unsignedKey)&&this.signature.equals(s.signature)}bytesToSign(){return this.keyBytes}toBytes(){return SignedPublicKey.encode(this).finish()}static fromBytes(s){return new ae(SignedPublicKey.decode(s))}toLegacyKey(){if(!this.isFromLegacyKey())throw new Error("cannot be converted to legacy key");let s=this.signature;return s.walletEcdsaCompact&&(s=new te({ecdsaCompact:s.walletEcdsaCompact})),new oe({timestamp:this.timestamp,secp256k1Uncompressed:this.secp256k1Uncompressed,signature:s})}static fromLegacyKey(s,o){if(!s.signature)throw new Error("key is not signed");let a=s.signature;return o&&(a=new te({walletEcdsaCompact:a.ecdsaCompact})),new ae({keyBytes:s.bytesToSign(),signature:a})}}class oe extends ie{constructor(s){super({createdNs:s.timestamp.mul(1e6),secp256k1Uncompressed:s.secp256k1Uncompressed}),s.signature&&(!s.signature.ecdsaCompact&&s.signature.walletEcdsaCompact?this.signature=new te({ecdsaCompact:{bytes:s.signature.walletEcdsaCompact.bytes,recovery:s.signature.walletEcdsaCompact.recovery}}):this.signature=new te(s.signature))}get timestamp(){return this.createdNs.div(1e6)}bytesToSign(){return PublicKey.encode({timestamp:this.timestamp,secp256k1Uncompressed:this.secp256k1Uncompressed}).finish()}async signWithWallet(s){const o=await s.signMessage(re.identitySigRequestText(this.bytesToSign())),{bytes:a,recovery:c}=J(o);this.signature=new te({ecdsaCompact:{bytes:a,recovery:c}})}walletSignatureAddress(){if(!this.signature)throw new Error("key is not signed");const s=hexToBytes$1(hashMessage(re.identitySigRequestText(this.bytesToSign()))),o=this.signature.getPublicKey(s);if(!o)throw new Error("key signature is malformed");return o.getEthereumAddress()}toBytes(){return PublicKey.encode(this).finish()}static fromBytes(s){return new oe(PublicKey.decode(s))}}class ce{constructor(s){if(!s.identityKey)throw new Error("missing identity key");if(!s.preKey)throw new Error("missing pre-key");this.identityKey=new ae(s.identityKey),this.preKey=new ae(s.preKey)}walletSignatureAddress(){return this.identityKey.walletSignatureAddress()}equals(s){return this.identityKey.equals(s.identityKey)&&this.preKey.equals(s.preKey)}toBytes(){return SignedPublicKeyBundle.encode(this).finish()}isFromLegacyBundle(){return this.identityKey.isFromLegacyKey()&&this.preKey.isFromLegacyKey()}toLegacyBundle(){return new de({identityKey:this.identityKey.toLegacyKey(),preKey:this.preKey.toLegacyKey()})}static fromBytes(s){const o=SignedPublicKeyBundle.decode(s);return new ce(o)}static fromLegacyBundle(s){return new ce({identityKey:ae.fromLegacyKey(s.identityKey,!0),preKey:ae.fromLegacyKey(s.preKey)})}}class de{constructor(s){if(!s.identityKey)throw new Error("missing identity key");if(!s.preKey)throw new Error("missing pre-key");this.identityKey=new oe(s.identityKey),this.preKey=new oe(s.preKey)}equals(s){return this.identityKey.equals(s.identityKey)&&this.preKey.equals(s.preKey)}walletSignatureAddress(){return this.identityKey.walletSignatureAddress()}toBytes(){return PublicKeyBundle.encode(this).finish()}static fromBytes(s){const o=PublicKeyBundle.decode(s);return new de(o)}}class he{constructor(s,o){this.messageEnvelope=s,this.onSend=o}async messageID(){if(!this.messageEnvelope.message)throw new Error("no envelope message");return j(await _(this.messageEnvelope.message))}async send(){return this.onSend()}}class ye{constructor(s,o,a,c,u){this.messages=[],this.resolvers=[],this.topics=o,this.client=s,this.callback=this.newMessageCallback(a,c),this.onConnectionLost=u}newMessageCallback(s,o){return async a=>{if(a.message)try{const c=await s(a);if(!c)return;if(o){const h=o(c);h&&this.resubscribeToTopics(h)}const u=this.resolvers.pop();u?u({value:c}):this.messages.unshift(c)}catch(c){console.warn(c)}}}async start(){if(!this.callback)throw new Error("Missing callback for stream");this.subscriptionManager=this.client.apiClient.subscribe({contentTopics:this.topics},async s=>{this.callback&&await(this==null?void 0:this.callback(s))},this.onConnectionLost)}static async create(s,o,a,c,u){const h=new ye(s,o,a,c,u);return await h.start(),h}[Symbol.asyncIterator](){return this}async return(){return this.subscriptionManager&&await this.subscriptionManager.unsubscribe(),this.callback?(this.callback=void 0,this.resolvers.forEach(s=>s({value:void 0,done:!0})),{value:void 0,done:!0}):{value:void 0,done:!0}}next(){const s=this.messages.pop();return s?Promise.resolve({value:s}):this.callback?new Promise(o=>this.resolvers.unshift(o)):Promise.resolve({value:void 0,done:!0})}async resubscribeToTopics(s){var o;if(!this.callback||!this.subscriptionManager)throw new Error("Missing callback for stream");if(typeof((o=this.subscriptionManager)==null?void 0:o.updateContentTopics)=="function")return this.subscriptionManager.updateContentTopics(s);await this.subscriptionManager.unsubscribe(),this.topics=s,this.subscriptionManager=this.client.apiClient.subscribe({contentTopics:this.topics},async a=>{this.callback&&await(this==null?void 0:this.callback(a))},this.onConnectionLost)}}const{b64Decode:ue,b64Encode:le}=n$1;function pe(e,s){const o=new Uint8Array(e.length+s.length);return o.set(e),o.set(s,e.length),o}function we(e){const s=new ArrayBuffer(4);return new DataView(s).setInt32(0,e,!0),new Uint8Array(s)}function fe(e){const s=e.buffer;return new DataView(s).getInt32(0,!0)}function me(e){return Long.fromNumber(e.valueOf()).multiply(1e6)}function ge(e){return new Date(e.divide(1e6).toNumber())}const ve=e=>e&&me(e).toString(),be=e=>{if(e)return ge(Long.fromString(e))};class Ee extends Error{constructor(s,o){super(o),this.code=s}}const Ke=e=>{if(e.error)throw new Ee(e.error.code,e.error.message);if(!e.result)throw new Ee(ErrorCode.ERROR_CODE_UNSPECIFIED,"No result from Keystore");if("encrypted"in e.result&&!e.result.encrypted)throw new Error("Missing ciphertext");if("decrypted"in e.result&&!e.result.decrypted)throw new Error("Missing decrypted result");return e.result},ke=(e,s)=>({requests:e.map(o=>{var u,h,p,m;const a=new de({identityKey:(u=o.header.sender)==null?void 0:u.identityKey,preKey:(h=o.header.sender)==null?void 0:h.preKey}),c=s.equals(a);return{payload:o.ciphertext,peerKeys:c?new de({identityKey:(p=o.header.recipient)==null?void 0:p.identityKey,preKey:(m=o.header.recipient)==null?void 0:m.preKey}):a,headerBytes:o.headerBytes,isSender:c}})}),Pe=e=>`/xmtp/0/${e}/proto`,Se=(e,s)=>{const o=[getAddress(e),getAddress(s)];return o.sort(),Pe(`dm-${o.join("-")}`)},Ae=e=>Pe(`m-${e}`),Te=e=>Pe(`contact-${getAddress(e)}`),Ce=e=>Pe(`intro-${getAddress(e)}`),Ie=e=>Pe(`invite-${getAddress(e)}`),Be=e=>Pe(`privatestore-${e}`),Re=e=>{const s=/^[\x21-\x7F]+$/,o=e.indexOf("0/");if(o!==-1){const a=e.substring(o+2,e.lastIndexOf("/proto"));return s.test(a)}return!1};class Ne{constructor(s,o,a){this.conversationVersion="v1",this.context=void 0,this.peerAddress=getAddress(o),this.client=s,this.createdAt=a}get clientAddress(){return this.client.address}async allow(){await this.client.contacts.allow([this.peerAddress])}async deny(){await this.client.contacts.deny([this.peerAddress])}get isAllowed(){return this.client.contacts.isAllowed(this.peerAddress)}get isDenied(){return this.client.contacts.isDenied(this.peerAddress)}get consentState(){return this.client.contacts.consentState(this.peerAddress)}get topic(){return Se(this.peerAddress,this.client.address)}get ephemeralTopic(){return Se(this.peerAddress,this.client.address).replace("/xmtp/0/dm-","/xmtp/0/dmE-")}async messages(s){const o=Se(this.peerAddress,this.client.address),a=await this.client.listEnvelopes(o,this.processEnvelope.bind(this),s);return this.decryptBatch(a,o,!1)}messagesPaginated(s){return this.client.listEnvelopesPaginated(this.topic,this.decodeMessage.bind(this),s)}async decodeMessage(s){if(!s.contentTopic)throw new Error("Missing content topic");const o=await this.processEnvelope(s),a=await this.decryptBatch([o],s.contentTopic,!0);if(!a.length)throw new Error("No results");return a[0]}async prepareMessage(s,o){let a,c=await this.client.getUserContact(this.peerAddress);if(!c)throw new Error(`recipient ${this.peerAddress} is not registered`);c instanceof de||(c=c.toLegacyBundle());const u=o!=null&&o.ephemeral?this.ephemeralTopic:this.topic;this.client.contacts.addresses.has(this.peerAddress)?a=[u]:(a=[Ce(this.peerAddress),Ce(this.client.address),u],this.client.contacts.addresses.add(this.peerAddress));const{payload:h}=await this.client.encodeContent(s,o),p=await this.createMessage(h,c,o==null?void 0:o.timestamp),m=p.toBytes(),y={contentTopic:u,message:m,timestampNs:ve(p.sent)};return new he(y,async()=>(await this.client.publishEnvelopes(a.map(v=>({contentTopic:v,message:m,timestamp:p.sent}))),Ue.fromV1Message(p,s,(o==null?void 0:o.contentType)||n,h,u,this)))}streamMessages(s){return ye.create(this.client,[this.topic],async o=>this.decodeMessage(o),void 0,s)}async processEnvelope({message:s,contentTopic:o}){if(!s||!s.length)throw new Error("empty envelope");const a=await _e.fromBytes(s),{senderAddress:c,recipientAddress:u}=a;if(!c||!u||!o||Se(c,u)!==this.topic)throw new Error("Headers do not match intended recipient");return a}streamEphemeral(s){return ye.create(this.client,[this.ephemeralTopic],this.decodeMessage.bind(this),void 0,s)}async send(s,o){let a,c=await this.client.getUserContact(this.peerAddress);if(!c)throw new Error(`recipient ${this.peerAddress} is not registered`);c instanceof de||(c=c.toLegacyBundle());const u=o!=null&&o.ephemeral?this.ephemeralTopic:this.topic;this.client.contacts.addresses.has(this.peerAddress)?a=[u]:(a=[Ce(this.peerAddress),Ce(this.client.address),u],this.client.contacts.addresses.add(this.peerAddress));const h=(o==null?void 0:o.contentType)||n,{payload:p}=await this.client.encodeContent(s,o),m=await this.createMessage(p,c,o==null?void 0:o.timestamp);return await this.client.publishEnvelopes(a.map(y=>({contentTopic:y,message:m.toBytes(),timestamp:m.sent}))),this.consentState==="unknown"&&await this.allow(),Ue.fromV1Message(m,s,h,p,u,this)}async decryptBatch(s,o,a=!1){const c=(await this.client.keystore.decryptV1(ke(s,this.client.publicKeyBundle))).responses,u=[];for(let h=0;h<c.length;h++){const p=c[h],m=s[h];try{const{decrypted:y}=Ke(p);u.push(await this.buildDecodedMessage(m,y,o))}catch(y){if(a)throw y;console.warn("Error decoding content",y)}}return u}async buildDecodedMessage(s,o,a){const{content:c,contentType:u,error:h,contentFallback:p}=await this.client.decodeContent(o);return Ue.fromV1Message(s,c,u,o,a,this,h,p)}async createMessage(s,o,a){return a=a||new Date,_e.encode(this.client.keystore,s,this.client.publicKeyBundle,o,a)}}class De{constructor(s,o,a,c,u,h){this.conversationVersion="v2",this.topic=o,this.createdAt=c,this.context=u,this.client=s,this.peerAddress=a,this.consentProof=h}get clientAddress(){return this.client.address}async allow(){await this.client.contacts.allow([this.peerAddress])}async deny(){await this.client.contacts.deny([this.peerAddress])}get isAllowed(){return this.client.contacts.isAllowed(this.peerAddress)}get isDenied(){return this.client.contacts.isDenied(this.peerAddress)}get consentState(){return this.client.contacts.consentState(this.peerAddress)}get consentProofPayload(){return this.consentProof}async messages(s){const o=await this.client.listEnvelopes(this.topic,this.processEnvelope.bind(this),s);return this.decryptBatch(o,!1)}messagesPaginated(s){return this.client.listEnvelopesPaginated(this.topic,this.decodeMessage.bind(this),s)}get ephemeralTopic(){return this.topic.replace("/xmtp/0/m","/xmtp/0/mE")}streamEphemeral(s){return ye.create(this.client,[this.ephemeralTopic],this.decodeMessage.bind(this),void 0,s)}streamMessages(s){return ye.create(this.client,[this.topic],this.decodeMessage.bind(this),void 0,s)}async send(s,o){const{payload:a,shouldPush:c}=await this.client.encodeContent(s,o),u=await this.createMessage(a,c,o==null?void 0:o.timestamp),h=o!=null&&o.ephemeral?this.ephemeralTopic:this.topic;await this.client.publishEnvelopes([{contentTopic:h,message:u.toBytes(),timestamp:u.sent}]);const p=(o==null?void 0:o.contentType)||n;return this.consentState==="unknown"&&await this.allow(),Ue.fromV2Message(u,s,p,h,a,this,this.client.address)}async createMessage(s,o,a){const c={topic:this.topic,createdNs:me(a||new Date)},u=MessageHeaderV2.encode(c).finish(),h=await _(pe(u,s)),p={payload:s,sender:this.client.signedPublicKeyBundle,signature:await this.client.keystore.signDigest({digest:h,prekeyIndex:0,identityKey:void 0})},m=SignedContent.encode(p).finish(),{encrypted:y,senderHmac:v}=await this.encryptMessage(m,u),b={v1:void 0,v2:{headerBytes:u,ciphertext:y,senderHmac:v,shouldPush:o}},w=Message.encode(b).finish();return Ve.create(b,c,w,v,o)}async decryptBatch(s,o=!1){const a=(await this.client.keystore.decryptV2(this.buildDecryptRequest(s))).responses,c=[];for(let u=0;u<a.length;u++){const h=a[u],p=s[u];try{const{decrypted:m}=Ke(h);c.push(await this.buildDecodedMessage(p,m))}catch(m){if(o)throw m;console.warn("Error decoding content",m)}}return c}buildDecryptRequest(s){return{requests:s.map(o=>({payload:o.ciphertext,headerBytes:o.headerBytes,contentTopic:this.topic}))}}async encryptMessage(s,o){const{responses:a}=await this.client.keystore.encryptV2({requests:[{payload:s,headerBytes:o,contentTopic:this.topic}]});if(a.length!==1)throw new Error("Invalid response length");const{encrypted:c,senderHmac:u}=Ke(a[0]);return{encrypted:c,senderHmac:u}}async buildDecodedMessage(s,o){var v,b,w;const a=SignedContent.decode(o);if(!((v=a.sender)!=null&&v.identityKey)||!((b=a.sender)!=null&&b.preKey)||!a.signature)throw new Error("incomplete signed content");await async function(S){var T,k;const P=(T=S.sender)==null?void 0:T.preKey;if(!P||!P.signature||!P.keyBytes)throw new Error("missing pre-key or pre-key signature");const R=(k=S.sender)==null?void 0:k.identityKey;if(!R)throw new Error("missing identity key in bundle");if(!await new ae(R).verifyKey(new ae(P)))throw new Error("pre key not signed by identity key")}(a);const c=await _(pe(s.headerBytes,a.payload));if(!new ae((w=a.sender)==null?void 0:w.preKey).verify(new te(a.signature),c))throw new Error("invalid signature");const u=await new ce(a.sender).walletSignatureAddress(),{content:h,contentType:p,error:m,contentFallback:y}=await this.client.decodeContent(a.payload);return Ue.fromV2Message(s,h,p,this.topic,a.payload,this,u,m,y)}async prepareMessage(s,o){const{payload:a,shouldPush:c}=await this.client.encodeContent(s,o),u=await this.createMessage(a,c,o==null?void 0:o.timestamp),h=u.toBytes(),p=o!=null&&o.ephemeral?this.ephemeralTopic:this.topic,m={contentTopic:p,message:h,timestampNs:ve(u.sent)};return new he(m,async()=>(await this.client.publishEnvelopes([{contentTopic:p,message:h,timestamp:u.sent}]),Ue.fromV2Message(u,s,(o==null?void 0:o.contentType)||n,p,a,this,this.client.address)))}async processEnvelope(s){if(!s.message||!s.contentTopic)throw new Error("empty envelope");const o=Message.decode(s.message);if(!o.v2)throw new Error("unknown message version");const a=MessageHeaderV2.decode(o.v2.headerBytes);if(a.topic!==this.topic)throw new Error("topic mismatch");return Ve.create(o,a,s.message,o.v2.senderHmac,o.v2.shouldPush)}async decodeMessage(s){if(!s.contentTopic)throw new Error("Missing content topic");const o=await this.processEnvelope(s),a=await this.decryptBatch([o],!0);if(!a.length)throw new Error("No results");return a[0]}}const Me=e=>{var s,o;if((s=e.v1)!=null&&s.ciphertext)return[e.v1.headerBytes,new N(e.v1.ciphertext)];if((o=e.v2)!=null&&o.ciphertext)return[e.v2.headerBytes,new N(e.v2.ciphertext)];throw new Error("unknown message version")};class xe{constructor(s,o,a){[this.headerBytes,this.ciphertext]=Me(a),this.id=s,this.bytes=o}toBytes(){return this.bytes}}class _e extends xe{constructor(s,o,a,c,u){super(s,o,a),this.conversation=void 0,this.senderAddress=u,this.header=c}static async create(s,o,a){if(!o.sender)throw new Error("missing message sender");const c=new de(o.sender).walletSignatureAddress(),u=j(await _(a));return new _e(u,a,s,o,c)}get sent(){return new Date(this.header.timestamp.toNumber())}get recipientAddress(){var s,o;if((o=(s=this.header)==null?void 0:s.recipient)!=null&&o.identityKey)return new oe(this.header.recipient.identityKey).walletSignatureAddress()}async decrypt(s,o){const a=(await s.decryptV1(ke([this],o))).responses;if(!a.length)throw new Error("No response from Keystore");const{decrypted:c}=Ke(a[0]);return c}static fromBytes(s){const o=Message.decode(s),[a]=Me(o),c=MessageHeaderV1.decode(a);if(!c)throw new Error("missing message header");if(!c.sender)throw new Error("missing message sender");if(!c.sender.identityKey)throw new Error("missing message sender identity key");if(!c.sender.preKey)throw new Error("missing message sender pre-key");if(!c.recipient)throw new Error("missing message recipient");if(!c.recipient.identityKey)throw new Error("missing message recipient identity-key");if(!c.recipient.preKey)throw new Error("missing message recipient pre-key");return _e.create(o,c,s)}static async encode(s,o,a,c,u){const h={sender:a,recipient:c,timestamp:Long.fromNumber(u.getTime())},p=MessageHeaderV1.encode(h).finish(),m=await s.encryptV1({requests:[{recipient:c,headerBytes:p,payload:o}]});if(!m.responses.length)throw new Error("No response from Keystore");const{encrypted:y}=Ke(m.responses[0]),v={v1:{headerBytes:p,ciphertext:y},v2:void 0},b=Message.encode(v).finish();return _e.create(v,h,b)}}class Ve extends xe{constructor(s,o,a,c,u,h){super(s,o,a),this.header=c,this.senderHmac=u,this.shouldPush=h}static async create(s,o,a,c,u){const h=j(await _(a));return new Ve(h,a,s,o,c,u)}get sent(){return ge(this.header.createdNs)}}class Ue{constructor({id:s,messageVersion:o,senderAddress:a,recipientAddress:c,conversation:u,contentBytes:h,contentType:p,contentTopic:m,content:y,sent:v,error:b,contentFallback:w}){this.id=s,this.messageVersion=o,this.senderAddress=a,this.recipientAddress=c,this.conversation=u,this.contentType=p,this.sent=v,this.error=b,this.content=y,this.contentTopic=m,this.contentBytes=h,this.contentFallback=w}toBytes(){return DecodedMessage.encode({...this,conversation:{topic:this.conversation.topic,context:this.conversation.context??void 0,createdNs:me(this.conversation.createdAt),peerAddress:this.conversation.peerAddress,consentProofPayload:this.conversation.consentProof??void 0},sentNs:me(this.sent)}).finish()}static async fromBytes(s,o){const a=DecodedMessage.decode(s),c=a.messageVersion;if(c!=="v1"&&c!=="v2")throw new Error("Invalid message version");if(!a.conversation)throw new Error("No conversation reference found");const{content:u,contentType:h,error:p,contentFallback:m}=await o.decodeContent(a.contentBytes);return new Ue({...a,content:u,contentType:h,error:p,messageVersion:c,sent:ge(a.sentNs),conversation:Oe(a.conversation,o,c),contentFallback:m})}static fromV1Message(s,o,a,c,u,h,p,m){const{id:y,senderAddress:v,recipientAddress:b,sent:w}=s;if(!v)throw new Error("Sender address is required");return new Ue({id:y,messageVersion:"v1",senderAddress:v,recipientAddress:b,sent:w,content:o,contentBytes:c,contentType:a,contentTopic:u,conversation:h,error:p,contentFallback:m})}static fromV2Message(s,o,a,c,u,h,p,m,y){const{id:v,sent:b}=s;return new Ue({id:v,messageVersion:"v2",senderAddress:p,sent:b,content:o,contentBytes:u,contentType:a,contentTopic:c,conversation:h,error:m,contentFallback:y})}}function Oe(e,s,o){if(o==="v1")return new Ne(s,e.peerAddress,ge(e.createdNs));if(o==="v2")return new De(s,e.topic,e.peerAddress,ge(e.createdNs),e.context,e.consentProofPayload);throw new Error(`Unknown conversation version ${o}`)}class Le extends Error{constructor(s){super(`no pre-key matches: ${j(s.secp256k1Uncompressed.bytes)}`)}}class Ge{constructor(s){if(this.version=2,!s.identityKey)throw new Error("missing identity key");this.identityKey=new W(s.identityKey),this.preKeys=(s.preKeys||[]).map(o=>new W(o))}static async generate(s){const o=await W.generate(new re(s)),a=new Ge({identityKey:o,preKeys:[]});return await a.addPreKey(),a}getCurrentPreKey(){return this.preKeys[0]}findPreKey(s){const o=this.preKeys.find(a=>a.matches(s));if(!o)throw new Le(s);return o}async addPreKey(){this._publicKeyBundle=void 0;const s=await W.generate(this.identityKey);this.preKeys.unshift(s)}getPublicKeyBundle(){return this._publicKeyBundle||(this._publicKeyBundle=new ce({identityKey:this.identityKey.publicKey,preKey:this.getCurrentPreKey().publicKey})),this._publicKeyBundle}async sharedSecret(s,o,a){if(!s.identityKey||!s.preKey)throw new Error("invalid peer key bundle");if(!await s.identityKey.verifyKey(s.preKey))throw new Error("peer preKey signature invalid");if(!this.identityKey)throw new Error("missing identity key");let c,u,h;a?(h=this.findPreKey(o),c=h.sharedSecret(s.identityKey),u=this.identityKey.sharedSecret(s.preKey)):(h=this.findPreKey(o),c=this.identityKey.sharedSecret(s.preKey),u=h.sharedSecret(s.identityKey));const p=h.sharedSecret(s.preKey),m=new Uint8Array(c.length+u.length+p.length);return m.set(c,0),m.set(u,c.length),m.set(p,c.length+u.length),m}encode(){return PrivateKeyBundle.encode({v1:void 0,v2:this}).finish()}validatePublicKeys(){return!!this.identityKey.validatePublicKey()&&this.preKeys.every(s=>s.validatePublicKey())}equals(s){if(this.preKeys.length!==s.preKeys.length)return!1;for(let o=0;o<this.preKeys.length;o++)if(!this.preKeys[o].equals(s.preKeys[o]))return!1;return this.identityKey.equals(s.identityKey)}static fromLegacyBundle(s){return new Ge({identityKey:W.fromLegacyKey(s.identityKey,!0),preKeys:s.preKeys.map(o=>W.fromLegacyKey(o))})}}class He{constructor(s){if(this.version=1,!s.identityKey)throw new Error("missing identity key");this.identityKey=new Y(s.identityKey),this.preKeys=(s.preKeys||[]).map(o=>new Y(o))}static async generate(s){const o=Y.generate();s&&await o.publicKey.signWithWallet(s);const a=new He({identityKey:o,preKeys:[]});return await a.addPreKey(),a}getCurrentPreKey(){return this.preKeys[0]}findPreKey(s){const o=this.preKeys.find(a=>a.matches(s));if(!o)throw new Le(s);return o}async addPreKey(){this._publicKeyBundle=void 0;const s=Y.generate();await this.identityKey.signKey(s.publicKey),this.preKeys.unshift(s)}getPublicKeyBundle(){return this._publicKeyBundle||(this._publicKeyBundle=new de({identityKey:this.identityKey.publicKey,preKey:this.getCurrentPreKey().publicKey})),this._publicKeyBundle}validatePublicKeys(){return!!this.identityKey.validatePublicKey()&&this.preKeys.every(s=>s.validatePublicKey())}async sharedSecret(s,o,a){if(!s.identityKey||!s.preKey)throw new Error("invalid peer key bundle");if(!await s.identityKey.verifyKey(s.preKey))throw new Error("peer preKey signature invalid");if(!this.identityKey)throw new Error("missing identity key");let c,u,h;a?(h=this.findPreKey(o),c=h.sharedSecret(s.identityKey),u=this.identityKey.sharedSecret(s.preKey)):(h=this.findPreKey(o),c=this.identityKey.sharedSecret(s.preKey),u=h.sharedSecret(s.identityKey));const p=h.sharedSecret(s.preKey),m=new Uint8Array(c.length+u.length+p.length);return m.set(c,0),m.set(u,c.length),m.set(p,c.length+u.length),m}encode(){return PrivateKeyBundle.encode({v1:this,v2:void 0}).finish()}}function Fe(e){const s=PrivateKeyBundle.decode(e);if(s.v1)return new He(s.v1);if(s.v2)return new Ge(s.v2);throw new Error("unknown private key bundle version")}class $e{constructor({walletAddr:s,createdNs:o}){this.walletAddr=s,this.createdNs=o}static create(s,o){return o=o||new Date,new $e({walletAddr:s,createdNs:me(o)})}static fromBytes(s){const o=AuthData.decode(s);return new $e(o)}toBytes(){return AuthData.encode(this).finish()}}class je{constructor({identityKey:s,authDataBytes:o,authDataSignature:a}){if(!s)throw new Error("Missing identity key in token");if(!a)throw new Error("Missing authDataSignature in token");this.identityKey=s,this.authDataBytes=o,this.authDataSignature=a}get authData(){return this._authData||(this._authData=$e.fromBytes(this.authDataBytes)),this._authData}get ageMs(){return new Date().valueOf()-this.authData.createdNs.div(1e6).toNumber()}toBytes(){return Token.encode(this).finish()}static fromBytes(s){return new je(Token.decode(s))}toBase64(){return Buffer.from(this.toBytes()).toString("base64")}}class Xe{constructor(s){this.keystore=s}async createToken(s){return(o=>o instanceof je?o:new je(o))(await this.keystore.createAuthToken({timestampNs:s?me(s):void 0}))}}const Je=e=>new Promise(s=>setTimeout(s,e)),ze=e=>!!e;async function We(e,s,o,a,c=ze,u=1){const h=typeof u=="number"?u:1;try{return await e(...s)}catch(p){if(!c(p)||h>o)throw p;return await Je(a),We(e,s,o,a,c,h+1)}}async function*Ye(e,s){for await(const o of e){const a=await Promise.allSettled(o.map(s)),c=[];for(const u of a)u.status==="fulfilled"?c.push(u.value):console.warn("Failed to process envelope due to reason: ",u.reason);yield c}}class Qe{constructor(s,o=3590){this.authenticator=s,this.maxAgeMs=1e3*o}async getToken(){return(!this.token||this.token.ageMs>this.maxAgeMs)&&await this.refresh(),this.token.toBase64()}async refresh(){this.token=await this.authenticator.createToken()}}const{MessageApi:Ze,SortDirection:et}=d,tt={local:"http://localhost:5555",dev:"https://dev.xmtp.network",production:"https://production.xmtp.network"};var st;(function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(st||(st={}));class rt extends Error{constructor(s,o){super(s),this.code=o}static fromObject(s){return new rt(s.message,s.code)}}const nt=e=>!!e&&!(e.name!=="AbortError"&&!e.message.includes("aborted")),it=e=>!(s=>!(!s||!("code"in s)||s.code!==16))(e),at=e=>(e.message&&e.message.length&&typeof e.message=="string"&&(e.message=ue(e.message)),e);class ot{constructor(s,o){this.pathPrefix=s,this.maxRetries=(o==null?void 0:o.maxRetries)||5,this.appVersion=o==null?void 0:o.appVersion,this.version="xmtp-js/13.0.4",s===tt.dev&&console.info(`
XX    XX MM    MM TTTTTT PPPPPP   DDDDD   EEEEEEE VV     VV 
 XX  XX  MMM  MMM   TT   PP   PP  DD  DD  EE      VV     VV 
  XXXX   MM MM MM   TT   PPPPPP   DD   DD EEEEE    VV   VV  
 XX  XX  MM    MM   TT   PP       DD   DD EE        VV VV   
XX    XX MM    MM   TT   PP       DDDDDD  EEEEEEE    VVV    

Connected to the XMTP 'dev' network. Use 'production' for production messages.
https://github.com/xmtp/xmtp-js#xmtp-production-and-dev-network-environments
`)}async _query(s){try{return await We(Ze.Query,[s,{pathPrefix:this.pathPrefix,mode:"cors",headers:this.headers()}],this.maxRetries,100)}catch(o){throw rt.fromObject(o)}}_batchQuery(s){return We(Ze.BatchQuery,[s,{pathPrefix:this.pathPrefix,mode:"cors",headers:this.headers()}],this.maxRetries,100)}async _publish(s,o=0){var u;const a=await this.getToken(),c=this.headers();c.set("Authorization",`Bearer ${a}`);try{return await We(Ze.Publish,[s,{pathPrefix:this.pathPrefix,mode:"cors",headers:c}],this.maxRetries,100,it)}catch(h){if(it(h)||o>=1)throw rt.fromObject(h);return await((u=this.authCache)==null?void 0:u.refresh()),this._publish(s,o+1)}}_subscribe(s,o,a){const c=new AbortController;return(async()=>{for(;;){const u=new Date().getTime();try{if(await Ze.Subscribe(s,o,{pathPrefix:this.pathPrefix,signal:c.signal,mode:"cors",headers:this.headers()}),c.signal.aborted)return;console.info("Stream connection closed. Resubscribing"),new Date().getTime()-u<1e3&&await Je(1e3),a==null||a()}catch(h){if(nt(h)||c.signal.aborted)return;console.info("Stream connection closed. Resubscribing"),new Date().getTime()-u<1e3&&await Je(1e3),a==null||a()}}})(),{unsubscribe:async()=>{c==null||c.abort()}}}async query(s,{direction:o=et.SORT_DIRECTION_ASCENDING,limit:a,pageSize:c}){const u=[],h=s.contentTopic.startsWith("userpreferences-")?500:100;for await(const p of this.queryIteratePages(s,{direction:o,pageSize:c?Math.min(c,h):h}))for(const m of p)if(u.push(m),a&&u.length===a)return u;return u}async*queryIterator(s,o){for await(const a of this.queryIteratePages(s,o))for(const c of a)yield c}async*queryIteratePages({contentTopic:s,startTime:o,endTime:a},{direction:c,pageSize:u=10}){var y,v,b;if(!s||!s.length)throw new Error("Must specify content topics");const h=ve(o),p=ve(a);let m;for(;;){const w={limit:u,direction:c,cursor:m},S=await this._query({contentTopics:[s],startTimeNs:h,endTimeNs:p,pagingInfo:w});if(!((y=S.envelopes)!=null&&y.length)||(yield S.envelopes.map(at),!((v=S.pagingInfo)!=null&&v.cursor)))return;m=(b=S.pagingInfo)==null?void 0:b.cursor}}async batchQuery(s){const o=[];for(let u=0;u<s.length;u+=50){const h=s.slice(u,u+50),p=[];for(const y of h)p.push({contentTopics:[y.contentTopic],startTimeNs:ve(y.startTime),endTimeNs:ve(y.endTime),pagingInfo:{limit:y.pageSize||10,direction:y.direction||et.SORT_DIRECTION_ASCENDING}});const m={requests:p};o.push(m)}const a=await Promise.all(o.map(async u=>this._batchQuery(u))),c=[];for(const u of a){if(!u.responses)throw new Error("BatchQueryResponse missing responses");for(const h of u.responses)h.envelopes?c.push(h.envelopes.map(at)):c.push([])}return c}async publish(s){const o=[];for(const{contentTopic:a,message:c,timestamp:u}of s){if(!a.length)throw new Error("Content topic cannot be empty string");if(!c.length)throw new Error("0 length messages not allowed");const h=u||new Date;o.push({contentTopic:a,timestampNs:ve(h),message:Uint8Array.from(c)})}return this._publish({envelopes:o})}subscribe(s,o,a){if(!s.contentTopics.length)throw new Error("Must provide list of contentTopics to subscribe to");return this._subscribe(s,c=>o(at(c)),a)}getToken(){if(!this.authCache)throw new Error("AuthCache is not set on API Client");return this.authCache.getToken()}setAuthenticator(s,o){this.authCache=new Qe(s,o)}headers(){const s=new Headers;return s.set("X-Client-Version",this.version),this.appVersion&&s.set("X-App-Version",this.appVersion),s}}class ct{constructor(s,o){this.disableOffset=!1,this.jobType=s,this.mutex=new Mutex,this.keystore=o}get protoJobType(){return function(s){const o={v1:JobType.JOB_TYPE_REFRESH_V1,v2:JobType.JOB_TYPE_REFRESH_V2,"user-preferences":JobType.JOB_TYPE_REFRESH_PPPP}[s];if(!o)throw new Error(`unknown job type: ${s}`);return o}(this.jobType)}async run(s){return this.mutex.runExclusive(async()=>{const o=await this.getLastRunTime(),a=new Date,c=await s(o?this.disableOffset?o:new Date(o.getTime()-1e4):void 0);return await this.setLastRunTime(a),c})}async resetLastRunTime(){await this.keystore.setRefreshJob({jobType:this.protoJobType,lastRunNs:me(new Date(0))})}async getLastRunTime(){const{lastRunNs:s}=await this.keystore.getRefreshJob(GetRefreshJobRequest.fromPartial({jobType:this.protoJobType}));if(!s.equals(Long.fromNumber(0)))return ge(s)}async setLastRunTime(s){await this.keystore.setRefreshJob({jobType:this.protoJobType,lastRunNs:me(s)})}}const dt=e=>!!(e.recipientAddress&&e.senderAddress);class ht{constructor(s){this.client=s,this.v1JobRunner=new ct("v1",s.keystore),this.v2JobRunner=new ct("v2",s.keystore)}async list(){const[s,o]=await Promise.all([this.listV1Conversations(),this.listV2Conversations()]),a=s.concat(o);return a.sort((c,u)=>c.createdAt.getTime()-u.createdAt.getTime()),a}async listFromCache(){const[s,o]=await Promise.all([this.getV1ConversationsFromKeystore(),this.getV2ConversationsFromKeystore()]),a=s.concat(o);return a.sort((c,u)=>c.createdAt.getTime()-u.createdAt.getTime()),a}async listV1Conversations(){return this.v1JobRunner.run(async s=>{const o=await this.getIntroductionPeers({startTime:s,direction:et.SORT_DIRECTION_ASCENDING});return await this.client.keystore.saveV1Conversations({conversations:Array.from(o).map(([a,c])=>({peerAddress:a,createdNs:me(c),topic:Se(a,this.client.address),context:void 0,consentProofPayload:void 0})).filter(a=>Re(a.topic))}),(await this.client.keystore.getV1Conversations()).conversations.map(this.conversationReferenceToV1.bind(this))})}async listV2Conversations(){return this.v2JobRunner.run(async s=>{const o=await this.getV2ConversationsFromKeystore(),a=await this.updateV2Conversations(s),c=new Set(o.map(u=>u.topic));for(const u of a)c.has(u.topic)||(o.push(u),c.add(u.topic));return o.sort((u,h)=>u.createdAt.getTime()-h.createdAt.getTime()),o})}async getV2ConversationsFromKeystore(){return(await this.client.keystore.getV2Conversations()).conversations.map(this.conversationReferenceToV2.bind(this))}async getV1ConversationsFromKeystore(){return(await this.client.keystore.getV1Conversations()).conversations.map(this.conversationReferenceToV1.bind(this))}async updateV2Conversations(s){const o=await this.client.listInvitations({startTime:s,direction:et.SORT_DIRECTION_ASCENDING});return this.decodeInvites(o)}async decodeInvites(s,o=!1){const{responses:a}=await this.client.keystore.saveInvites({requests:s.map(u=>({payload:u.message,timestampNs:Long.fromString(u.timestampNs),contentTopic:u.contentTopic})).filter(u=>Re(u.contentTopic))}),c=[];for(const u of a)try{c.push(this.saveInviteResponseToConversation(u))}catch(h){if(console.warn("Error saving invite response to conversation: ",h),o)throw h}return c}saveInviteResponseToConversation({result:s,error:o}){if(o||!s||!s.conversation)throw new Error(`Error from keystore: ${o==null?void 0:o.code} ${o==null?void 0:o.message}}`);return this.conversationReferenceToV2(s.conversation)}conversationReferenceToV2(s){return new De(this.client,s.topic,s.peerAddress,ge(s.createdNs),s.context,s.consentProofPayload)}conversationReferenceToV1(s){return new Ne(this.client,s.peerAddress,ge(s.createdNs))}async stream(s){const o=new Set,a=Ce(this.client.address),c=Ie(this.client.address),u=[a,c];return ye.create(this.client,u,(async h=>{if(h.contentTopic===a){if(!h.message)throw new Error("empty envelope");const p=await _e.fromBytes(h.message),m=this.getPeerAddress(p);return(y=>!o.has(y)&&(o.add(y),!0))(m)?(await p.decrypt(this.client.keystore,this.client.publicKeyBundle),new Ne(this.client,m,p.sent)):void 0}if(h.contentTopic===c){const p=await this.decodeInvites([h],!0);if(p.length)return p[0]}throw new Error("unrecognized invite topic")}).bind(this),void 0,s)}async streamAllMessages(s){const o=Ce(this.client.address),a=Ie(this.client.address),c=new Set([o,a]),u=new Map;for(const y of await this.list())c.add(y.topic),u.set(y.topic,y);const h=(y,v)=>!c.has(y)&&(u.set(y,v),c.add(y),!0),p=await ye.create(this.client,Array.from(c.values()),async y=>{const v=y.contentTopic;if(!v||!y.message)return null;if(v===o){const w=await _e.fromBytes(y.message);if(!dt(w))return null;const S=this.getPeerAddress(w);return new Ne(this.client,S,w.sent).decodeMessage(y)}if(v===a)return(await this.decodeInvites([y],!0))[0];const b=u.get(v);if(b instanceof Ne||b instanceof De)return b.decodeMessage(y);throw console.log("Unknown topic"),new Error("Unknown topic")},y=>{var v;if(y instanceof Ue&&y.contentTopic===o){const b=new Ne(this.client,((v=y.recipientAddress)==null?void 0:v.toLowerCase())===this.client.address.toLowerCase()?y.senderAddress:y.recipientAddress,y.sent);return h(b.topic,b)?Array.from(c.values()):void 0}if(y instanceof De)return h(y.topic,y)?Array.from(c.values()):void 0},s),m=async function*(){for await(const y of p)if(y instanceof Ue&&(yield y),y instanceof De)for(const v of await y.messages())yield v}();return m.return=async()=>(await(p==null?void 0:p.return()),{value:void 0,done:!0}),m}async getIntroductionPeers(s){const o=Ce(this.client.address),a=await this.client.listEnvelopes(o,u=>{if(!u.message)throw new Error("empty envelope");return _e.fromBytes(u.message)},s),c=new Map;for(const u of a){if(!dt(u))continue;const h=this.getPeerAddress(u);if(h){const p=c.get(h);if(!p||p>u.sent)try{await u.decrypt(this.client.keystore,this.client.publicKeyBundle),c.set(h,u.sent)}catch{continue}}}return c}async newConversation(s,o,a){const c=p=>{return p.peerAddress.toLowerCase()===s.toLowerCase()&&(m=o,y=p.context??void 0,(m==null?void 0:m.conversationId)===(y==null?void 0:y.conversationId));var m,y},u=(await this.getV2ConversationsFromKeystore()).find(c);if(u)return u;let h=await this.client.getUserContact(s);if(!h)throw new Error(`Recipient ${s} is not on the XMTP network`);if(s.toLowerCase()===this.client.address.toLowerCase())throw new Error("self messaging not supported");if(h instanceof de&&!(o!=null&&o.conversationId))return new Ne(this.client,s,new Date);if(!(o!=null&&o.conversationId)){const p=(await this.listV1Conversations()).find(m=>m.peerAddress.toLowerCase()===s.toLowerCase());if(p){if(!this.client.signedPublicKeyBundle.isFromLegacyBundle())throw new Error("cannot resume pre-existing V1 conversation; client keys not compatible");if(!(h instanceof de||h.isFromLegacyBundle()))throw new Error("cannot resume pre-existing V1 conversation; peer keys not compatible");return p}}return h instanceof de&&(h=ce.fromLegacyBundle(h)),this.v2JobRunner.run(async p=>(await this.updateV2Conversations(p)).find(c)||this.createV2Convo(h,o,a))}async createV2Convo(s,o,a){const c=new Date,{payload:u,conversation:h}=await this.client.keystore.createInvite({recipient:s,context:o,createdNs:me(c),consentProof:a});if(!u||!h)throw new Error("Required field not returned from Keystore");const p=await s.walletSignatureAddress();return await this.client.publishEnvelopes([{contentTopic:Ie(p),message:u,timestamp:c},{contentTopic:Ie(this.client.address),message:u,timestamp:c}]),await this.client.contacts.allow([p]),this.conversationReferenceToV2(h)}getPeerAddress(s){var o;return((o=s.recipientAddress)==null?void 0:o.toLowerCase())===this.client.address.toLowerCase()?s.senderAddress:s.recipientAddress}}class yt{constructor(s){this.storage=s}static create(){if(typeof localStorage>"u")throw new Error("Missing LocalStorage. Use ephemeralPersistence instead");return new yt(localStorage)}async getItem(s){const o=this.storage.getItem(s);return o===null?null:Uint8Array.from(Buffer.from(o,"binary"))}async setItem(s,o){this.storage.setItem(s,Buffer.from(o).toString("binary"))}}class ut{constructor(){this.store=new Map}get length(){return this.store.size}clear(){this.store=new Map}getItem(s){return this.validateString(s),this.store.has(s)?String(this.store.get(s)):null}key(s){if(s===void 0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");const o=[...this.store.keys()];return s>=o.length?null:o[s]}removeItem(s){this.validateString(s),this.store.delete(s)}setItem(s,o){this.validateString(s),this.validateString(o),this.store.set(String(s),String(o))}validateString(s){if(typeof s!="string")throw new TypeError("Key must be a string")}}class lt extends yt{static create(){return new yt(new ut)}}class pt extends Error{}function wt(e,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?e!==s||!a:!s.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(e):a?a.value:s.get(e)}function ft(e,s,o,a,c){if(typeof s=="function"?e!==s||!0:!s.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(e,o),o}class mt{constructor(s){if(!s.publicKey.signature)throw new Error("Provided public key is not signed");this.identityKey=s}async createToken(s){const o=$e.create(this.identityKey.publicKey.walletSignatureAddress(),s||new Date).toBytes(),a=keccak256(o),c=await this.identityKey.sign(hexToBytes$1(a));return new je(Token.fromPartial({identityKey:PublicKey.fromPartial(this.identityKey.publicKey),authDataBytes:o,authDataSignature:Signature$1.fromPartial(c)}))}}const gt=new A.ec("secp256k1"),vt=D.subtle,bt=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Et=Buffer.alloc(32,0);function Kt(e,s){if(!e)throw new Error(s||"Assertion failed")}function kt(e){return s=e,!(!Buffer.isBuffer(s)||s.length!==32)&&e.compare(Et)>0&&e.compare(bt)<0;var s}function Pt(e){const s=new Uint8Array(e);return D.getRandomValues(s),Buffer.from(s)}async function St(e){const s=await vt.digest("SHA-512",e);return Buffer.from(s)}function At(e){return function(s,o,a){return new Promise(function(c){return vt.importKey("raw",o,{name:"AES-CBC"},!1,[e]).then(function(u){const h={name:"AES-CBC",iv:s};return vt[e](h,u,a)}).then(function(u){c(Buffer.from(new Uint8Array(u)))})})}}const Tt=At("encrypt"),Ct=At("decrypt");async function It(e,s){const o=await vt.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return Buffer.from(await vt.sign({name:"HMAC",hash:"SHA-256"},o,s))}function Bt(e){return Kt(e.length===32,"Bad private key"),Kt(kt(e),"Bad private key"),Buffer.from(gt.keyFromPrivate(e).getPublic("array"))}function Rt(e,s){return new Promise(function(o){Kt(Buffer.isBuffer(e),"Bad private key"),Kt(Buffer.isBuffer(s),"Bad public key"),Kt(e.length===32,"Bad private key"),Kt(kt(e),"Bad private key"),Kt(s.length===65||s.length===33,"Bad public key"),s.length===65&&Kt(s[0]===4,"Bad public key"),s.length===33&&Kt(s[0]===2||s[0]===3,"Bad public key");const a=gt.keyFromPrivate(e),c=gt.keyFromPublic(s),u=a.derive(c.getPublic());o(Buffer.from(u.toArray()))})}async function Nt(e,s){const o=await Rt(e,s.ephemeralPublicKey),a=await St(o),c=a.slice(0,32),u=a.slice(32),h=Buffer.concat([s.iv,s.ephemeralPublicKey,s.ciphertext]);return Kt(await async function(p,m,y){return function(v,b){if(v.length!==b.length)return!1;let w=0;for(let S=0;S<v.length;S++)w|=v[S]^b[S];return w===0}(await It(p,m),y)}(u,h,s.mac),"Bad mac"),Ct(s.iv,c,s.ciphertext)}async function Dt(e,s){await __wbg_init();const o=e.publicKey.secp256k1Uncompressed.bytes,a=e.secp256k1.bytes;return user_preferences_encrypt(o,a,s)}async function Mt(e,s){await __wbg_init();const o=e.publicKey.secp256k1Uncompressed.bytes,a=e.secp256k1.bytes;return user_preferences_decrypt(o,a,s)}class xt{constructor({topic:s,context:o,aes256GcmHkdfSha256:a,consentProof:c}){if(!s||!s.length)throw new Error("Missing topic");if(!a||!a.keyMaterial||!a.keyMaterial.length)throw new Error("Missing key material");this.topic=s,this.context=o,this.aes256GcmHkdfSha256=a,this.consentProof=c}static createRandom(s,o){const a=Ae(Buffer.from(D.getRandomValues(new Uint8Array(32))).toString("base64").replace(/=*$/g,"").replace(/\//g,"-")),c=D.getRandomValues(new Uint8Array(32));return new xt({topic:a,aes256GcmHkdfSha256:{keyMaterial:c},context:s,consentProof:o})}toBytes(){return InvitationV1.encode(this).finish()}static fromBytes(s){return new xt(InvitationV1.decode(s))}}class _t{constructor({sender:s,recipient:o,createdNs:a}){if(!s)throw new Error("Missing sender");if(!o)throw new Error("Missing recipient");this.sender=new ce(s),this.recipient=new ce(o),this.createdNs=a}toBytes(){return SealedInvitationHeaderV1.encode(this).finish()}static fromBytes(s){return new _t(SealedInvitationHeaderV1.decode(s))}}class Vt{constructor({headerBytes:s,ciphertext:o}){if(!s||!s.length)throw new Error("Missing header bytes");if(!o)throw new Error("Missing ciphertext");this.headerBytes=s,this.ciphertext=new N(o)}get header(){return this._header||(this._header=_t.fromBytes(this.headerBytes)),this._header}async getInvitation(s){if(this._invitation)return this._invitation;const o=this.header;let a;a=s.identityKey.matches(this.header.sender.identityKey)?await s.sharedSecret(o.recipient,o.sender.preKey,!1):await s.sharedSecret(o.sender,o.recipient.preKey,!0);const c=await U(this.ciphertext,a,this.headerBytes);return this._invitation=xt.fromBytes(c),this._invitation}toBytes(){return SealedInvitationV1.encode(this).finish()}static fromBytes(s){return new Vt(SealedInvitationV1.decode(s))}}class Ut{constructor({v1:s}){if(!s)throw new Error("Missing v1 or v2 invitation");this.v1=new Vt(s)}toBytes(){return SealedInvitation.encode(this).finish()}static fromBytes(s){return new Ut(SealedInvitation.decode(s))}static async fromEnvelope(s){var u;if(!s.message||!s.timestampNs)throw new Error("invalid invitation envelope");const o=Ut.fromBytes(s.message),a=Long.fromString(s.timestampNs),c=(u=o.v1)==null?void 0:u.header.createdNs;if(!c||!c.equals(a))throw new Error("envelope and header timestamp mistmatch");return o}static async createV1({sender:s,recipient:o,created:a,invitation:c}){const u=new _t({sender:s.getPublicKeyBundle(),recipient:o,createdNs:me(a)}).toBytes(),h=await s.sharedSecret(o,s.getCurrentPreKey().publicKey,!1),p=c.toBytes(),m=await V(p,h,u);return new Ut({v1:{headerBytes:u,ciphertext:m}})}}var Ot,qt,Lt,Gt,Ht,Ft;class $t{constructor(s,o,a=new Map){Ot.add(this),qt.set(this,void 0),Lt.set(this,void 0),Gt.set(this,void 0),Ht.set(this,void 0),ft(this,Lt,o),ft(this,qt,s),ft(this,Ht,0),ft(this,Gt,new Mutex),this.actionsMap=a}get revisionKey(){return wt(this,Lt,"f")+"/revision"}static async create(s){const o=new $t(s,"private-preferences/actions");return await o.refresh(),o}async refresh(){const s=await this.getRevision();s>wt(this,Ht,"f")&&(this.actionsMap=await this.loadFromPersistence()),ft(this,Ht,s)}async getRevision(){const s=await wt(this,qt,"f").getItem(this.revisionKey);return s?fe(s):0}async setRevision(s){await wt(this,qt,"f").setItem(this.revisionKey,we(s))}async loadFromPersistence(){const s=await wt(this,qt,"f").getItem(wt(this,Lt,"f"));if(!s)return new Map;const o=PrivatePreferencesActionMap.decode(s),a=new Map,c=Object.entries(o.actions);for(let u=0;u<c.length;u++)a.set(c[u][0],c[u][1]);return a}async store(){var s;await wt(this,qt,"f").setItem(wt(this,Lt,"f"),wt(this,Ot,"m",Ft).call(this)),ft(this,Ht,(s=wt(this,Ht,"f"),++s)),await this.setRevision(wt(this,Ht,"f"))}async add(s){await wt(this,Gt,"f").runExclusive(async()=>{await this.refresh();let o=!1;const a=Array.from(s.keys());for(let c=0;c<a.length;c++)this.actionsMap.has(a[c])||(this.actionsMap.set(a[c],s.get(a[c])),o=!0);o&&await this.store()})}get actions(){return new Map([...this.actionsMap.entries()].sort((s,o)=>be(s[0]).getTime()-be(o[0]).getTime()))}lookup(s){return this.actionsMap.get(s)}}qt=new WeakMap,Lt=new WeakMap,Gt=new WeakMap,Ht=new WeakMap,Ot=new WeakSet,Ft=function(){return PrivatePreferencesActionMap.encode({actions:Object.fromEntries(this.actionsMap)}).finish()};const jt=(e,s)=>e instanceof Ee?e:new Ee(s,e.message),Xt=(e,s,o)=>Promise.all(e.map(async a=>{try{return{result:await s(a)}}catch(c){return{error:jt(c,o)}}})),Jt=e=>e instanceof de?e:new de(e),zt=(e,s,o)=>{for(const a of s)if(!e[a])throw new Ee(ErrorCode.ERROR_CODE_INVALID_INPUT,`Missing field ${String(a)}`);for(const a of o){const c=e[a];if(!c||!(c!=null&&c.length))throw new Ee(ErrorCode.ERROR_CODE_INVALID_INPUT,`Missing field ${String(a)}`)}return!0},Wt=e=>{var s;if(!((s=e==null?void 0:e.aes256GcmHkdfSha256)!=null&&s.keyMaterial))throw new Ee(ErrorCode.ERROR_CODE_INVALID_INPUT,"Missing key material");return e.aes256GcmHkdfSha256.keyMaterial},Yt=({invitation:e,createdNs:s,peerAddress:o})=>({context:e.context,topic:e.topic,peerAddress:o,createdNs:s,consentProofPayload:e.consentProof});class Qt{constructor(s,o,a=new Map){this.persistenceKey=o,this.persistence=s,this.revision=0,this.mutex=new Mutex,this.topicMap=a}get revisionKey(){return this.persistenceKey+"/revision"}static async create(s){const o=new Qt(s,"invitations/v1");return await o.refresh(),o}validate(s){return!!s.topic&&s.topic.length>0&&!!s.invitation}async refresh(){const s=await this.getRevision();if(s>this.revision)for(const[o,a]of await this.loadFromPersistence())this.topicMap.set(o,a);this.revision=s}async getRevision(){const s=await this.persistence.getItem(this.revisionKey);return s?fe(s):0}async setRevision(s){await this.persistence.setItem(this.revisionKey,we(s))}async loadFromPersistence(){const s=await this.persistence.getItem(this.persistenceKey);return s?(o=>{const a=new Map;for(const[c,u]of Object.entries(o.topics))a.set(c,u);return a})(TopicMap.decode(s)):new Map}async store(){await this.persistence.setItem(this.persistenceKey,this.toBytes()),this.revision++,await this.setRevision(this.revision)}async add(s){await this.mutex.runExclusive(async()=>{await this.refresh();let o=!1;for(const a of s){if(!this.validate(a)){console.warn("Invalid topic data",a.topic);continue}const{topic:c,...u}=a;this.topicMap.has(c)||(this.topicMap.set(c,u),o=!0)}o&&await this.store()})}get topics(){return[...this.topicMap.values()]}lookup(s){return this.topicMap.get(s)}toBytes(){return TopicMap.encode({topics:Object.fromEntries(this.topicMap)}).finish()}}class Zt extends Qt{static async create(s){const o=new Zt(s,"conversation-v1/v1");return await o.refresh(),o}validate(s){var o;return!!(s.topic&&s.topic.length&&((o=s.peerAddress)==null?void 0:o.length)>0)}}const es=async(e,s,o,a)=>V(o,await e.sharedSecret(s,e.getCurrentPreKey().publicKey,!1),a);var ts;const{ErrorCode:ss}=i,rs=new TextEncoder().encode("__XMTP__INVITATION__SALT__XMTP__");class ns{constructor(s,o,a,c,u){ts.set(this,void 0),this.v1Keys=s,this.v2Keys=Ge.fromLegacyBundle(s),this.v1Store=o,this.v2Store=a,this.privatePreferencesStore=c,this.authenticator=new mt(s.identityKey),this.jobStatePersistence=u}static async create(s,o){return new ns(s,await Zt.create(o),await Qt.create(o),await $t.create(o),o)}get walletAddress(){return this.v1Keys.identityKey.publicKey.walletSignatureAddress()}async decryptV1(s){const o=await Xt(s.requests,async a=>{zt(a,["payload","peerKeys"],["headerBytes"]);const{payload:c,peerKeys:u,headerBytes:h,isSender:p}=a;return{decrypted:await(async(y,v,b,w,S)=>U(b,await y.sharedSecret(v,y.getCurrentPreKey().publicKey,!S),w))(this.v1Keys,Jt(u),c,h,p)}},ErrorCode.ERROR_CODE_UNSPECIFIED);return DecryptResponse.fromPartial({responses:o})}async decryptV2(s){const o=await Xt(s.requests,async a=>{zt(a,["payload"],["headerBytes"]);const{payload:c,headerBytes:u,contentTopic:h}=a,p=this.v2Store.lookup(h);if(!p)throw new Ee(ErrorCode.ERROR_CODE_NO_MATCHING_PREKEY,"no topic key");return{decrypted:await((y,v,b)=>U(y,v,b))(c,Wt(p.invitation),u)}},ss.ERROR_CODE_UNSPECIFIED);return DecryptResponse.fromPartial({responses:o})}async encryptV1(s){const o=await Xt(s.requests,async a=>{zt(a,["payload","recipient"],["headerBytes"]);const{recipient:c,payload:u,headerBytes:h}=a;return{encrypted:await es(this.v1Keys,Jt(c),u,h)}},ss.ERROR_CODE_UNSPECIFIED);return EncryptResponse.fromPartial({responses:o})}async createAuthToken({timestampNs:s}){return this.authenticator.createToken(s?ge(s):void 0)}async selfEncrypt(s){const o=await Xt(s.requests,async a=>{const{payload:c}=a;if(!c)throw new Ee(ss.ERROR_CODE_INVALID_INPUT,"Missing field payload");return{encrypted:await Dt(this.v1Keys.identityKey,c)}},ss.ERROR_CODE_INVALID_INPUT);return SelfEncryptResponse.fromPartial({responses:o})}async selfDecrypt(s){const o=await Xt(s.requests,async a=>{const{payload:c}=a;if(!c)throw new Ee(ss.ERROR_CODE_INVALID_INPUT,"Missing field payload");return{decrypted:await Mt(this.v1Keys.identityKey,c)}},ss.ERROR_CODE_INVALID_INPUT);return DecryptResponse.fromPartial({responses:o})}async getPrivatePreferencesTopicIdentifier(){const s=await async function(o){await __wbg_init();const a=o.secp256k1.bytes;return generate_private_preferences_topic(a)}(this.v1Keys.identityKey);return GetPrivatePreferencesTopicIdentifierResponse.fromPartial({identifier:s})}async encryptV2(s){const o=await Xt(s.requests,async a=>{zt(a,["payload"],["headerBytes"]);const{payload:c,headerBytes:u,contentTopic:h}=a,p=this.v2Store.lookup(h);if(!p)throw new Ee(ss.ERROR_CODE_NO_MATCHING_PREKEY,"no topic key");const m=Wt(p.invitation),y=await((b,w,S)=>V(b,w,S))(c,m,u),v=`${Math.floor(Date.now()/1e3/60/60/24/30)}-${await this.getAccountAddress()}`;return{encrypted:y,senderHmac:await G(m,new TextEncoder().encode(v),u)}},ss.ERROR_CODE_INVALID_INPUT);return EncryptResponse.fromPartial({responses:o})}async saveInvites(s){const o=[],a=await Xt(s.requests,async({payload:c,timestampNs:u})=>{const h=Ut.fromBytes(c);if(h.v1){if(!h.v1.header.createdNs.equals(u))throw new Error("envelope and header timestamp mismatch");const p=h.v1.header.sender.equals(this.v2Keys.getPublicKeyBundle()),m=await h.v1.getInvitation(this.v2Keys),y={invitation:m,createdNs:h.v1.header.createdNs,peerAddress:p?await h.v1.header.recipient.walletSignatureAddress():await h.v1.header.sender.walletSignatureAddress()};return o.push({...y,topic:m.topic}),{conversation:Yt(y)}}},ss.ERROR_CODE_INVALID_INPUT);return await this.v2Store.add(o),SaveInvitesResponse.fromPartial({responses:a})}async createInvite(s){var a;try{zt(s,["recipient"],[]);const c=ge(s.createdNs),u=(o=s.recipient)instanceof ce?o:new ce(o),h=await this.getAccountAddress(),p=await u.walletSignatureAddress(),m=await this.v2Keys.sharedSecret(u,this.v2Keys.getCurrentPreKey().publicKey,h<p),y=[h,p].sort(),v=(((a=s.context)==null?void 0:a.conversationId)||"")+y.join(),b=new TextEncoder().encode(v),w=j(await It(Buffer.from(m),Buffer.from(b))),S=["0",...y].join("|"),P=new TextEncoder().encode(S),R=await async function(yr,lr){const br=await D.subtle.importKey("raw",yr,"HKDF",!1,["deriveKey"]);return D.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:rs,info:lr},br,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}(m,P),T=new Uint8Array(await D.subtle.exportKey("raw",R)),k=new xt({topic:Ae(w),aes256GcmHkdfSha256:{keyMaterial:T},context:s.context,consentProof:s.consentProof}),or=await Ut.createV1({sender:this.v2Keys,recipient:u,created:c,invitation:k}),dr={invitation:k,topic:k.topic,createdNs:s.createdNs,peerAddress:await u.walletSignatureAddress()};return await this.v2Store.add([dr]),CreateInviteResponse.fromPartial({conversation:Yt(dr),payload:or.toBytes()})}catch(c){throw jt(c,ss.ERROR_CODE_INVALID_INPUT)}var o}async signDigest(s){zt(s,["digest"],[]);const{digest:o,identityKey:a,prekeyIndex:c}=s;let u;if(a)u=this.v1Keys.identityKey;else{if(c===void 0||!Number.isInteger(c))throw new Ee(ss.ERROR_CODE_INVALID_INPUT,"must specifify identityKey or prekeyIndex");if(u=this.v1Keys.preKeys[c],!u)throw new Ee(ss.ERROR_CODE_NO_MATCHING_PREKEY,"no prekey found")}return u.sign(o)}async saveV1Conversations({conversations:s}){return await this.v1Store.add(s.map(o=>({topic:Se(o.peerAddress,this.walletAddress),peerAddress:o.peerAddress,createdNs:o.createdNs,invitation:void 0}))),{}}async getV1Conversations(){return{conversations:this.v1Store.topics.map(this.topicDataToV1ConversationReference.bind(this))}}async getV2Conversations(){const s=this.v2Store.topics.map(o=>Yt(o));return s.sort((o,a)=>o.createdNs.div(1e6).sub(a.createdNs.div(1e6)).toNumber()),GetConversationsResponse.fromPartial({conversations:s})}async getPublicKeyBundle(){return this.v1Keys.getPublicKeyBundle()}async getPrivateKeyBundle(){return this.v1Keys}async getAccountAddress(){return this.accountAddress||(this.accountAddress=await this.v2Keys.getPublicKeyBundle().walletSignatureAddress()),this.accountAddress}async getRefreshJob({jobType:s}){if(s===JobType.JOB_TYPE_UNSPECIFIED)throw new Ee(ss.ERROR_CODE_INVALID_INPUT,"invalid job type");const o=await this.getLastRunTime(s);return GetRefreshJobResponse.fromPartial({lastRunNs:o||Long.fromNumber(0)})}async setRefreshJob({jobType:s,lastRunNs:o}){const a=await this.buildJobStorageKey(s);return await this.jobStatePersistence.setItem(a,Uint8Array.from(o.toBytes())),{}}topicDataToV1ConversationReference(s){return{peerAddress:s.peerAddress,createdNs:s.createdNs,topic:Se(s.peerAddress,this.walletAddress),context:void 0,consentProofPayload:void 0}}buildJobStorageKey(s){return`refreshJob/${s.toString()}`}async getLastRunTime(s){const o=await this.jobStatePersistence.getItem(this.buildJobStorageKey(s));if(o&&o.length)return Long.fromBytes([...o])}lookupTopic(s){return this.v2Store.lookup(s)}async getV2ConversationHmacKeys(s){const o=Math.floor(Date.now()/1e3/60/60/24/30),a={};let c=this.v2Store.topics;return s!=null&&s.topics&&(c=c.filter(u=>u.invitation!==void 0&&s.topics.includes(u.invitation.topic))),await Promise.all(c.map(async u=>{var h;if((h=u.invitation)!=null&&h.topic){const p=Wt(u.invitation),m=await Promise.all([o-1,o,o+1].map(async y=>{const v=`${y}-${await this.getAccountAddress()}`,b=await L(p,new TextEncoder().encode(v));return{thirtyDayPeriodsSinceEpoch:y,hmacKey:await F(b)}}));a[u.invitation.topic]={values:m}}})),{hmacKeys:a}}async getPrivatePreferencesTopic(){if(!wt(this,ts,"f")){const{identifier:s}=await this.getPrivatePreferencesTopicIdentifier();ft(this,ts,(o=>Pe(`userpreferences-${o}`))(s))}return wt(this,ts,"f")}async createPrivatePreference(s){const{responses:o}=await this.selfEncrypt({requests:[{payload:PrivatePreferencesAction.encode(s).finish()}]}),a=o.reduce((h,p)=>{var m,y;return(m=p.result)!=null&&m.encrypted?h.concat((y=p.result)==null?void 0:y.encrypted):h},[]),c=await this.getPrivatePreferencesTopic(),u=new Date;return a.map(h=>({contentTopic:c,message:h,timestamp:u}))}getPrivatePreferences(){return this.privatePreferencesStore.actions}savePrivatePreferences(s){return this.privatePreferencesStore.add(s)}}ts=new WeakMap;class is{constructor(s){this.apiClient=s}async getItem(s){for await(const o of this.apiClient.queryIterator({contentTopic:this.buildTopic(s)},{pageSize:1,direction:SortDirection$1.SORT_DIRECTION_DESCENDING}))if(o.message)try{return Uint8Array.from(o.message)}catch(a){console.log(a)}return null}async setItem(s,o){const a=Uint8Array.from(o);await this.apiClient.publish([{contentTopic:this.buildTopic(s),message:a}])}setAuthenticator(s){this.apiClient.setAuthenticator(s)}buildTopic(s){return Be(s)}}class as{constructor({eciesBytes:s,signature:o}){if(!s||!s.length)throw new Error("eciesBytes is empty");if(!o)throw new Error("signature is undefined");this.eciesBytes=s,this.signature=new te(o),this.ciphertext=SignedEciesCiphertext_Ecies.decode(s)}toBytes(){return SignedEciesCiphertext.encode(this).finish()}async verify(s){return s.verify(this.signature,await _(this.eciesBytes))}static fromBytes(s){const o=SignedEciesCiphertext.decode(s);return new as(o)}static async create(s,o){(u=>{if(u.iv.length!==16)throw new Error("Invalid iv length");if(u.ephemeralPublicKey.length!==65)throw new Error("Invalid ephemPublicKey length");if(u.ciphertext.length<1||u.ciphertext.length%16!=0)throw new Error("Invalid ciphertext length");if(u.mac.length!==32)throw new Error("Invalid mac length")})(s);const a=SignedEciesCiphertext_Ecies.encode(s).finish(),c=await o.sign(await _(a));return new as({eciesBytes:a,signature:c})}}class os{constructor(s,o){this.persistence=s,this.privateKey=o,this.privateKeyBytes=Buffer.from(o.secp256k1.bytes),this.publicKey=Bt(this.privateKeyBytes)}async getItem(s){const o=await this.persistence.getItem(s);return o?this.decrypt(o):null}async setItem(s,o){const a=await this.encrypt(o);await this.persistence.setItem(s,a)}async encrypt(s){const o=await async function(a,c,u){u=u||{};const h=(u==null?void 0:u.iv)||Pt(16);let p=(u==null?void 0:u.ephemPrivateKey)||Pt(32);for(;!kt(p);){if(u!=null&&u.ephemPrivateKey)throw new Error("ephemPrivateKey is not valid");p=Pt(32)}const m=Bt(p),y=await St(await Rt(p,a)),v=y.slice(0,32),b=y.slice(32),w=await Tt(h,v,c),S=Buffer.concat([h,m,w]);return{iv:h,ephemeralPublicKey:m,ciphertext:w,mac:await It(b,S)}}(this.publicKey,Buffer.from(s));return this.serializeEcies(o)}async decrypt(s){const o=await this.deserializeEcies(s),a=await Nt(this.privateKeyBytes,o);return Uint8Array.from(a)}async serializeEcies(s){return(await as.create(s,this.privateKey)).toBytes()}async deserializeEcies(s){const o=as.fromBytes(s);if(!await o.verify(this.privateKey.publicKey))throw new Error("signature validation failed");const a=o.ciphertext;return{ciphertext:Buffer.from(a.ciphertext),mac:Buffer.from(a.mac),iv:Buffer.from(a.iv),ephemeralPublicKey:Buffer.from(a.ephemeralPublicKey)}}}class cs{constructor(s,o){this.prefix=s,this.persistence=o}getItem(s){return this.persistence.getItem(this.buildKey(s))}setItem(s,o){return this.persistence.setItem(this.buildKey(s),o)}buildKey(s){return this.prefix+s}}const ds=async(e,s)=>{if(!e.persistConversations)return lt.create();const o=await s.identityKey.publicKey.walletSignatureAddress(),a=`xmtp/${e.env}/${o}/`,c=e.basePersistence,u=!e.disablePersistenceEncryption;return new cs(a,u?new os(c,s.identityKey):c)},hs="key_bundle";class ys{constructor(s,o,a){this.signer=s,this.persistence=o,this.preEnableIdentityCallback=a}async getStorageAddress(s){let o=await this.signer.getAddress();return o=getAddress(o),`${o}/${s}`}async loadPrivateKeyBundle(){const s=await this.persistence.getItem(await this.getStorageAddress(hs));if(!s)return null;const[o,a]=await this.fromEncryptedBytes(this.signer,Uint8Array.from(s));return a&&await this.storePrivateKeyBundle(o),o}async storePrivateKeyBundle(s){const o=await this.getStorageAddress(hs),a=await this.toEncryptedBytes(s,this.signer);typeof this.persistence.setAuthenticator=="function"&&this.persistence.setAuthenticator(new mt(s.identityKey)),await this.persistence.setItem(o,a)}async toEncryptedBytes(s,o){const a=s.encode(),c=D.getRandomValues(new Uint8Array(32)),u=ls(c),h=await o.getAddress();this.preEnableIdentityCallback&&await this.preEnableIdentityCallback();const p=await o.signMessage(u);if(!verifyMessage({address:h,message:u,signature:p}))throw new Error("invalid signature");const m=hexToBytes$1(p),y=await V(a,m);return EncryptedPrivateKeyBundle.encode({v1:{walletPreKey:c,ciphertext:y}}).finish()}async fromEncryptedBytes(s,o){var h;const[a,c]=function(p){try{const m=EncryptedPrivateKeyBundle.decode(p);if(m.v1)return[m.v1,!1]}catch{return[EncryptedPrivateKeyBundleV1.decode(p),!0]}throw new Error("unrecognized encrypted private key bundle version")}(o);if(!a.walletPreKey)throw new Error("missing wallet pre-key");if(!((h=a.ciphertext)!=null&&h.aes256GcmHkdfSha256))throw new Error("missing bundle ciphertext");this.preEnableIdentityCallback&&await this.preEnableIdentityCallback();const u=hexToBytes$1(await s.signMessage(ls(a.walletPreKey)));try{const p=new N(a.ciphertext),m=await U(p,u),[y,v]=us(m);return[y,c||v]}catch{if(u.length!==65)throw new Error("Expected 65 bytes before trying a different recovery byte");const m=u[u.length-1];let y=u.slice(0,u.length-1);y=m<27?new Uint8Array([...y,m+27]):new Uint8Array([...y,m-27]);const v=new N(a.ciphertext),b=await U(v,y),[w,S]=us(b);return[w,c||S]}}}function us(e){try{const s=Fe(e);if(s instanceof Ge)throw new Error("V2 bundles not supported yet");return[s,!1]}catch{const o=PrivateKeyBundleV1.decode(e);return[new He(o),!0]}}function ls(e){return`XMTP : Enable Identity
${j(e)}

For more info: https://xmtp.org/signatures/`}class ps{async newKeystore(s,o,a){if(!a)throw new pt("Wallet required to generate new keys");s.preCreateIdentityCallback&&await s.preCreateIdentityCallback();const c=await He.generate(a);return await new ys(a,new is(o),s.preEnableIdentityCallback).storePrivateKeyBundle(c),ns.create(c,await ds(s,c))}}class ws{async newKeystore(s,o,a){if(!a)throw new pt("No wallet provided");const c=new ys(a,new is(o),s.preEnableIdentityCallback),u=await c.loadPrivateKeyBundle();if(!u)throw new pt("No keys found");return ns.create(u,await ds(s,u))}}function fs(){return window.ethereum}function ms(e){const[s,o,...a]=e.split(".");return{major:Number(s),minor:Number(o),patch:a.join(".")}}function gs(e,s){if(!e||!s)return!1;const o=ms(e),a=ms(s);return o.major!==a.major?o.major>a.major:o.minor!==a.minor?o.minor>a.minor:!(!o.patch||!a.patch)&&function(c,u){const[h,p]=c.split("-"),[m,y]=u.split("-");if(Number(h)!==Number(m))return Number(h)>Number(m);if(!p||!y)return!1;const[v,b]=p.split("."),[w,S]=y.split(".");return v!==w?!0:Number(b)>Number(S)}(o.patch,a.patch)}const{GetKeystoreStatusResponse_KeystoreStatus:vs,InitKeystoreRequest:bs,InitKeystoreResponse:Es,GetKeystoreStatusRequest:Ks,GetKeystoreStatusResponse:ks}=i;async function Ps(e,s,o,a,c){let u=null;if(s.req){const p=(0,s.req.encode)(o).finish();u=le(p,0,p.length)}const h=await async function(p,m,y,v){var S;const b={meta:y};typeof m=="string"&&(b.req=m);const w=await((S=fs())==null?void 0:S.request({method:"wallet_invokeSnap",params:{snapId:v,request:{method:p,params:b}}}));if(!w||typeof w!="object")throw new Error("No response value");return w.res}(e,u,a,c);if(Array.isArray(h))throw new Error("Unexpected array response");return s.res.decode(ue(h))}async function Ss(){var s;const e=fs();if(e!=null&&e.isMetaMask)try{return await e.request({method:"wallet_getSnaps"}),!0}catch{}if((e==null?void 0:e.detected)!==void 0&&Array.isArray(e.detected))for(const o of e.detected)try{return await o.request({method:"wallet_getSnaps"}),(s=e==null?void 0:e.setProvider)==null||s.call(e,o),!0}catch{}if((e==null?void 0:e.providers)!==void 0&&Array.isArray(e.providers))for(const o of e.providers)try{return await o.request({method:"wallet_getSnaps"}),window.ethereum=o,!0}catch{}return!1}async function As(e,s){try{const o=await async function(){var a;return await((a=fs())==null?void 0:a.request({method:"wallet_getSnaps"}))}();return o?Object.values(o).find(a=>{return a&&a.id===e&&(!s||(c=a.version,u=s,!c||!u||ms(c).major===ms(u).major));var c,u}):void 0}catch(o){return void console.warn("Failed to obtain installed snap",o)}}const Ts={req:Ks,res:ks},Cs={req:bs,res:Es},Bs={getKeystoreStatus:{req:GetKeystoreStatusRequest,res:GetKeystoreStatusResponse},initKeystore:{req:InitKeystoreRequest,res:InitKeystoreResponse}},{GetKeystoreStatusResponse_KeystoreStatus:Rs}=i;class Ns{constructor(s="local:http://localhost:8080",o){this.snapId=s,this.snapVersion=o}async newKeystore(s,o,a){if(!a)throw new pt("No wallet provided");if(!await Ss())throw new pt("MetaMask with Snaps not detected");const c=await a.getAddress(),u=s.env,h=await As(this.snapId,this.snapVersion);if(h&&!gs(this.snapVersion,h.version)||await async function(p,m={}){var y;await((y=fs())==null?void 0:y.request({method:"wallet_requestSnaps",params:{[p]:m}}))}(this.snapId,this.snapVersion?{version:this.snapVersion}:{}),!await async function(p,m,y){return await async function(b,w){const S=await Ps("getKeystoreStatus",Ts,{walletAddress:b.walletAddress},b,w);if([vs.KEYSTORE_STATUS_UNSPECIFIED,vs.UNRECOGNIZED].includes(S.status))throw new Error("No status specified in response");return S.status}({walletAddress:p,env:m},y)===Rs.KEYSTORE_STATUS_INITIALIZED}(c,u,this.snapId)){const p=await async function(m,y,v){if(m.privateKeyOverride){const b=Fe(m.privateKeyOverride);if(!(b instanceof He))throw new Error("Unsupported private key bundle version");return b}if(!v)throw new Error("No privateKeyOverride or wallet");return async function(b,w,S){const P=new ws;try{const R=await P.newKeystore(b,w,S);return new He(await R.getPrivateKeyBundle())}catch(R){if(R instanceof pt)return async function(T,k,or){const dr=new ps,yr=await dr.newKeystore(T,k,or);return new He(await yr.getPrivateKeyBundle())}(b,w,S);throw R}}(m,y,v)}(s,o,a);await async function(m,y,v){const b=m.identityKey.publicKey.walletSignatureAddress(),w=await Ps("initKeystore",Cs,{v1:m},{walletAddress:b,env:y},v);if(w.error)throw new Ee(w.error.code,w.error.message)}(p,u,this.snapId)}return function(p,m,y){const v={},b={walletAddress:p,env:m};for(const[w,S]of Object.entries(Bs))v[w]=async P=>S.req?Ps(w,S,P,b,y):Ps(w,S,void 0,b,y);return{...v,getAccountAddress:async()=>p}}(c,u,this.snapId)}}class Ds{async newKeystore(s){const{privateKeyOverride:o}=s;if(!o)throw new pt("No private key override provided");const a=Fe(o);if(a instanceof Ge)throw new Error("V2 private key bundle found. Only V1 supported");return ns.create(a,await ds(s,a))}}function Ms(e){if(!e)return null;if(function(s){return"type"in s&&(s.type==="walletClient"||s.type==="base")}(e))return function(s){const{account:o}=s;if(!o||!o.address)throw new Error("WalletClient is not configured");return{getAddress:async()=>o.address,signMessage:async a=>s.signMessage({message:typeof a=="string"?a:{raw:a},account:o})}}(e);if(typeof e.getAddress!="function")throw new Error("Unknown wallet type");return e}function xs(e){if(e===Compression$1.COMPRESSION_GZIP)return"gzip";if(e===Compression$1.COMPRESSION_DEFLATE)return"deflate";throw new Error("unrecognized compression algorithm")}function _s(e,s=1024){let o=0;return new ReadableStream({pull(a){if(o>=e.length)return a.close();let c=o+s;c=c<=e.length?c:e.length,a.enqueue(e.subarray(o,c)),o=c}})}function Vs(e,s){let o=0;return new WritableStream({write(a){const c=o+a.length;if(c>s)throw new Error("maximum output size exceeded");for(;e.bytes.length<c;)e.bytes=Us(e.bytes,s);e.bytes.set(a,o),o=c},close(){o<e.bytes.length&&(e.bytes=e.bytes.subarray(0,o))}})}function Us(e,s){let o=2*e.length;o>s&&(o=s);const a=new Uint8Array(o);return a.set(e),a}function Os(e){var o,a;let s;try{s=ContactBundle.decode(e)}catch{const u=PublicKeyBundle.decode(e);s={v1:{keyBundle:new de(u)},v2:void 0}}if((o=s.v1)!=null&&o.keyBundle)return new de(s.v1.keyBundle);if((a=s.v2)!=null&&a.keyBundle)return new ce(s.v2.keyBundle);throw new Error("unknown or invalid contact bundle")}function qs(e){return e instanceof de?ContactBundle.encode({v1:{keyBundle:e},v2:void 0}).finish():ContactBundle.encode({v1:void 0,v2:{keyBundle:e}}).finish()}var Ls,Gs,Hs,Fs,$s;class js{constructor(s,o,a){this.value=s,this.entryType=o,this.permissionType=a}get key(){return`${this.entryType}-${this.value}`}static fromAddress(s,o="unknown"){return new js(s,"address",o)}static fromGroupId(s,o="unknown"){return new js(s,"groupId",o)}static fromInboxId(s,o="unknown"){return new js(s,"inboxId",o)}}class Xs{constructor(s){this.entries=new Map,this.client=s}allow(s){const o=js.fromAddress(s,"allowed");return this.entries.set(o.key,"allowed"),o}deny(s){const o=js.fromAddress(s,"denied");return this.entries.set(o.key,"denied"),o}allowGroup(s){const o=js.fromGroupId(s,"allowed");return this.entries.set(o.key,"allowed"),o}denyGroup(s){const o=js.fromGroupId(s,"denied");return this.entries.set(o.key,"denied"),o}allowInboxId(s){const o=js.fromInboxId(s,"allowed");return this.entries.set(o.key,"allowed"),o}denyInboxId(s){const o=js.fromInboxId(s,"denied");return this.entries.set(o.key,"denied"),o}state(s){const o=js.fromAddress(s);return this.entries.get(o.key)??"unknown"}groupState(s){const o=js.fromGroupId(s);return this.entries.get(o.key)??"unknown"}inboxIdState(s){const o=js.fromInboxId(s);return this.entries.get(o.key)??"unknown"}async decodeMessages(s){const o=Array.from(s.values()),{responses:a}=await this.client.keystore.selfDecrypt({requests:o.map(u=>({payload:u}))}),c=Array.from(s.keys()).map((u,h)=>[u,a[h]]).reduce((u,[h,p])=>{var m;if((m=p.result)!=null&&m.decrypted){const y=PrivatePreferencesAction.decode(p.result.decrypted);u.set(h,y)}return u},new Map);return await this.client.keystore.savePrivatePreferences(c),c}processActions(s){Array.from(s.values()).forEach(o=>{var a,c,u,h,p,m;(a=o.allowAddress)==null||a.walletAddresses.forEach(y=>{this.allow(y)}),(c=o.denyAddress)==null||c.walletAddresses.forEach(y=>{this.deny(y)}),(u=o.allowGroup)==null||u.groupIds.forEach(y=>{this.allowGroup(y)}),(h=o.denyGroup)==null||h.groupIds.forEach(y=>{this.denyGroup(y)}),(p=o.allowInboxId)==null||p.inboxIds.forEach(y=>{this.allowInboxId(y)}),(m=o.denyInboxId)==null||m.inboxIds.forEach(y=>{this.denyInboxId(y)})})}async stream(s){const o=await this.client.keystore.getPrivatePreferencesTopic();return ye.create(this.client,[o],async a=>{if(!a.message||!a.timestampNs)return;const c=await this.decodeMessages(new Map([[a.timestampNs,a.message]]));return this.processActions(c),c.get(a.timestampNs)},void 0,s)}reset(){this.entries.clear()}async load(s){const o=await this.client.keystore.getPrivatePreferencesTopic(),a=(await this.client.listEnvelopes(o,async({message:u,timestampNs:h})=>[h,u],{pageSize:500,direction:SortDirection$1.SORT_DIRECTION_ASCENDING,startTime:s})).filter(([u])=>!!u);await this.decodeMessages(new Map(a));const c=this.client.keystore.getPrivatePreferences();return this.reset(),this.processActions(c),this.entries}async publish(s){const o=s.reduce((c,u)=>{var y,v,b;let h,p,m;if(u.permissionType==="unknown")return c;switch(u.entryType){case"address":h=u.permissionType==="allowed"?"allowAddress":"denyAddress",p="walletAddresses",m=((y=c[h])==null?void 0:y[p])??[];break;case"groupId":h=u.permissionType==="allowed"?"allowGroup":"denyGroup",p="groupIds",m=((v=c[h])==null?void 0:v[p])??[];break;case"inboxId":h=u.permissionType==="allowed"?"allowInboxId":"denyInboxId",p="inboxIds",m=((b=c[h])==null?void 0:b[p])??[];break;default:return c}return{...c,[h]:{[p]:[...m,u.value]}}},{}),a=await this.client.keystore.createPrivatePreference(o);await this.client.publishEnvelopes(a),this.client.keystore.savePrivatePreferences(new Map([[a[0].timestamp.getTime().toString(),o]])),s.forEach(c=>{this.entries.set(c.key,c.permissionType)})}}class Js{constructor(s){Ls.add(this),Gs.set(this,void 0),Hs.set(this,void 0),this.addresses=new Set,this.client=s,ft(this,Gs,new Xs(s)),ft(this,Hs,new ct("user-preferences",s.keystore))}async loadConsentList(s){return wt(this,Hs,"f").run(async o=>{const a=await wt(this,Gs,"f").load(s??o);try{const c=(await this.client.conversations.list()).reduce((u,h)=>h.consentProof&&this.consentState(h.peerAddress)==="unknown"&&wt(this,Ls,"m",Fs).call(this,h.consentProof,h.peerAddress)?u.concat(h.peerAddress):u,[]);c.length&&await this.client.contacts.allow(c)}catch(c){console.log(c)}return a})}async refreshConsentList(){return wt(this,Gs,"f").reset(),await wt(this,Hs,"f").resetLastRunTime(),this.loadConsentList()}async streamConsentList(s){return wt(this,Gs,"f").stream(s)}setConsentListEntries(s){s.length&&(wt(this,Gs,"f").reset(),s.forEach(o=>{o.permissionType==="allowed"&&wt(this,Gs,"f").allow(o.value),o.permissionType==="denied"&&wt(this,Gs,"f").deny(o.value)}))}isAllowed(s){return wt(this,Gs,"f").state(s)==="allowed"}isDenied(s){return wt(this,Gs,"f").state(s)==="denied"}isGroupAllowed(s){return wt(this,Gs,"f").groupState(s)==="allowed"}isGroupDenied(s){return wt(this,Gs,"f").groupState(s)==="denied"}isInboxAllowed(s){return wt(this,Gs,"f").inboxIdState(s)==="allowed"}isInboxDenied(s){return wt(this,Gs,"f").inboxIdState(s)==="denied"}consentState(s){return wt(this,Gs,"f").state(s)}groupConsentState(s){return wt(this,Gs,"f").groupState(s)}inboxConsentState(s){return wt(this,Gs,"f").inboxIdState(s)}async allow(s){await wt(this,Gs,"f").publish(s.map(o=>js.fromAddress(o,"allowed")))}async deny(s){await wt(this,Gs,"f").publish(s.map(o=>js.fromAddress(o,"denied")))}async allowGroups(s){await wt(this,Gs,"f").publish(s.map(o=>js.fromGroupId(o,"allowed")))}async denyGroups(s){await wt(this,Gs,"f").publish(s.map(o=>js.fromGroupId(o,"denied")))}async allowInboxes(s){await wt(this,Gs,"f").publish(s.map(o=>js.fromInboxId(o,"allowed")))}async denyInboxes(s){await wt(this,Gs,"f").publish(s.map(o=>js.fromInboxId(o,"denied")))}}Gs=new WeakMap,Hs=new WeakMap,Ls=new WeakSet,Fs=function({signature:e,timestamp:s},o){const a=Number(s);if(!e||!a||a>Date.now()||a<Date.now()-2592e6)return!1;const c=J(e),u=createConsentMessage(o,a),h=ee(hexToBytes$1(hashMessage(u)),c);return(h==null?void 0:h.getEthereumAddress())===this.client.address},function(e){e[e.none=0]="none",e[e.xmtpTopicStore=1]="xmtpTopicStore"}($s||($s={}));const zs=$s.none;class Ws{static createConfiguration(){return{type:zs,version:0}}constructor(s){this.configuration=s}get backupType(){return zs}}const Ys=$s.xmtpTopicStore;class Qs{static createConfiguration(s){return{type:Ys,version:0,topic:"history-v0:"+s}}constructor(s){this.configuration=s}get backupType(){return Ys}}async function Zs(e,s){const o=await async function(a,c){let u;switch((await c()).type){case $s.none:u=Ws.createConfiguration();break;case $s.xmtpTopicStore:u=Qs.createConfiguration(a)}return u}(e,s);switch(o.type){case $s.none:return new Ws(o);case $s.xmtpTopicStore:return new Qs(o)}}const tr=104857600;class sr{constructor(s,o,a,c){this.knownPublicKeyBundles=new Map,this.keystore=c,this.publicKeyBundle=s,this.address=s.walletSignatureAddress(),this._conversations=new ht(this),this._codecs=new Map,this._maxContentSize=tr,this.apiClient=o,this._backupClient=a,this.contacts=new Js(this)}get conversations(){return this._conversations}get backupType(){return this._backupClient.backupType}get signedPublicKeyBundle(){return ce.fromLegacyBundle(this.publicKeyBundle)}static async create(s,o){const a=Ms(s),c=function(b){const w={privateKeyOverride:void 0,env:"dev",apiUrl:void 0,codecs:[new r],maxContentSize:tr,persistConversations:!0,skipContactPublishing:!1,useSnaps:!1,basePersistence:typeof window<"u"&&window.document!==void 0?yt.create():lt.create(),disablePersistenceEncryption:!1,keystoreProviders:ar(),apiClientFactory:rr};return b!=null&&b.codecs&&(b.codecs=w.codecs.concat(b.codecs)),b!=null&&b.useSnaps&&(b.keystoreProviders=[new Ns("npm:@xmtp/snap","1.3.6"),...w.keystoreProviders]),{...w,...b}}(o),u=c.apiClientFactory(c),h=await async function(b,w,S){for(const P of b.keystoreProviders)try{return await P.newKeystore(b,w,S??void 0)}catch(R){if(R instanceof pt)continue;throw R}throw new Error("No keystore providers available")}(c,u,a),p=new de(await h.getPublicKeyBundle()),m=p.walletSignatureAddress();u.setAuthenticator(new Xe(h));const y=await sr.setupBackupClient(m,c.env),v=new sr(p,u,y,h);return await v.init(c),v}static async getKeys(s,o){const a=await sr.create(Ms(s),o),c=await a.keystore.getPrivateKeyBundle();return new He(c).encode()}static isSnapsReady(){return Ss()}static async setupBackupClient(s,o){return Zs(s,async()=>Promise.resolve({type:o==="local"?$s.xmtpTopicStore:$s.none}))}async init(s){s.codecs.forEach(o=>{this.registerCodec(o)}),this._maxContentSize=s.maxContentSize,s.skipContactPublishing||await this.ensureUserContactPublished(s.publishLegacyContact)}async close(){}async ensureUserContactPublished(s=!1){const o=await nr(this.apiClient,this.address);o&&o instanceof ce&&this.signedPublicKeyBundle.equals(o)||(await this.publishUserContact(!0),s||await this.publishUserContact(s))}async publishUserContact(s=!1){const o=s?this.publicKeyBundle:this.signedPublicKeyBundle;await this.publishEnvelopes([{contentTopic:Te(this.address),message:qs(o)}])}async getUserContact(s){s=getAddress(s);const o=this.knownPublicKeyBundles.get(s);if(o)return o;const a=await nr(this.apiClient,s);return a&&this.knownPublicKeyBundles.set(s,a),a}async getUserContacts(s){const o=s.map(h=>getAddress(h)),a=new Map,c=[];for(const h of o){const p=this.knownPublicKeyBundles.get(h);p?a.set(h,p):(a.set(h,void 0),c.push(h))}const u=await ir(this.apiClient,c);for(let h=0;h<u.length;h++){const p=c[h],m=u[h];a.set(p,m),m&&this.knownPublicKeyBundles.set(p,m)}return o.map(h=>a.get(h))}forgetContact(s){s=getAddress(s),this.knownPublicKeyBundles.delete(s)}async canMessage(s){try{return Array.isArray(s)?(await this.getUserContacts(s)).map(o=>!!o):await this.getUserContact(s)!==void 0}catch{return!1}}static async canMessage(s,o){const a=new ot((o==null?void 0:o.apiUrl)||tt[(o==null?void 0:o.env)||"dev"],{appVersion:o==null?void 0:o.appVersion});if(Array.isArray(s)){const c=s.map(u=>getAddress(u));return(await ir(a,c)).map(u=>!!u)}try{s=getAddress(s)}catch{return!1}return await nr(a,s)!==void 0}validateEnvelope(s){const o=s.message;if(!s.contentTopic)throw new Error("Missing content topic");if(!o||!o.length)throw new Error("Cannot publish empty message")}async publishEnvelopes(s){for(const o of s)this.validateEnvelope(o);await this.apiClient.publish(s)}registerCodec(s){const o=s.contentType,a=`${o.authorityId}/${o.typeId}`;return this._codecs.set(a,s),this}codecFor(s){const o=`${s.authorityId}/${s.typeId}`,a=this._codecs.get(o);if(a&&!(s.versionMajor>a.contentType.versionMajor))return a}async encodeContent(s,o){const a=(o==null?void 0:o.contentType)||n,c=this.codecFor(a);if(!c)throw new Error("unknown content type "+a);const u=c.encode(s,this),h=c.fallback(s);return h&&(u.fallback=h),typeof(o==null?void 0:o.compression)=="number"&&u.content.length>=10&&(u.compression=o.compression),await async function(p){if(p.compression===void 0)return;const m={bytes:new Uint8Array(p.content.length/10)};await _s(p.content).pipeThrough(new CompressionStream(xs(p.compression))).pipeTo(Vs(m,p.content.length+1e3)),p.content=m.bytes}(u),{payload:EncodedContent.encode(u).finish(),shouldPush:c.shouldPush(s)}}async decodeContent(s){const o=EncodedContent.decode(s);if(!o.type)throw new Error("missing content type");let a;const c=new t$1(o.type);let u;await async function(p,m){if(p.compression===void 0)return;const y={bytes:new Uint8Array(p.content.length)};await _s(p.content).pipeThrough(new DecompressionStream(xs(p.compression))).pipeTo(Vs(y,m)),p.content=y.bytes}(o,1e3);const h=this.codecFor(c);return h?a=h.decode(o,this):u=new Error("unknown content type "+c),{content:a,contentType:c,error:u,contentFallback:o.fallback}}listInvitations(s){return this.listEnvelopes(Ie(this.address),async o=>o,s)}async listEnvelopes(s,o,a){a||(a={});const{startTime:c,endTime:u,limit:h,pageSize:p}=a,m=await this.apiClient.query({contentTopic:s,startTime:c,endTime:u},{direction:a.direction||SortDirection$1.SORT_DIRECTION_ASCENDING,limit:h,pageSize:p}),y=[];for(const v of m)if(v.message)try{const b=await o(v);y.push(b)}catch(b){console.warn("Error in listEnvelopes mapper",b)}return y}listEnvelopesPaginated(s,o,a){return Ye(this.apiClient.queryIteratePages({contentTopic:s,startTime:a==null?void 0:a.startTime,endTime:a==null?void 0:a.endTime},{direction:a==null?void 0:a.direction,pageSize:(a==null?void 0:a.pageSize)||100}),o)}}function rr(e){const s=e.apiUrl||tt[e.env];return new ot(s,{appVersion:e.appVersion})}async function nr(e,s){const o=e.queryIterator({contentTopic:Te(s)},{pageSize:5,direction:et.SORT_DIRECTION_DESCENDING});for await(const a of o){if(!a.message)continue;const c=Os(a.message);let u;try{u=await(c==null?void 0:c.walletSignatureAddress())}catch{u=void 0}if((u==null?void 0:u.toLowerCase())===s.toLowerCase())return c}}async function ir(e,s){const o=s.map(Te),a=await e.batchQuery(o.map(c=>({contentTopic:c,pageSize:5,direction:et.SORT_DIRECTION_DESCENDING})));return Promise.all(s.map(async(c,u)=>{const h=a[u];if(h){for(const p of h)if(p.message)try{const m=Os(p.message),y=await(m==null?void 0:m.walletSignatureAddress());if(c.toLowerCase()===y.toLowerCase())return m;console.info("Received contact bundle with incorrect address")}catch(m){console.info("Invalid contact bundle",m)}}}))}function ar(){return[new Ds,new ws,new ps]}const AI_AGENT_ADDRESS="0xdFec4Ae81303e7449B8f22c1fd2939118B5dE346";class RealXMTPClient{constructor(s){po(this,"client",null);po(this,"address");po(this,"conversations",new Map);po(this,"messageListeners",[]);this.address=s}static async create(s){const o=await s.getAddress(),a=new RealXMTPClient(o);try{a.client=await sr.create(s,{env:"dev"}),console.log("XMTP client initialized for address:",o)}catch(c){throw console.error("Failed to initialize XMTP client:",c),c}return a}async newConversation(s){if(!this.client)throw new Error("XMTP client not initialized");return this.conversations.has(s)||this.conversations.set(s,{peerAddress:s,messages:[]}),this.conversations.get(s)}async sendMessage(s,o){if(!this.client)throw new Error("XMTP client not initialized");try{await(await this.client.conversations.newConversation(s)).send(o);const c={id:`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,content:o,senderAddress:this.address,timestamp:new Date,conversation:s};return(await this.newConversation(s)).messages.push(c),this.messageListeners.forEach(h=>h(c)),console.log("Message sent via XMTP to:",s),c}catch(a){throw console.error("Failed to send XMTP message:",a),a}}async startListening(){if(!this.client)throw new Error("XMTP client not initialized");try{for await(const s of await this.client.conversations.stream()){console.log("New conversation with:",s.peerAddress);for await(const o of await s.streamMessages())if(o.senderAddress!==this.address){const a={id:`received_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,content:o.content,senderAddress:o.senderAddress,timestamp:o.sent,conversation:s.peerAddress};(await this.newConversation(s.peerAddress)).messages.push(a),this.messageListeners.forEach(u=>u(a)),console.log("Received XMTP message from:",o.senderAddress)}}}catch(s){console.error("Error listening for XMTP messages:",s)}}getConversation(s){return this.conversations.get(s)}getAllConversations(){return Array.from(this.conversations.values())}onMessage(s){return this.messageListeners.push(s),()=>{const o=this.messageListeners.indexOf(s);o>-1&&this.messageListeners.splice(o,1)}}}let globalClient=null;async function sendMessage(e){if(globalClient)await globalClient.sendMessage(AI_AGENT_ADDRESS,e);else throw new Error("XMTP client not initialized")}function useXMTP(){const{address:e,isConnected:s}=useAccount(),{data:o}=useWalletClient(),[a,c]=reactExports.useState(null),[u,h]=reactExports.useState(!1),[p,m]=reactExports.useState(null),y=e==="demo.base.eth"||!s,v=s&&o&&!y,b=reactExports.useCallback(async()=>{if(!(!v||!o)){h(!0),m(null);try{const w={getAddress:()=>Promise.resolve(e),signMessage:P=>o.signMessage({message:P})},S=await RealXMTPClient.create(w);c(S),globalClient=S,S.startListening(),console.log("XMTP client ready for address:",e)}catch(w){console.error("XMTP initialization error:",w),m(w instanceof Error?w.message:"Failed to initialize XMTP client")}finally{h(!1)}}},[e,v,o]);return reactExports.useEffect(()=>{v&&!a?b():v||(c(null),globalClient=null)},[v,a,b]),{client:a,isLoading:u,error:p,isReady:!!a&&v,isDemoMode:y,aiAgentAddress:AI_AGENT_ADDRESS}}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:h=>{const p=h.split(CLASS_PART_SEPARATOR);return p[0]===""&&p.length!==1&&p.shift(),getGroupRecursive(p,s)||getGroupIdForArbitraryProperty(h)},getConflictingClassGroupIds:(h,p)=>{const m=o[h]||[];return p&&a[h]?[...m,...a[h]]:m}}},getGroupRecursive=(e,s)=>{var h;if(e.length===0)return s.classGroupId;const o=e[0],a=s.nextPart.get(o),c=a?getGroupRecursive(e.slice(1),a):void 0;if(c)return c;if(s.validators.length===0)return;const u=e.join(CLASS_PART_SEPARATOR);return(h=s.validators.find(({validator:p})=>p(u)))==null?void 0:h.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const s=arbitraryPropertyRegex.exec(e)[1],o=s==null?void 0:s.substring(0,s.indexOf(":"));if(o)return"arbitrary.."+o}},createClassMap=e=>{const{theme:s,classGroups:o}=e,a={nextPart:new Map,validators:[]};for(const c in o)processClassesRecursively(o[c],a,c,s);return a},processClassesRecursively=(e,s,o,a)=>{e.forEach(c=>{if(typeof c=="string"){const u=c===""?s:getPart(s,c);u.classGroupId=o;return}if(typeof c=="function"){if(isThemeGetter(c)){processClassesRecursively(c(a),s,o,a);return}s.validators.push({validator:c,classGroupId:o});return}Object.entries(c).forEach(([u,h])=>{processClassesRecursively(h,getPart(s,u),o,a)})})},getPart=(e,s)=>{let o=e;return s.split(CLASS_PART_SEPARATOR).forEach(a=>{o.nextPart.has(a)||o.nextPart.set(a,{nextPart:new Map,validators:[]}),o=o.nextPart.get(a)}),o},isThemeGetter=e=>e.isThemeGetter,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,o=new Map,a=new Map;const c=(u,h)=>{o.set(u,h),s++,s>e&&(s=0,a=o,o=new Map)};return{get(u){let h=o.get(u);if(h!==void 0)return h;if((h=a.get(u))!==void 0)return c(u,h),h},set(u,h){o.has(u)?o.set(u,h):c(u,h)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=e=>{const{prefix:s,experimentalParseClassName:o}=e;let a=c=>{const u=[];let h=0,p=0,m=0,y;for(let P=0;P<c.length;P++){let R=c[P];if(h===0&&p===0){if(R===MODIFIER_SEPARATOR){u.push(c.slice(m,P)),m=P+MODIFIER_SEPARATOR_LENGTH;continue}if(R==="/"){y=P;continue}}R==="["?h++:R==="]"?h--:R==="("?p++:R===")"&&p--}const v=u.length===0?c:c.substring(m),b=stripImportantModifier(v),w=b!==v,S=y&&y>m?y-m:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:S}};if(s){const c=s+MODIFIER_SEPARATOR,u=a;a=h=>h.startsWith(c)?u(h.substring(c.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(o){const c=a;a=u=>o({className:u,parseClassName:c})}return a},stripImportantModifier=e=>e.endsWith(IMPORTANT_MODIFIER)?e.substring(0,e.length-1):e.startsWith(IMPORTANT_MODIFIER)?e.substring(1):e,createSortModifiers=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const c=[];let u=[];return a.forEach(h=>{h[0]==="["||s[h]?(c.push(...u.sort(),h),u=[]):u.push(h)}),c.push(...u.sort()),c}},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,s)=>{const{parseClassName:o,getClassGroupId:a,getConflictingClassGroupIds:c,sortModifiers:u}=s,h=[],p=e.trim().split(SPLIT_CLASSES_REGEX);let m="";for(let y=p.length-1;y>=0;y-=1){const v=p[y],{isExternal:b,modifiers:w,hasImportantModifier:S,baseClassName:P,maybePostfixModifierPosition:R}=o(v);if(b){m=v+(m.length>0?" "+m:m);continue}let T=!!R,k=a(T?P.substring(0,R):P);if(!k){if(!T){m=v+(m.length>0?" "+m:m);continue}if(k=a(P),!k){m=v+(m.length>0?" "+m:m);continue}T=!1}const or=u(w).join(":"),dr=S?or+IMPORTANT_MODIFIER:or,yr=dr+k;if(h.includes(yr))continue;h.push(yr);const lr=c(k,T);for(let br=0;br<lr.length;++br){const wr=lr[br];h.push(dr+wr)}m=v+(m.length>0?" "+m:m)}return m};function twJoin(){let e=0,s,o,a="";for(;e<arguments.length;)(s=arguments[e++])&&(o=toValue(s))&&(a&&(a+=" "),a+=o);return a}const toValue=e=>{if(typeof e=="string")return e;let s,o="";for(let a=0;a<e.length;a++)e[a]&&(s=toValue(e[a]))&&(o&&(o+=" "),o+=s);return o};function createTailwindMerge(e,...s){let o,a,c,u=h;function h(m){const y=s.reduce((v,b)=>b(v),e());return o=createConfigUtils(y),a=o.cache.get,c=o.cache.set,u=p,p(m)}function p(m){const y=a(m);if(y)return y;const v=mergeClassList(m,o);return c(m,v),v}return function(){return u(twJoin.apply(null,arguments))}}const fromTheme=e=>{const s=o=>o[e]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=e=>fractionRegex.test(e),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isTshirtSize=e=>tshirtUnitRegex.test(e),isAny=()=>!0,isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),isAnyNonArbitrary=e=>!isArbitraryValue(e)&&!isArbitraryVariable(e),isArbitrarySize=e=>getIsArbitraryValue(e,isLabelSize,isNever),isArbitraryValue=e=>arbitraryValueRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,isLabelLength,isLengthOnly),isArbitraryNumber=e=>getIsArbitraryValue(e,isLabelNumber,isNumber),isArbitraryPosition=e=>getIsArbitraryValue(e,isLabelPosition,isNever),isArbitraryImage=e=>getIsArbitraryValue(e,isLabelImage,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,isLabelShadow,isShadow),isArbitraryVariable=e=>arbitraryVariableRegex.test(e),isArbitraryVariableLength=e=>getIsArbitraryVariable(e,isLabelLength),isArbitraryVariableFamilyName=e=>getIsArbitraryVariable(e,isLabelFamilyName),isArbitraryVariablePosition=e=>getIsArbitraryVariable(e,isLabelPosition),isArbitraryVariableSize=e=>getIsArbitraryVariable(e,isLabelSize),isArbitraryVariableImage=e=>getIsArbitraryVariable(e,isLabelImage),isArbitraryVariableShadow=e=>getIsArbitraryVariable(e,isLabelShadow,!0),getIsArbitraryValue=(e,s,o)=>{const a=arbitraryValueRegex.exec(e);return a?a[1]?s(a[1]):o(a[2]):!1},getIsArbitraryVariable=(e,s,o=!1)=>{const a=arbitraryVariableRegex.exec(e);return a?a[1]?s(a[1]):o:!1},isLabelPosition=e=>e==="position"||e==="percentage",isLabelImage=e=>e==="image"||e==="url",isLabelSize=e=>e==="length"||e==="size"||e==="bg-size",isLabelLength=e=>e==="length",isLabelNumber=e=>e==="number",isLabelFamilyName=e=>e==="family-name",isLabelShadow=e=>e==="shadow",getDefaultConfig=()=>{const e=fromTheme("color"),s=fromTheme("font"),o=fromTheme("text"),a=fromTheme("font-weight"),c=fromTheme("tracking"),u=fromTheme("leading"),h=fromTheme("breakpoint"),p=fromTheme("container"),m=fromTheme("spacing"),y=fromTheme("radius"),v=fromTheme("shadow"),b=fromTheme("inset-shadow"),w=fromTheme("text-shadow"),S=fromTheme("drop-shadow"),P=fromTheme("blur"),R=fromTheme("perspective"),T=fromTheme("aspect"),k=fromTheme("ease"),or=fromTheme("animate"),dr=()=>["auto","avoid","all","avoid-page","page","left","right","column"],yr=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],lr=()=>[...yr(),isArbitraryVariable,isArbitraryValue],br=()=>["auto","hidden","clip","visible","scroll"],wr=()=>["auto","contain","none"],Sr=()=>[isArbitraryVariable,isArbitraryValue,m],Rr=()=>[isFraction,"full","auto",...Sr()],Ir=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],xr=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],C=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],B=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],ur=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],er=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...Sr()],pr=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Sr()],hr=()=>[e,isArbitraryVariable,isArbitraryValue],mr=()=>[...yr(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fr=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Ar=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],Or=()=>["","none","full",y,isArbitraryVariable,isArbitraryValue],jr=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],Ur=()=>["solid","dashed","dotted","double"],qr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Lr=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Wr=()=>["","none",P,isArbitraryVariable,isArbitraryValue],Vr=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Gr=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],un=()=>[isNumber,isArbitraryVariable,isArbitraryValue],Jr=()=>[isFraction,"full",...Sr()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,T]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,p]}],"break-after":[{"break-after":dr()}],"break-before":[{"break-before":dr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:lr()}],overflow:[{overflow:br()}],"overflow-x":[{"overflow-x":br()}],"overflow-y":[{"overflow-y":br()}],overscroll:[{overscroll:wr()}],"overscroll-x":[{"overscroll-x":wr()}],"overscroll-y":[{"overscroll-y":wr()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Rr()}],"inset-x":[{"inset-x":Rr()}],"inset-y":[{"inset-y":Rr()}],start:[{start:Rr()}],end:[{end:Rr()}],top:[{top:Rr()}],right:[{right:Rr()}],bottom:[{bottom:Rr()}],left:[{left:Rr()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",p,...Sr()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":Ir()}],"col-start-end":[{col:xr()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":Ir()}],"row-start-end":[{row:xr()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:Sr()}],"gap-x":[{"gap-x":Sr()}],"gap-y":[{"gap-y":Sr()}],"justify-content":[{justify:[...ur(),"normal"]}],"justify-items":[{"justify-items":[...er(),"normal"]}],"justify-self":[{"justify-self":["auto",...er()]}],"align-content":[{content:["normal",...ur()]}],"align-items":[{items:[...er(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...er(),{baseline:["","last"]}]}],"place-content":[{"place-content":ur()}],"place-items":[{"place-items":[...er(),"baseline"]}],"place-self":[{"place-self":["auto",...er()]}],p:[{p:Sr()}],px:[{px:Sr()}],py:[{py:Sr()}],ps:[{ps:Sr()}],pe:[{pe:Sr()}],pt:[{pt:Sr()}],pr:[{pr:Sr()}],pb:[{pb:Sr()}],pl:[{pl:Sr()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":Sr()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Sr()}],"space-y-reverse":["space-y-reverse"],size:[{size:pr()}],w:[{w:[p,"screen",...pr()]}],"min-w":[{"min-w":[p,"screen","none",...pr()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[h]},...pr()]}],h:[{h:["screen","lh",...pr()]}],"min-h":[{"min-h":["screen","lh","none",...pr()]}],"max-h":[{"max-h":["screen","lh",...pr()]}],"font-size":[{text:["base",o,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[u,...Sr()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:hr()}],"text-color":[{text:hr()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ur(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:hr()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Sr()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:mr()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:fr()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:hr()}],"gradient-from-pos":[{from:Ar()}],"gradient-via-pos":[{via:Ar()}],"gradient-to-pos":[{to:Ar()}],"gradient-from":[{from:hr()}],"gradient-via":[{via:hr()}],"gradient-to":[{to:hr()}],rounded:[{rounded:Or()}],"rounded-s":[{"rounded-s":Or()}],"rounded-e":[{"rounded-e":Or()}],"rounded-t":[{"rounded-t":Or()}],"rounded-r":[{"rounded-r":Or()}],"rounded-b":[{"rounded-b":Or()}],"rounded-l":[{"rounded-l":Or()}],"rounded-ss":[{"rounded-ss":Or()}],"rounded-se":[{"rounded-se":Or()}],"rounded-ee":[{"rounded-ee":Or()}],"rounded-es":[{"rounded-es":Or()}],"rounded-tl":[{"rounded-tl":Or()}],"rounded-tr":[{"rounded-tr":Or()}],"rounded-br":[{"rounded-br":Or()}],"rounded-bl":[{"rounded-bl":Or()}],"border-w":[{border:jr()}],"border-w-x":[{"border-x":jr()}],"border-w-y":[{"border-y":jr()}],"border-w-s":[{"border-s":jr()}],"border-w-e":[{"border-e":jr()}],"border-w-t":[{"border-t":jr()}],"border-w-r":[{"border-r":jr()}],"border-w-b":[{"border-b":jr()}],"border-w-l":[{"border-l":jr()}],"divide-x":[{"divide-x":jr()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":jr()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ur(),"hidden","none"]}],"divide-style":[{divide:[...Ur(),"hidden","none"]}],"border-color":[{border:hr()}],"border-color-x":[{"border-x":hr()}],"border-color-y":[{"border-y":hr()}],"border-color-s":[{"border-s":hr()}],"border-color-e":[{"border-e":hr()}],"border-color-t":[{"border-t":hr()}],"border-color-r":[{"border-r":hr()}],"border-color-b":[{"border-b":hr()}],"border-color-l":[{"border-l":hr()}],"divide-color":[{divide:hr()}],"outline-style":[{outline:[...Ur(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:hr()}],shadow:[{shadow:["","none",v,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:hr()}],"inset-shadow":[{"inset-shadow":["none",b,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":hr()}],"ring-w":[{ring:jr()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:hr()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":hr()}],"inset-ring-w":[{"inset-ring":jr()}],"inset-ring-color":[{"inset-ring":hr()}],"text-shadow":[{"text-shadow":["none",w,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":hr()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...qr(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":qr()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":Lr()}],"mask-image-linear-to-pos":[{"mask-linear-to":Lr()}],"mask-image-linear-from-color":[{"mask-linear-from":hr()}],"mask-image-linear-to-color":[{"mask-linear-to":hr()}],"mask-image-t-from-pos":[{"mask-t-from":Lr()}],"mask-image-t-to-pos":[{"mask-t-to":Lr()}],"mask-image-t-from-color":[{"mask-t-from":hr()}],"mask-image-t-to-color":[{"mask-t-to":hr()}],"mask-image-r-from-pos":[{"mask-r-from":Lr()}],"mask-image-r-to-pos":[{"mask-r-to":Lr()}],"mask-image-r-from-color":[{"mask-r-from":hr()}],"mask-image-r-to-color":[{"mask-r-to":hr()}],"mask-image-b-from-pos":[{"mask-b-from":Lr()}],"mask-image-b-to-pos":[{"mask-b-to":Lr()}],"mask-image-b-from-color":[{"mask-b-from":hr()}],"mask-image-b-to-color":[{"mask-b-to":hr()}],"mask-image-l-from-pos":[{"mask-l-from":Lr()}],"mask-image-l-to-pos":[{"mask-l-to":Lr()}],"mask-image-l-from-color":[{"mask-l-from":hr()}],"mask-image-l-to-color":[{"mask-l-to":hr()}],"mask-image-x-from-pos":[{"mask-x-from":Lr()}],"mask-image-x-to-pos":[{"mask-x-to":Lr()}],"mask-image-x-from-color":[{"mask-x-from":hr()}],"mask-image-x-to-color":[{"mask-x-to":hr()}],"mask-image-y-from-pos":[{"mask-y-from":Lr()}],"mask-image-y-to-pos":[{"mask-y-to":Lr()}],"mask-image-y-from-color":[{"mask-y-from":hr()}],"mask-image-y-to-color":[{"mask-y-to":hr()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Lr()}],"mask-image-radial-to-pos":[{"mask-radial-to":Lr()}],"mask-image-radial-from-color":[{"mask-radial-from":hr()}],"mask-image-radial-to-color":[{"mask-radial-to":hr()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":yr()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":Lr()}],"mask-image-conic-to-pos":[{"mask-conic-to":Lr()}],"mask-image-conic-from-color":[{"mask-conic-from":hr()}],"mask-image-conic-to-color":[{"mask-conic-to":hr()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:mr()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:fr()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Wr()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",S,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":hr()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Wr()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Sr()}],"border-spacing-x":[{"border-spacing-x":Sr()}],"border-spacing-y":[{"border-spacing-y":Sr()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",k,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",or,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":lr()}],rotate:[{rotate:Vr()}],"rotate-x":[{"rotate-x":Vr()}],"rotate-y":[{"rotate-y":Vr()}],"rotate-z":[{"rotate-z":Vr()}],scale:[{scale:Gr()}],"scale-x":[{"scale-x":Gr()}],"scale-y":[{"scale-y":Gr()}],"scale-z":[{"scale-z":Gr()}],"scale-3d":["scale-3d"],skew:[{skew:un()}],"skew-x":[{"skew-x":un()}],"skew-y":[{"skew-y":un()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:lr()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Jr()}],"translate-x":[{"translate-x":Jr()}],"translate-y":[{"translate-y":Jr()}],"translate-z":[{"translate-z":Jr()}],"translate-none":["translate-none"],accent:[{accent:hr()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:hr()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Sr()}],"scroll-mx":[{"scroll-mx":Sr()}],"scroll-my":[{"scroll-my":Sr()}],"scroll-ms":[{"scroll-ms":Sr()}],"scroll-me":[{"scroll-me":Sr()}],"scroll-mt":[{"scroll-mt":Sr()}],"scroll-mr":[{"scroll-mr":Sr()}],"scroll-mb":[{"scroll-mb":Sr()}],"scroll-ml":[{"scroll-ml":Sr()}],"scroll-p":[{"scroll-p":Sr()}],"scroll-px":[{"scroll-px":Sr()}],"scroll-py":[{"scroll-py":Sr()}],"scroll-ps":[{"scroll-ps":Sr()}],"scroll-pe":[{"scroll-pe":Sr()}],"scroll-pt":[{"scroll-pt":Sr()}],"scroll-pr":[{"scroll-pr":Sr()}],"scroll-pb":[{"scroll-pb":Sr()}],"scroll-pl":[{"scroll-pl":Sr()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...hr()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...hr()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}const ChatInterface=({className:e})=>{const[s,o]=reactExports.useState([]),[a,c]=reactExports.useState(""),[u,h]=reactExports.useState(!1),p=reactExports.useRef(null),{address:m,isConnected:y}=useAccount(),{client:v,isLoading:b,error:w,isReady:S,isDemoMode:P,aiAgentAddress:R}=useXMTP(),T=P||m==="demo.base.eth"||!y;reactExports.useEffect(()=>{const lr={id:"1",content:T?"Hello! I'm your AI scheduling assistant (Demo Mode). I can help you find available meeting slots, check pricing, and book meetings with experts. How can I assist you today?":`Hello! I'm your AI scheduling assistant. I'm connected via XMTP to agent ${R}. I can help you find available meeting slots, check pricing, and book meetings with experts. How can I assist you today?`,sender:"agent",timestamp:new Date};o([lr])},[T,R]),reactExports.useEffect(()=>{k()},[s]),reactExports.useEffect(()=>{if(v&&!T)return v.onMessage(br=>{if(br.senderAddress===R){const wr={id:br.id,content:br.content,sender:"agent",timestamp:br.timestamp};o(Sr=>[...Sr,wr])}})},[v,T,R]);const k=()=>{var lr;(lr=p.current)==null||lr.scrollIntoView({behavior:"smooth"})},or=async()=>{if(!a.trim())return;const lr={id:Date.now().toString(),content:a.trim(),sender:"user",timestamp:new Date};o(wr=>[...wr,lr]);const br=a.trim();c(""),h(!0);try{if(T)setTimeout(()=>{const wr=["I can help you with that! Let me check the available time slots for you.","Based on your request, I found several experts who might be a good fit. Would you like me to show you their availability?","The pricing for consultations varies by expert. Most 30-minute sessions range from $50-100 USDC. Would you like to see specific rates?","I can schedule that meeting for you. Please confirm the time slot and I'll send the booking request to the host.","Great question! Let me provide you with more details about that topic.",`You asked: "${br}". In demo mode, I'm simulating responses. Connect a real wallet to use live XMTP communication with the AI agent.`],Sr=wr[Math.floor(Math.random()*wr.length)],Rr={id:(Date.now()+1).toString(),content:Sr,sender:"agent",timestamp:new Date};o(Ir=>[...Ir,Rr]),h(!1)},1e3+Math.random()*2e3);else if(S&&v)await sendMessage(br),console.log("Message sent via XMTP to AI agent:",R),h(!1);else throw new Error("XMTP client not ready")}catch(wr){console.error("Failed to send message:",wr);const Sr={id:(Date.now()+2).toString(),content:`Error sending message: ${wr instanceof Error?wr.message:"Unknown error"}. Please try again.`,sender:"agent",timestamp:new Date};o(Rr=>[...Rr,Sr]),h(!1)}},dr=lr=>{lr.key==="Enter"&&!lr.shiftKey&&(lr.preventDefault(),or())},yr=lr=>lr.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return!T&&b?jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center h-96 bg-gray-50 rounded-lg",e),children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Connecting to XMTP network..."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Initializing secure messaging with AI agent"})]})}):!T&&w?jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center h-96 bg-red-50 rounded-lg border border-red-200",e),children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-red-600 mb-4",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("p",{className:"text-red-800 font-medium",children:"Failed to connect to XMTP"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-2",children:w}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Please try refreshing the page or use demo mode"})]})}):jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col h-96 bg-white rounded-lg border",e),children:[jsxRuntimeExports.jsxs("div",{className:"border-b px-4 py-2 bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"Chat with AI Agent"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:T?jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Demo Mode"}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"XMTP Connected"]})})]}),!T&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Connected to AI agent: ",R]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(lr=>jsxRuntimeExports.jsx("div",{className:cn("flex",lr.sender==="user"?"justify-end":"justify-start"),children:jsxRuntimeExports.jsxs("div",{className:cn("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",lr.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:lr.content}),jsxRuntimeExports.jsx("p",{className:cn("text-xs mt-1",lr.sender==="user"?"text-blue-100":"text-gray-500"),children:yr(lr.timestamp)})]})},lr.id)),u&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),jsxRuntimeExports.jsx("div",{ref:p})]}),jsxRuntimeExports.jsxs("div",{className:"border-t p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("textarea",{value:a,onChange:lr=>c(lr.target.value),onKeyPress:dr,placeholder:T?"Type your message (Demo Mode)...":"Type your message to AI agent...",className:"flex-1 resize-none border border-gray-300 rounded-md px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",rows:1,disabled:u}),jsxRuntimeExports.jsx(Button,{onClick:or,disabled:!a.trim()||u,size:"sm",children:"Send"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Press Enter to send, Shift+Enter for new line",T&&" • Demo mode active - connect wallet for real XMTP"]})]})]})};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,o,a)=>a?a.toUpperCase():o.toLowerCase()),toPascalCase=e=>{const s=toCamelCase(e);return s.charAt(0).toUpperCase()+s.slice(1)},mergeClasses=(...e)=>e.filter((s,o,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===o).join(" ").trim(),hasA11yProp=e=>{for(const s in e)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:u,iconNode:h,...p},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes,width:s,height:s,stroke:e,strokeWidth:a?Number(o)*24/Number(s):o,className:mergeClasses("lucide",c),...!u&&!hasA11yProp(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,v])=>reactExports.createElement(y,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,s)=>{const o=reactExports.forwardRef(({className:a,...c},u)=>reactExports.createElement(Icon$1,{ref:u,iconNode:s,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,a),...c}));return o.displayName=toPascalCase(e),o};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Activity=createLucideIcon("activity",__iconNode$l);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],BadgeCheck=createLucideIcon("badge-check",__iconNode$k);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$j);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$i);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$h);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$g);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$f);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$e);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Clock=createLucideIcon("clock",__iconNode$d);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],DollarSign=createLucideIcon("dollar-sign",__iconNode$c);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Funnel=createLucideIcon("funnel",__iconNode$b);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$a);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],MessageSquare=createLucideIcon("message-square",__iconNode$9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$7);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$6);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$5);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("trash-2",__iconNode$4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode);function Card({className:e,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card",className:cn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function CardHeader({className:e,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-header",className:cn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function CardTitle({className:e,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-title",className:cn("leading-none font-semibold",e),...s})}function CardContent({className:e,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-content",className:cn("px-6",e),...s})}const badgeVariants=cva("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:s,asChild:o=!1,...a}){const c=o?Slot$2:"span";return jsxRuntimeExports.jsx(c,{"data-slot":"badge",className:cn(badgeVariants({variant:s}),e),...a})}function Input({className:e,type:s,...o}){return jsxRuntimeExports.jsx("input",{type:s,"data-slot":"input",className:cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...o})}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((e,s)=>{const o=createSlot(`Primitive.${s}`),a=reactExports.forwardRef((c,u)=>{const{asChild:h,...p}=c,m=h?o:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...p,ref:u})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{});function dispatchDiscreteCustomEvent(e,s){e&&reactDomExports.flushSync(()=>e.dispatchEvent(s))}var NAME$3="Label",Label$1=reactExports.forwardRef((e,s)=>jsxRuntimeExports.jsx(Primitive.label,{...e,ref:s,onMouseDown:o=>{var c;o.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));Label$1.displayName=NAME$3;var Root$6=Label$1;function Label({className:e,...s}){return jsxRuntimeExports.jsx(Root$6,{"data-slot":"label",className:cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}function Textarea({className:e,...s}){return jsxRuntimeExports.jsx("textarea",{"data-slot":"textarea",className:cn("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}function clamp$1(e,[s,o]){return Math.min(o,Math.max(s,e))}function composeEventHandlers(e,s,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e==null||e(c),o===!1||!c.defaultPrevented)return s==null?void 0:s(c)}}function createContext2(e,s){const o=reactExports.createContext(s),a=u=>{const{children:h,...p}=u,m=reactExports.useMemo(()=>p,Object.values(p));return jsxRuntimeExports.jsx(o.Provider,{value:m,children:h})};a.displayName=e+"Provider";function c(u){const h=reactExports.useContext(o);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[a,c]}function createContextScope(e,s=[]){let o=[];function a(u,h){const p=reactExports.createContext(h),m=o.length;o=[...o,h];const y=b=>{var k;const{scope:w,children:S,...P}=b,R=((k=w==null?void 0:w[e])==null?void 0:k[m])||p,T=reactExports.useMemo(()=>P,Object.values(P));return jsxRuntimeExports.jsx(R.Provider,{value:T,children:S})};y.displayName=u+"Provider";function v(b,w){var R;const S=((R=w==null?void 0:w[e])==null?void 0:R[m])||p,P=reactExports.useContext(S);if(P)return P;if(h!==void 0)return h;throw new Error(`\`${b}\` must be used within \`${u}\``)}return[y,v]}const c=()=>{const u=o.map(h=>reactExports.createContext(h));return function(p){const m=(p==null?void 0:p[e])||u;return reactExports.useMemo(()=>({[`__scope${e}`]:{...p,[e]:m}}),[p,m])}};return c.scopeName=e,[a,composeContextScopes(c,...s)]}function composeContextScopes(...e){const s=e[0];if(e.length===1)return s;const o=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const h=a.reduce((p,{useScope:m,scopeName:y})=>{const b=m(u)[`__scope${y}`];return{...p,...b}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:h}),[h])}};return o.scopeName=s.scopeName,o}function createCollection(e){const s=e+"CollectionProvider",[o,a]=createContextScope(s),[c,u]=o(s,{collectionRef:{current:null},itemMap:new Map}),h=R=>{const{scope:T,children:k}=R,or=React2.useRef(null),dr=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(c,{scope:T,itemMap:dr,collectionRef:or,children:k})};h.displayName=s;const p=e+"CollectionSlot",m=createSlot(p),y=React2.forwardRef((R,T)=>{const{scope:k,children:or}=R,dr=u(p,k),yr=useComposedRefs(T,dr.collectionRef);return jsxRuntimeExports.jsx(m,{ref:yr,children:or})});y.displayName=p;const v=e+"CollectionItemSlot",b="data-radix-collection-item",w=createSlot(v),S=React2.forwardRef((R,T)=>{const{scope:k,children:or,...dr}=R,yr=React2.useRef(null),lr=useComposedRefs(T,yr),br=u(v,k);return React2.useEffect(()=>(br.itemMap.set(yr,{ref:yr,...dr}),()=>void br.itemMap.delete(yr))),jsxRuntimeExports.jsx(w,{[b]:"",ref:lr,children:or})});S.displayName=v;function P(R){const T=u(e+"CollectionConsumer",R);return React2.useCallback(()=>{const or=T.collectionRef.current;if(!or)return[];const dr=Array.from(or.querySelectorAll(`[${b}]`));return Array.from(T.itemMap.values()).sort((br,wr)=>dr.indexOf(br.ref.current)-dr.indexOf(wr.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:h,Slot:y,ItemSlot:S},P,a]}var DirectionContext=reactExports.createContext(void 0);function useDirection(e){const s=reactExports.useContext(DirectionContext);return e||s||"ltr"}function useCallbackRef$1(e){const s=reactExports.useRef(e);return reactExports.useEffect(()=>{s.current=e}),reactExports.useMemo(()=>(...o)=>{var a;return(a=s.current)==null?void 0:a.call(s,...o)},[])}function useEscapeKeydown(e,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef$1(e);reactExports.useEffect(()=>{const a=c=>{c.key==="Escape"&&o(c)};return s.addEventListener("keydown",a,{capture:!0}),()=>s.removeEventListener("keydown",a,{capture:!0})},[o,s])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((e,s)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,onDismiss:p,...m}=e,y=reactExports.useContext(DismissableLayerContext),[v,b]=reactExports.useState(null),w=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=reactExports.useState({}),P=useComposedRefs(s,wr=>b(wr)),R=Array.from(y.layers),[T]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),k=R.indexOf(T),or=v?R.indexOf(v):-1,dr=y.layersWithOutsidePointerEventsDisabled.size>0,yr=or>=k,lr=usePointerDownOutside(wr=>{const Sr=wr.target,Rr=[...y.branches].some(Ir=>Ir.contains(Sr));!yr||Rr||(c==null||c(wr),h==null||h(wr),wr.defaultPrevented||p==null||p())},w),br=useFocusOutside(wr=>{const Sr=wr.target;[...y.branches].some(Ir=>Ir.contains(Sr))||(u==null||u(wr),h==null||h(wr),wr.defaultPrevented||p==null||p())},w);return useEscapeKeydown(wr=>{or===y.layers.size-1&&(a==null||a(wr),!wr.defaultPrevented&&p&&(wr.preventDefault(),p()))},w),reactExports.useEffect(()=>{if(v)return o&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(v)),y.layers.add(v),dispatchUpdate(),()=>{o&&y.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=originalBodyPointerEvents)}},[v,w,o,y]),reactExports.useEffect(()=>()=>{v&&(y.layers.delete(v),y.layersWithOutsidePointerEventsDisabled.delete(v),dispatchUpdate())},[v,y]),reactExports.useEffect(()=>{const wr=()=>S({});return document.addEventListener(CONTEXT_UPDATE,wr),()=>document.removeEventListener(CONTEXT_UPDATE,wr)},[]),jsxRuntimeExports.jsx(Primitive.div,{...m,ref:P,style:{pointerEvents:dr?yr?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,br.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,br.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,lr.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((e,s)=>{const o=reactExports.useContext(DismissableLayerContext),a=reactExports.useRef(null),c=useComposedRefs(s,a);return reactExports.useEffect(()=>{const u=a.current;if(u)return o.branches.add(u),()=>{o.branches.delete(u)}},[o.branches]),jsxRuntimeExports.jsx(Primitive.div,{...e,ref:c})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(e,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef$1(e),a=reactExports.useRef(!1),c=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const u=p=>{if(p.target&&!a.current){let m=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,o,y,{discrete:!0})};const y={originalEvent:p};p.pointerType==="touch"?(s.removeEventListener("click",c.current),c.current=m,s.addEventListener("click",c.current,{once:!0})):m()}else s.removeEventListener("click",c.current);a.current=!1},h=window.setTimeout(()=>{s.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(h),s.removeEventListener("pointerdown",u),s.removeEventListener("click",c.current)}},[s,o]),{onPointerDownCapture:()=>a.current=!0}}function useFocusOutside(e,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef$1(e),a=reactExports.useRef(!1);return reactExports.useEffect(()=>{const c=u=>{u.target&&!a.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,o,{originalEvent:u},{discrete:!1})};return s.addEventListener("focusin",c),()=>s.removeEventListener("focusin",c)},[s,o]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dispatchUpdate(){const e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(e)}function handleAndDispatchCustomEvent(e,s,o,{discrete:a}){const c=o.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:o});s&&c.addEventListener(e,s,{once:!0}),a?dispatchDiscreteCustomEvent(c,u):c.dispatchEvent(u)}var count$1=0;function useFocusGuards(){reactExports.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",e[1]??createFocusGuard()),count$1++,()=>{count$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),count$1--}},[])}function createFocusGuard(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((e,s)=>{const{loop:o=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:u,...h}=e,[p,m]=reactExports.useState(null),y=useCallbackRef$1(c),v=useCallbackRef$1(u),b=reactExports.useRef(null),w=useComposedRefs(s,R=>m(R)),S=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(a){let R=function(dr){if(S.paused||!p)return;const yr=dr.target;p.contains(yr)?b.current=yr:focus(b.current,{select:!0})},T=function(dr){if(S.paused||!p)return;const yr=dr.relatedTarget;yr!==null&&(p.contains(yr)||focus(b.current,{select:!0}))},k=function(dr){if(document.activeElement===document.body)for(const lr of dr)lr.removedNodes.length>0&&focus(p)};document.addEventListener("focusin",R),document.addEventListener("focusout",T);const or=new MutationObserver(k);return p&&or.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",T),or.disconnect()}}},[a,p,S.paused]),reactExports.useEffect(()=>{if(p){focusScopesStack.add(S);const R=document.activeElement;if(!p.contains(R)){const k=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);p.addEventListener(AUTOFOCUS_ON_MOUNT,y),p.dispatchEvent(k),k.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(p)),{select:!0}),document.activeElement===R&&focus(p))}return()=>{p.removeEventListener(AUTOFOCUS_ON_MOUNT,y),setTimeout(()=>{const k=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);p.addEventListener(AUTOFOCUS_ON_UNMOUNT,v),p.dispatchEvent(k),k.defaultPrevented||focus(R??document.body,{select:!0}),p.removeEventListener(AUTOFOCUS_ON_UNMOUNT,v),focusScopesStack.remove(S)},0)}}},[p,y,v,S]);const P=reactExports.useCallback(R=>{if(!o&&!a||S.paused)return;const T=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,k=document.activeElement;if(T&&k){const or=R.currentTarget,[dr,yr]=getTabbableEdges(or);dr&&yr?!R.shiftKey&&k===yr?(R.preventDefault(),o&&focus(dr,{select:!0})):R.shiftKey&&k===dr&&(R.preventDefault(),o&&focus(yr,{select:!0})):k===or&&R.preventDefault()}},[o,a,S.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...h,ref:w,onKeyDown:P})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(e,{select:s=!1}={}){const o=document.activeElement;for(const a of e)if(focus(a,{select:s}),document.activeElement!==o)return}function getTabbableEdges(e){const s=getTabbableCandidates(e),o=findVisible(s,e),a=findVisible(s.reverse(),e);return[o,a]}function getTabbableCandidates(e){const s=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function findVisible(e,s){for(const o of e)if(!isHidden(o,{upTo:s}))return o}function isHidden(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function isSelectableInput(e){return e instanceof HTMLInputElement&&"select"in e}function focus(e,{select:s=!1}={}){if(e&&e.focus){const o=document.activeElement;e.focus({preventScroll:!0}),e!==o&&isSelectableInput(e)&&s&&e.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let e=[];return{add(s){const o=e[0];s!==o&&(o==null||o.pause()),e=arrayRemove(e,s),e.unshift(s)},remove(s){var o;e=arrayRemove(e,s),(o=e[0])==null||o.resume()}}}function arrayRemove(e,s){const o=[...e],a=o.indexOf(s);return a!==-1&&o.splice(a,1),o}function removeLinks(e){return e.filter(s=>s.tagName!=="A")}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React[" useId ".trim().toString()]||(()=>{}),count=0;function useId(e){const[s,o]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{o(a=>a??String(count++))},[e]),e||(s?`radix-${s}`:"")}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=e=>({x:e,y:e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(e,s,o){return max(e,min(s,o))}function evaluate(e,s){return typeof e=="function"?e(s):e}function getSide(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return e==="x"?"y":"x"}function getAxisLength(e){return e==="y"?"height":"width"}function getSideAxis(e){return["top","bottom"].includes(getSide(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function getAlignmentSides(e,s,o){o===void 0&&(o=!1);const a=getAlignment(e),c=getAlignmentAxis(e),u=getAxisLength(c);let h=c==="x"?a===(o?"end":"start")?"right":"left":a==="start"?"bottom":"top";return s.reference[u]>s.floating[u]&&(h=getOppositePlacement(h)),[h,getOppositePlacement(h)]}function getExpandedPlacements(e){const s=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),s,getOppositeAlignmentPlacement(s)]}function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,s=>oppositeAlignmentMap[s])}function getSideList(e,s,o){const a=["left","right"],c=["right","left"],u=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return o?s?c:a:s?a:c;case"left":case"right":return s?u:h;default:return[]}}function getOppositeAxisPlacements(e,s,o,a){const c=getAlignment(e);let u=getSideList(getSide(e),o==="start",a);return c&&(u=u.map(h=>h+"-"+c),s&&(u=u.concat(u.map(getOppositeAlignmentPlacement)))),u}function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,s=>oppositeSideMap[s])}function expandPaddingObject(e){return{top:0,right:0,bottom:0,left:0,...e}}function getPaddingObject(e){return typeof e!="number"?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){const{x:s,y:o,width:a,height:c}=e;return{width:a,height:c,top:o,left:s,right:s+a,bottom:o+c,x:s,y:o}}function computeCoordsFromPlacement(e,s,o){let{reference:a,floating:c}=e;const u=getSideAxis(s),h=getAlignmentAxis(s),p=getAxisLength(h),m=getSide(s),y=u==="y",v=a.x+a.width/2-c.width/2,b=a.y+a.height/2-c.height/2,w=a[p]/2-c[p]/2;let S;switch(m){case"top":S={x:v,y:a.y-c.height};break;case"bottom":S={x:v,y:a.y+a.height};break;case"right":S={x:a.x+a.width,y:b};break;case"left":S={x:a.x-c.width,y:b};break;default:S={x:a.x,y:a.y}}switch(getAlignment(s)){case"start":S[h]-=w*(o&&y?-1:1);break;case"end":S[h]+=w*(o&&y?-1:1);break}return S}const computePosition$1=async(e,s,o)=>{const{placement:a="bottom",strategy:c="absolute",middleware:u=[],platform:h}=o,p=u.filter(Boolean),m=await(h.isRTL==null?void 0:h.isRTL(s));let y=await h.getElementRects({reference:e,floating:s,strategy:c}),{x:v,y:b}=computeCoordsFromPlacement(y,a,m),w=a,S={},P=0;for(let R=0;R<p.length;R++){const{name:T,fn:k}=p[R],{x:or,y:dr,data:yr,reset:lr}=await k({x:v,y:b,initialPlacement:a,placement:w,strategy:c,middlewareData:S,rects:y,platform:h,elements:{reference:e,floating:s}});v=or??v,b=dr??b,S={...S,[T]:{...S[T],...yr}},lr&&P<=50&&(P++,typeof lr=="object"&&(lr.placement&&(w=lr.placement),lr.rects&&(y=lr.rects===!0?await h.getElementRects({reference:e,floating:s,strategy:c}):lr.rects),{x:v,y:b}=computeCoordsFromPlacement(y,w,m)),R=-1)}return{x:v,y:b,placement:w,strategy:c,middlewareData:S}};async function detectOverflow(e,s){var o;s===void 0&&(s={});const{x:a,y:c,platform:u,rects:h,elements:p,strategy:m}=e,{boundary:y="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:w=!1,padding:S=0}=evaluate(s,e),P=getPaddingObject(S),T=p[w?b==="floating"?"reference":"floating":b],k=rectToClientRect(await u.getClippingRect({element:(o=await(u.isElement==null?void 0:u.isElement(T)))==null||o?T:T.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(p.floating)),boundary:y,rootBoundary:v,strategy:m})),or=b==="floating"?{x:a,y:c,width:h.floating.width,height:h.floating.height}:h.reference,dr=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p.floating)),yr=await(u.isElement==null?void 0:u.isElement(dr))?await(u.getScale==null?void 0:u.getScale(dr))||{x:1,y:1}:{x:1,y:1},lr=rectToClientRect(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:or,offsetParent:dr,strategy:m}):or);return{top:(k.top-lr.top+P.top)/yr.y,bottom:(lr.bottom-k.bottom+P.bottom)/yr.y,left:(k.left-lr.left+P.left)/yr.x,right:(lr.right-k.right+P.right)/yr.x}}const arrow$3=e=>({name:"arrow",options:e,async fn(s){const{x:o,y:a,placement:c,rects:u,platform:h,elements:p,middlewareData:m}=s,{element:y,padding:v=0}=evaluate(e,s)||{};if(y==null)return{};const b=getPaddingObject(v),w={x:o,y:a},S=getAlignmentAxis(c),P=getAxisLength(S),R=await h.getDimensions(y),T=S==="y",k=T?"top":"left",or=T?"bottom":"right",dr=T?"clientHeight":"clientWidth",yr=u.reference[P]+u.reference[S]-w[S]-u.floating[P],lr=w[S]-u.reference[S],br=await(h.getOffsetParent==null?void 0:h.getOffsetParent(y));let wr=br?br[dr]:0;(!wr||!await(h.isElement==null?void 0:h.isElement(br)))&&(wr=p.floating[dr]||u.floating[P]);const Sr=yr/2-lr/2,Rr=wr/2-R[P]/2-1,Ir=min(b[k],Rr),xr=min(b[or],Rr),C=Ir,B=wr-R[P]-xr,ur=wr/2-R[P]/2+Sr,er=clamp(C,ur,B),H=!m.arrow&&getAlignment(c)!=null&&ur!==er&&u.reference[P]/2-(ur<C?Ir:xr)-R[P]/2<0,pr=H?ur<C?ur-C:ur-B:0;return{[S]:w[S]+pr,data:{[S]:er,centerOffset:ur-er-pr,...H&&{alignmentOffset:pr}},reset:H}}}),flip$2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var o,a;const{placement:c,middlewareData:u,rects:h,initialPlacement:p,platform:m,elements:y}=s,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:R=!0,...T}=evaluate(e,s);if((o=u.arrow)!=null&&o.alignmentOffset)return{};const k=getSide(c),or=getSideAxis(p),dr=getSide(p)===p,yr=await(m.isRTL==null?void 0:m.isRTL(y.floating)),lr=w||(dr||!R?[getOppositePlacement(p)]:getExpandedPlacements(p)),br=P!=="none";!w&&br&&lr.push(...getOppositeAxisPlacements(p,R,P,yr));const wr=[p,...lr],Sr=await detectOverflow(s,T),Rr=[];let Ir=((a=u.flip)==null?void 0:a.overflows)||[];if(v&&Rr.push(Sr[k]),b){const ur=getAlignmentSides(c,h,yr);Rr.push(Sr[ur[0]],Sr[ur[1]])}if(Ir=[...Ir,{placement:c,overflows:Rr}],!Rr.every(ur=>ur<=0)){var xr,C;const ur=(((xr=u.flip)==null?void 0:xr.index)||0)+1,er=wr[ur];if(er&&(!(b==="alignment"?or!==getSideAxis(er):!1)||Ir.every(hr=>hr.overflows[0]>0&&getSideAxis(hr.placement)===or)))return{data:{index:ur,overflows:Ir},reset:{placement:er}};let H=(C=Ir.filter(pr=>pr.overflows[0]<=0).sort((pr,hr)=>pr.overflows[1]-hr.overflows[1])[0])==null?void 0:C.placement;if(!H)switch(S){case"bestFit":{var B;const pr=(B=Ir.filter(hr=>{if(br){const mr=getSideAxis(hr.placement);return mr===or||mr==="y"}return!0}).map(hr=>[hr.placement,hr.overflows.filter(mr=>mr>0).reduce((mr,$)=>mr+$,0)]).sort((hr,mr)=>hr[1]-mr[1])[0])==null?void 0:B[0];pr&&(H=pr);break}case"initialPlacement":H=p;break}if(c!==H)return{reset:{placement:H}}}return{}}}};function getSideOffsets(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function isAnySideFullyClipped(e){return sides.some(s=>e[s]>=0)}const hide$2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:o}=s,{strategy:a="referenceHidden",...c}=evaluate(e,s);switch(a){case"referenceHidden":{const u=await detectOverflow(s,{...c,elementContext:"reference"}),h=getSideOffsets(u,o.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:isAnySideFullyClipped(h)}}}case"escaped":{const u=await detectOverflow(s,{...c,altBoundary:!0}),h=getSideOffsets(u,o.floating);return{data:{escapedOffsets:h,escaped:isAnySideFullyClipped(h)}}}default:return{}}}}};async function convertValueToCoords(e,s){const{placement:o,platform:a,elements:c}=e,u=await(a.isRTL==null?void 0:a.isRTL(c.floating)),h=getSide(o),p=getAlignment(o),m=getSideAxis(o)==="y",y=["left","top"].includes(h)?-1:1,v=u&&m?-1:1,b=evaluate(s,e);let{mainAxis:w,crossAxis:S,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return p&&typeof P=="number"&&(S=p==="end"?P*-1:P),m?{x:S*v,y:w*y}:{x:w*y,y:S*v}}const offset$2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var o,a;const{x:c,y:u,placement:h,middlewareData:p}=s,m=await convertValueToCoords(s,e);return h===((o=p.offset)==null?void 0:o.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:c+m.x,y:u+m.y,data:{...m,placement:h}}}}},shift$2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:o,y:a,placement:c}=s,{mainAxis:u=!0,crossAxis:h=!1,limiter:p={fn:T=>{let{x:k,y:or}=T;return{x:k,y:or}}},...m}=evaluate(e,s),y={x:o,y:a},v=await detectOverflow(s,m),b=getSideAxis(getSide(c)),w=getOppositeAxis(b);let S=y[w],P=y[b];if(u){const T=w==="y"?"top":"left",k=w==="y"?"bottom":"right",or=S+v[T],dr=S-v[k];S=clamp(or,S,dr)}if(h){const T=b==="y"?"top":"left",k=b==="y"?"bottom":"right",or=P+v[T],dr=P-v[k];P=clamp(or,P,dr)}const R=p.fn({...s,[w]:S,[b]:P});return{...R,data:{x:R.x-o,y:R.y-a,enabled:{[w]:u,[b]:h}}}}}},limitShift$2=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:o,y:a,placement:c,rects:u,middlewareData:h}=s,{offset:p=0,mainAxis:m=!0,crossAxis:y=!0}=evaluate(e,s),v={x:o,y:a},b=getSideAxis(c),w=getOppositeAxis(b);let S=v[w],P=v[b];const R=evaluate(p,s),T=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(m){const dr=w==="y"?"height":"width",yr=u.reference[w]-u.floating[dr]+T.mainAxis,lr=u.reference[w]+u.reference[dr]-T.mainAxis;S<yr?S=yr:S>lr&&(S=lr)}if(y){var k,or;const dr=w==="y"?"width":"height",yr=["top","left"].includes(getSide(c)),lr=u.reference[b]-u.floating[dr]+(yr&&((k=h.offset)==null?void 0:k[b])||0)+(yr?0:T.crossAxis),br=u.reference[b]+u.reference[dr]+(yr?0:((or=h.offset)==null?void 0:or[b])||0)-(yr?T.crossAxis:0);P<lr?P=lr:P>br&&(P=br)}return{[w]:S,[b]:P}}}},size$2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var o,a;const{placement:c,rects:u,platform:h,elements:p}=s,{apply:m=()=>{},...y}=evaluate(e,s),v=await detectOverflow(s,y),b=getSide(c),w=getAlignment(c),S=getSideAxis(c)==="y",{width:P,height:R}=u.floating;let T,k;b==="top"||b==="bottom"?(T=b,k=w===(await(h.isRTL==null?void 0:h.isRTL(p.floating))?"start":"end")?"left":"right"):(k=b,T=w==="end"?"top":"bottom");const or=R-v.top-v.bottom,dr=P-v.left-v.right,yr=min(R-v[T],or),lr=min(P-v[k],dr),br=!s.middlewareData.shift;let wr=yr,Sr=lr;if((o=s.middlewareData.shift)!=null&&o.enabled.x&&(Sr=dr),(a=s.middlewareData.shift)!=null&&a.enabled.y&&(wr=or),br&&!w){const Ir=max(v.left,0),xr=max(v.right,0),C=max(v.top,0),B=max(v.bottom,0);S?Sr=P-2*(Ir!==0||xr!==0?Ir+xr:max(v.left,v.right)):wr=R-2*(C!==0||B!==0?C+B:max(v.top,v.bottom))}await m({...s,availableWidth:Sr,availableHeight:wr});const Rr=await h.getDimensions(p.floating);return P!==Rr.width||R!==Rr.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(e){return isNode(e)?(e.nodeName||"").toLowerCase():"#document"}function getWindow(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function getDocumentElement(e){var s;return(s=(isNode(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function isNode(e){return hasWindow()?e instanceof Node||e instanceof getWindow(e).Node:!1}function isElement(e){return hasWindow()?e instanceof Element||e instanceof getWindow(e).Element:!1}function isHTMLElement(e){return hasWindow()?e instanceof HTMLElement||e instanceof getWindow(e).HTMLElement:!1}function isShadowRoot(e){return!hasWindow()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof getWindow(e).ShadowRoot}function isOverflowElement(e){const{overflow:s,overflowX:o,overflowY:a,display:c}=getComputedStyle$1(e);return/auto|scroll|overlay|hidden|clip/.test(s+a+o)&&!["inline","contents"].includes(c)}function isTableElement(e){return["table","td","th"].includes(getNodeName(e))}function isTopLayer(e){return[":popover-open",":modal"].some(s=>{try{return e.matches(s)}catch{return!1}})}function isContainingBlock(e){const s=isWebKit(),o=isElement(e)?getComputedStyle$1(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>o[a]?o[a]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!s&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!s&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(o.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(o.contain||"").includes(a))}function getContainingBlock(e){let s=getParentNode(e);for(;isHTMLElement(s)&&!isLastTraversableNode(s);){if(isContainingBlock(s))return s;if(isTopLayer(s))return null;s=getParentNode(s)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(e){return["html","body","#document"].includes(getNodeName(e))}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function getNodeScroll(e){return isElement(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function getParentNode(e){if(getNodeName(e)==="html")return e;const s=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(s)?s.host:s}function getNearestOverflowAncestor(e){const s=getParentNode(e);return isLastTraversableNode(s)?e.ownerDocument?e.ownerDocument.body:e.body:isHTMLElement(s)&&isOverflowElement(s)?s:getNearestOverflowAncestor(s)}function getOverflowAncestors(e,s,o){var a;s===void 0&&(s=[]),o===void 0&&(o=!0);const c=getNearestOverflowAncestor(e),u=c===((a=e.ownerDocument)==null?void 0:a.body),h=getWindow(c);if(u){const p=getFrameElement(h);return s.concat(h,h.visualViewport||[],isOverflowElement(c)?c:[],p&&o?getOverflowAncestors(p):[])}return s.concat(c,getOverflowAncestors(c,[],o))}function getFrameElement(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function getCssDimensions(e){const s=getComputedStyle$1(e);let o=parseFloat(s.width)||0,a=parseFloat(s.height)||0;const c=isHTMLElement(e),u=c?e.offsetWidth:o,h=c?e.offsetHeight:a,p=round(o)!==u||round(a)!==h;return p&&(o=u,a=h),{width:o,height:a,$:p}}function unwrapElement(e){return isElement(e)?e:e.contextElement}function getScale(e){const s=unwrapElement(e);if(!isHTMLElement(s))return createCoords(1);const o=s.getBoundingClientRect(),{width:a,height:c,$:u}=getCssDimensions(s);let h=(u?round(o.width):o.width)/a,p=(u?round(o.height):o.height)/c;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const noOffsets=createCoords(0);function getVisualOffsets(e){const s=getWindow(e);return!isWebKit()||!s.visualViewport?noOffsets:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function shouldAddVisualOffsets(e,s,o){return s===void 0&&(s=!1),!o||s&&o!==getWindow(e)?!1:s}function getBoundingClientRect(e,s,o,a){s===void 0&&(s=!1),o===void 0&&(o=!1);const c=e.getBoundingClientRect(),u=unwrapElement(e);let h=createCoords(1);s&&(a?isElement(a)&&(h=getScale(a)):h=getScale(e));const p=shouldAddVisualOffsets(u,o,a)?getVisualOffsets(u):createCoords(0);let m=(c.left+p.x)/h.x,y=(c.top+p.y)/h.y,v=c.width/h.x,b=c.height/h.y;if(u){const w=getWindow(u),S=a&&isElement(a)?getWindow(a):a;let P=w,R=getFrameElement(P);for(;R&&a&&S!==P;){const T=getScale(R),k=R.getBoundingClientRect(),or=getComputedStyle$1(R),dr=k.left+(R.clientLeft+parseFloat(or.paddingLeft))*T.x,yr=k.top+(R.clientTop+parseFloat(or.paddingTop))*T.y;m*=T.x,y*=T.y,v*=T.x,b*=T.y,m+=dr,y+=yr,P=getWindow(R),R=getFrameElement(P)}}return rectToClientRect({width:v,height:b,x:m,y})}function getWindowScrollBarX(e,s){const o=getNodeScroll(e).scrollLeft;return s?s.left+o:getBoundingClientRect(getDocumentElement(e)).left+o}function getHTMLOffset(e,s,o){o===void 0&&(o=!1);const a=e.getBoundingClientRect(),c=a.left+s.scrollLeft-(o?0:getWindowScrollBarX(e,a)),u=a.top+s.scrollTop;return{x:c,y:u}}function convertOffsetParentRelativeRectToViewportRelativeRect(e){let{elements:s,rect:o,offsetParent:a,strategy:c}=e;const u=c==="fixed",h=getDocumentElement(a),p=s?isTopLayer(s.floating):!1;if(a===h||p&&u)return o;let m={scrollLeft:0,scrollTop:0},y=createCoords(1);const v=createCoords(0),b=isHTMLElement(a);if((b||!b&&!u)&&((getNodeName(a)!=="body"||isOverflowElement(h))&&(m=getNodeScroll(a)),isHTMLElement(a))){const S=getBoundingClientRect(a);y=getScale(a),v.x=S.x+a.clientLeft,v.y=S.y+a.clientTop}const w=h&&!b&&!u?getHTMLOffset(h,m,!0):createCoords(0);return{width:o.width*y.x,height:o.height*y.y,x:o.x*y.x-m.scrollLeft*y.x+v.x+w.x,y:o.y*y.y-m.scrollTop*y.y+v.y+w.y}}function getClientRects(e){return Array.from(e.getClientRects())}function getDocumentRect(e){const s=getDocumentElement(e),o=getNodeScroll(e),a=e.ownerDocument.body,c=max(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),u=max(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let h=-o.scrollLeft+getWindowScrollBarX(e);const p=-o.scrollTop;return getComputedStyle$1(a).direction==="rtl"&&(h+=max(s.clientWidth,a.clientWidth)-c),{width:c,height:u,x:h,y:p}}function getViewportRect(e,s){const o=getWindow(e),a=getDocumentElement(e),c=o.visualViewport;let u=a.clientWidth,h=a.clientHeight,p=0,m=0;if(c){u=c.width,h=c.height;const y=isWebKit();(!y||y&&s==="fixed")&&(p=c.offsetLeft,m=c.offsetTop)}return{width:u,height:h,x:p,y:m}}function getInnerBoundingClientRect(e,s){const o=getBoundingClientRect(e,!0,s==="fixed"),a=o.top+e.clientTop,c=o.left+e.clientLeft,u=isHTMLElement(e)?getScale(e):createCoords(1),h=e.clientWidth*u.x,p=e.clientHeight*u.y,m=c*u.x,y=a*u.y;return{width:h,height:p,x:m,y}}function getClientRectFromClippingAncestor(e,s,o){let a;if(s==="viewport")a=getViewportRect(e,o);else if(s==="document")a=getDocumentRect(getDocumentElement(e));else if(isElement(s))a=getInnerBoundingClientRect(s,o);else{const c=getVisualOffsets(e);a={x:s.x-c.x,y:s.y-c.y,width:s.width,height:s.height}}return rectToClientRect(a)}function hasFixedPositionAncestor(e,s){const o=getParentNode(e);return o===s||!isElement(o)||isLastTraversableNode(o)?!1:getComputedStyle$1(o).position==="fixed"||hasFixedPositionAncestor(o,s)}function getClippingElementAncestors(e,s){const o=s.get(e);if(o)return o;let a=getOverflowAncestors(e,[],!1).filter(p=>isElement(p)&&getNodeName(p)!=="body"),c=null;const u=getComputedStyle$1(e).position==="fixed";let h=u?getParentNode(e):e;for(;isElement(h)&&!isLastTraversableNode(h);){const p=getComputedStyle$1(h),m=isContainingBlock(h);!m&&p.position==="fixed"&&(c=null),(u?!m&&!c:!m&&p.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||isOverflowElement(h)&&!m&&hasFixedPositionAncestor(e,h))?a=a.filter(v=>v!==h):c=p,h=getParentNode(h)}return s.set(e,a),a}function getClippingRect(e){let{element:s,boundary:o,rootBoundary:a,strategy:c}=e;const h=[...o==="clippingAncestors"?isTopLayer(s)?[]:getClippingElementAncestors(s,this._c):[].concat(o),a],p=h[0],m=h.reduce((y,v)=>{const b=getClientRectFromClippingAncestor(s,v,c);return y.top=max(b.top,y.top),y.right=min(b.right,y.right),y.bottom=min(b.bottom,y.bottom),y.left=max(b.left,y.left),y},getClientRectFromClippingAncestor(s,p,c));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function getDimensions(e){const{width:s,height:o}=getCssDimensions(e);return{width:s,height:o}}function getRectRelativeToOffsetParent(e,s,o){const a=isHTMLElement(s),c=getDocumentElement(s),u=o==="fixed",h=getBoundingClientRect(e,!0,u,s);let p={scrollLeft:0,scrollTop:0};const m=createCoords(0);function y(){m.x=getWindowScrollBarX(c)}if(a||!a&&!u)if((getNodeName(s)!=="body"||isOverflowElement(c))&&(p=getNodeScroll(s)),a){const S=getBoundingClientRect(s,!0,u,s);m.x=S.x+s.clientLeft,m.y=S.y+s.clientTop}else c&&y();u&&!a&&c&&y();const v=c&&!a&&!u?getHTMLOffset(c,p):createCoords(0),b=h.left+p.scrollLeft-m.x-v.x,w=h.top+p.scrollTop-m.y-v.y;return{x:b,y:w,width:h.width,height:h.height}}function isStaticPositioned(e){return getComputedStyle$1(e).position==="static"}function getTrueOffsetParent(e,s){if(!isHTMLElement(e)||getComputedStyle$1(e).position==="fixed")return null;if(s)return s(e);let o=e.offsetParent;return getDocumentElement(e)===o&&(o=o.ownerDocument.body),o}function getOffsetParent(e,s){const o=getWindow(e);if(isTopLayer(e))return o;if(!isHTMLElement(e)){let c=getParentNode(e);for(;c&&!isLastTraversableNode(c);){if(isElement(c)&&!isStaticPositioned(c))return c;c=getParentNode(c)}return o}let a=getTrueOffsetParent(e,s);for(;a&&isTableElement(a)&&isStaticPositioned(a);)a=getTrueOffsetParent(a,s);return a&&isLastTraversableNode(a)&&isStaticPositioned(a)&&!isContainingBlock(a)?o:a||getContainingBlock(e)||o}const getElementRects=async function(e){const s=this.getOffsetParent||getOffsetParent,o=this.getDimensions,a=await o(e.floating);return{reference:getRectRelativeToOffsetParent(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function isRTL(e){return getComputedStyle$1(e).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function observeMove(e,s){let o=null,a;const c=getDocumentElement(e);function u(){var p;clearTimeout(a),(p=o)==null||p.disconnect(),o=null}function h(p,m){p===void 0&&(p=!1),m===void 0&&(m=1),u();const y=e.getBoundingClientRect(),{left:v,top:b,width:w,height:S}=y;if(p||s(),!w||!S)return;const P=floor(b),R=floor(c.clientWidth-(v+w)),T=floor(c.clientHeight-(b+S)),k=floor(v),dr={rootMargin:-P+"px "+-R+"px "+-T+"px "+-k+"px",threshold:max(0,min(1,m))||1};let yr=!0;function lr(br){const wr=br[0].intersectionRatio;if(wr!==m){if(!yr)return h();wr?h(!1,wr):a=setTimeout(()=>{h(!1,1e-7)},1e3)}wr===1&&!rectsAreEqual(y,e.getBoundingClientRect())&&h(),yr=!1}try{o=new IntersectionObserver(lr,{...dr,root:c.ownerDocument})}catch{o=new IntersectionObserver(lr,dr)}o.observe(e)}return h(!0),u}function autoUpdate(e,s,o,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:u=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,y=unwrapElement(e),v=c||u?[...y?getOverflowAncestors(y):[],...getOverflowAncestors(s)]:[];v.forEach(k=>{c&&k.addEventListener("scroll",o,{passive:!0}),u&&k.addEventListener("resize",o)});const b=y&&p?observeMove(y,o):null;let w=-1,S=null;h&&(S=new ResizeObserver(k=>{let[or]=k;or&&or.target===y&&S&&(S.unobserve(s),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var dr;(dr=S)==null||dr.observe(s)})),o()}),y&&!m&&S.observe(y),S.observe(s));let P,R=m?getBoundingClientRect(e):null;m&&T();function T(){const k=getBoundingClientRect(e);R&&!rectsAreEqual(R,k)&&o(),R=k,P=requestAnimationFrame(T)}return o(),()=>{var k;v.forEach(or=>{c&&or.removeEventListener("scroll",o),u&&or.removeEventListener("resize",o)}),b==null||b(),(k=S)==null||k.disconnect(),S=null,m&&cancelAnimationFrame(P)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(e,s,o)=>{const a=new Map,c={platform,...o},u={...c.platform,_c:a};return computePosition$1(e,s,{...c,platform:u})};var isClient=typeof document<"u",noop=function e(){},index=isClient?reactExports.useLayoutEffect:noop;function deepEqual(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let o,a,c;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==s.length)return!1;for(a=o;a--!==0;)if(!deepEqual(e[a],s[a]))return!1;return!0}if(c=Object.keys(e),o=c.length,o!==Object.keys(s).length)return!1;for(a=o;a--!==0;)if(!{}.hasOwnProperty.call(s,c[a]))return!1;for(a=o;a--!==0;){const u=c[a];if(!(u==="_owner"&&e.$$typeof)&&!deepEqual(e[u],s[u]))return!1}return!0}return e!==e&&s!==s}function getDPR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(e,s){const o=getDPR(e);return Math.round(s*o)/o}function useLatestRef(e){const s=reactExports.useRef(e);return index(()=>{s.current=e}),s}function useFloating(e){e===void 0&&(e={});const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c,elements:{reference:u,floating:h}={},transform:p=!0,whileElementsMounted:m,open:y}=e,[v,b]=reactExports.useState({x:0,y:0,strategy:o,placement:s,middlewareData:{},isPositioned:!1}),[w,S]=reactExports.useState(a);deepEqual(w,a)||S(a);const[P,R]=reactExports.useState(null),[T,k]=reactExports.useState(null),or=reactExports.useCallback(hr=>{hr!==br.current&&(br.current=hr,R(hr))},[]),dr=reactExports.useCallback(hr=>{hr!==wr.current&&(wr.current=hr,k(hr))},[]),yr=u||P,lr=h||T,br=reactExports.useRef(null),wr=reactExports.useRef(null),Sr=reactExports.useRef(v),Rr=m!=null,Ir=useLatestRef(m),xr=useLatestRef(c),C=useLatestRef(y),B=reactExports.useCallback(()=>{if(!br.current||!wr.current)return;const hr={placement:s,strategy:o,middleware:w};xr.current&&(hr.platform=xr.current),computePosition(br.current,wr.current,hr).then(mr=>{const $={...mr,isPositioned:C.current!==!1};ur.current&&!deepEqual(Sr.current,$)&&(Sr.current=$,reactDomExports.flushSync(()=>{b($)}))})},[w,s,o,xr,C]);index(()=>{y===!1&&Sr.current.isPositioned&&(Sr.current.isPositioned=!1,b(hr=>({...hr,isPositioned:!1})))},[y]);const ur=reactExports.useRef(!1);index(()=>(ur.current=!0,()=>{ur.current=!1}),[]),index(()=>{if(yr&&(br.current=yr),lr&&(wr.current=lr),yr&&lr){if(Ir.current)return Ir.current(yr,lr,B);B()}},[yr,lr,B,Ir,Rr]);const er=reactExports.useMemo(()=>({reference:br,floating:wr,setReference:or,setFloating:dr}),[or,dr]),H=reactExports.useMemo(()=>({reference:yr,floating:lr}),[yr,lr]),pr=reactExports.useMemo(()=>{const hr={position:o,left:0,top:0};if(!H.floating)return hr;const mr=roundByDPR(H.floating,v.x),$=roundByDPR(H.floating,v.y);return p?{...hr,transform:"translate("+mr+"px, "+$+"px)",...getDPR(H.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:mr,top:$}},[o,p,H.floating,v.x,v.y]);return reactExports.useMemo(()=>({...v,update:B,refs:er,elements:H,floatingStyles:pr}),[v,B,er,H,pr])}const arrow$1=e=>{function s(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:a,padding:c}=typeof e=="function"?e(o):e;return a&&s(a)?a.current!=null?arrow$2({element:a.current,padding:c}).fn(o):{}:a?arrow$2({element:a,padding:c}).fn(o):{}}}},offset=(e,s)=>({...offset$1(e),options:[e,s]}),shift=(e,s)=>({...shift$1(e),options:[e,s]}),limitShift=(e,s)=>({...limitShift$1(e),options:[e,s]}),flip=(e,s)=>({...flip$1(e),options:[e,s]}),size=(e,s)=>({...size$1(e),options:[e,s]}),hide=(e,s)=>({...hide$1(e),options:[e,s]}),arrow=(e,s)=>({...arrow$1(e),options:[e,s]});var NAME$2="Arrow",Arrow$1=reactExports.forwardRef((e,s)=>{const{children:o,width:a=10,height:c=5,...u}=e;return jsxRuntimeExports.jsx(Primitive.svg,{...u,ref:s,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?o:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$2;var Root$5=Arrow$1;function useSize(e){const[s,o]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const u=c[0];let h,p;if("borderBoxSize"in u){const m=u.borderBoxSize,y=Array.isArray(m)?m[0]:m;h=y.inlineSize,p=y.blockSize}else h=e.offsetWidth,p=e.offsetHeight;o({width:h,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else o(void 0)},[e]),s}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=e=>{const{__scopePopper:s,children:o}=e,[a,c]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:s,anchor:a,onAnchorChange:c,children:o})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((e,s)=>{const{__scopePopper:o,virtualRef:a,...c}=e,u=usePopperContext(ANCHOR_NAME,o),h=reactExports.useRef(null),p=useComposedRefs(s,h);return reactExports.useEffect(()=>{u.onAnchorChange((a==null?void 0:a.current)||h.current)}),a?null:jsxRuntimeExports.jsx(Primitive.div,{...c,ref:p})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$3="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$3),PopperContent=reactExports.forwardRef((e,s)=>{var Lr,Wr,Vr,Gr,un,Jr;const{__scopePopper:o,side:a="bottom",sideOffset:c=0,align:u="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:m=!0,collisionBoundary:y=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:P,...R}=e,T=usePopperContext(CONTENT_NAME$3,o),[k,or]=reactExports.useState(null),dr=useComposedRefs(s,Qr=>or(Qr)),[yr,lr]=reactExports.useState(null),br=useSize(yr),wr=(br==null?void 0:br.width)??0,Sr=(br==null?void 0:br.height)??0,Rr=a+(u!=="center"?"-"+u:""),Ir=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},xr=Array.isArray(y)?y:[y],C=xr.length>0,B={padding:Ir,boundary:xr.filter(isNotNull),altBoundary:C},{refs:ur,floatingStyles:er,placement:H,isPositioned:pr,middlewareData:hr}=useFloating({strategy:"fixed",placement:Rr,whileElementsMounted:(...Qr)=>autoUpdate(...Qr,{animationFrame:S==="always"}),elements:{reference:T.anchor},middleware:[offset({mainAxis:c+Sr,alignmentAxis:h}),m&&shift({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?limitShift():void 0,...B}),m&&flip({...B}),size({...B,apply:({elements:Qr,rects:vn,availableWidth:hn,availableHeight:pn})=>{const{width:Xn,height:An}=vn.reference,En=Qr.floating.style;En.setProperty("--radix-popper-available-width",`${hn}px`),En.setProperty("--radix-popper-available-height",`${pn}px`),En.setProperty("--radix-popper-anchor-width",`${Xn}px`),En.setProperty("--radix-popper-anchor-height",`${An}px`)}}),yr&&arrow({element:yr,padding:p}),transformOrigin({arrowWidth:wr,arrowHeight:Sr}),w&&hide({strategy:"referenceHidden",...B})]}),[mr,$]=getSideAndAlignFromPlacement(H),fr=useCallbackRef$1(P);useLayoutEffect2(()=>{pr&&(fr==null||fr())},[pr,fr]);const Ar=(Lr=hr.arrow)==null?void 0:Lr.x,Or=(Wr=hr.arrow)==null?void 0:Wr.y,jr=((Vr=hr.arrow)==null?void 0:Vr.centerOffset)!==0,[Ur,qr]=reactExports.useState();return useLayoutEffect2(()=>{k&&qr(window.getComputedStyle(k).zIndex)},[k]),jsxRuntimeExports.jsx("div",{ref:ur.setFloating,"data-radix-popper-content-wrapper":"",style:{...er,transform:pr?er.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ur,"--radix-popper-transform-origin":[(Gr=hr.transformOrigin)==null?void 0:Gr.x,(un=hr.transformOrigin)==null?void 0:un.y].join(" "),...((Jr=hr.hide)==null?void 0:Jr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:o,placedSide:mr,onArrowChange:lr,arrowX:Ar,arrowY:Or,shouldHideArrow:jr,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":mr,"data-align":$,...R,ref:dr,style:{...R.style,animation:pr?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$3;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function e(s,o){const{__scopePopper:a,...c}=s,u=useContentContext(ARROW_NAME$1,a),h=OPPOSITE_SIDE[u.placedSide];return jsxRuntimeExports.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$5,{...c,ref:o,style:{...c.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(e){return e!==null}var transformOrigin=e=>({name:"transformOrigin",options:e,fn(s){var T,k,or;const{placement:o,rects:a,middlewareData:c}=s,h=((T=c.arrow)==null?void 0:T.centerOffset)!==0,p=h?0:e.arrowWidth,m=h?0:e.arrowHeight,[y,v]=getSideAndAlignFromPlacement(o),b={start:"0%",center:"50%",end:"100%"}[v],w=(((k=c.arrow)==null?void 0:k.x)??0)+p/2,S=(((or=c.arrow)==null?void 0:or.y)??0)+m/2;let P="",R="";return y==="bottom"?(P=h?b:`${w}px`,R=`${-m}px`):y==="top"?(P=h?b:`${w}px`,R=`${a.floating.height+m}px`):y==="right"?(P=`${-m}px`,R=h?b:`${S}px`):y==="left"&&(P=`${a.floating.width+m}px`,R=h?b:`${S}px`),{data:{x:P,y:R}}}});function getSideAndAlignFromPlacement(e){const[s,o="center"]=e.split("-");return[s,o]}var Root2$2=Popper,Anchor=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,PORTAL_NAME$2="Portal",Portal$2=reactExports.forwardRef((e,s)=>{var p;const{container:o,...a}=e,[c,u]=reactExports.useState(!1);useLayoutEffect2(()=>u(!0),[]);const h=o||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return h?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...a,ref:s}),h):null});Portal$2.displayName=PORTAL_NAME$2;var useInsertionEffect=React[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:e,defaultProp:s,onChange:o=()=>{},caller:a}){const[c,u,h]=useUncontrolledState({defaultProp:s,onChange:o}),p=e!==void 0,m=p?e:c;{const v=reactExports.useRef(e!==void 0);reactExports.useEffect(()=>{const b=v.current;b!==p&&console.warn(`${a} is changing from ${b?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=p},[p,a])}const y=reactExports.useCallback(v=>{var b;if(p){const w=isFunction$1(v)?v(e):v;w!==e&&((b=h.current)==null||b.call(h,w))}else u(v)},[p,e,u,h]);return[m,y]}function useUncontrolledState({defaultProp:e,onChange:s}){const[o,a]=reactExports.useState(e),c=reactExports.useRef(o),u=reactExports.useRef(s);return useInsertionEffect(()=>{u.current=s},[s]),reactExports.useEffect(()=>{var h;c.current!==o&&((h=u.current)==null||h.call(u,o),c.current=o)},[o,c]),[o,a,u]}function isFunction$1(e){return typeof e=="function"}function usePrevious(e){const s=reactExports.useRef({value:e,previous:e});return reactExports.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((e,s)=>jsxRuntimeExports.jsx(Primitive.span,{...e,ref:s,style:{...VISUALLY_HIDDEN_STYLES,...e.style}}));VisuallyHidden.displayName=NAME$1;var getDefaultParent=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(e){return e&&(e.host||unwrapHost(e.parentNode))},correctTargets=function(e,s){return s.map(function(o){if(e.contains(o))return o;var a=unwrapHost(o);return a&&e.contains(a)?a:(console.error("aria-hidden",o,"in not contained inside",e,". Doing nothing"),null)}).filter(function(o){return!!o})},applyAttributeToOthers=function(e,s,o,a){var c=correctTargets(s,Array.isArray(e)?e:[e]);markerMap[o]||(markerMap[o]=new WeakMap);var u=markerMap[o],h=[],p=new Set,m=new Set(c),y=function(b){!b||p.has(b)||(p.add(b),y(b.parentNode))};c.forEach(y);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(w){if(p.has(w))v(w);else try{var S=w.getAttribute(a),P=S!==null&&S!=="false",R=(counterMap.get(w)||0)+1,T=(u.get(w)||0)+1;counterMap.set(w,R),u.set(w,T),h.push(w),R===1&&P&&uncontrolledNodes.set(w,!0),T===1&&w.setAttribute(o,"true"),P||w.setAttribute(a,"true")}catch(k){console.error("aria-hidden: cannot operate on ",w,k)}})};return v(s),p.clear(),lockCount++,function(){h.forEach(function(b){var w=counterMap.get(b)-1,S=u.get(b)-1;counterMap.set(b,w),u.set(b,S),w||(uncontrolledNodes.has(b)||b.removeAttribute(a),uncontrolledNodes.delete(b)),S||b.removeAttribute(o)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(e,s,o){o===void 0&&(o="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),c=getDefaultParent(e);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(a,c,o,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function useCallbackRef(e,s){var o=reactExports.useState(function(){return{value:e,callback:s,facade:{get current(){return o.value},set current(a){var c=o.value;c!==a&&(o.value=a,o.callback(a,c))}}}})[0];return o.callback=s,o.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(e,s){var o=useCallbackRef(null,function(a){return e.forEach(function(c){return assignRef(c,a)})});return useIsomorphicLayoutEffect(function(){var a=currentValues.get(o);if(a){var c=new Set(a),u=new Set(e),h=o.current;c.forEach(function(p){u.has(p)||assignRef(p,null)}),u.forEach(function(p){c.has(p)||assignRef(p,h)})}currentValues.set(o,e)},[e]),o}function ItoI(e){return e}function innerCreateMedium(e,s){s===void 0&&(s=ItoI);var o=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:e},useMedium:function(u){var h=s(u,a);return o.push(h),function(){o=o.filter(function(p){return p!==h})}},assignSyncMedium:function(u){for(a=!0;o.length;){var h=o;o=[],h.forEach(u)}o={push:function(p){return u(p)},filter:function(){return o}}},assignMedium:function(u){a=!0;var h=[];if(o.length){var p=o;o=[],p.forEach(u),h=o}var m=function(){var v=h;h=[],v.forEach(u)},y=function(){return Promise.resolve().then(m)};y(),o={push:function(v){h.push(v),y()},filter:function(v){return h=h.filter(v),o}}}};return c}function createSidecarMedium(e){e===void 0&&(e={});var s=innerCreateMedium(null);return s.options=__assign({async:!0,ssr:!1},e),s}var SideCar$1=function(e){var s=e.sideCar,o=__rest(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return reactExports.createElement(a,__assign({},o))};SideCar$1.isSideCarExport=!0;function exportSidecar(e,s){return e.useMedium(s),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(e,s){var o=reactExports.useRef(null),a=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),c=a[0],u=a[1],h=e.forwardProps,p=e.children,m=e.className,y=e.removeScrollBar,v=e.enabled,b=e.shards,w=e.sideCar,S=e.noRelative,P=e.noIsolation,R=e.inert,T=e.allowPinchZoom,k=e.as,or=k===void 0?"div":k,dr=e.gapMode,yr=__rest(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),lr=w,br=useMergeRefs([o,s]),wr=__assign(__assign({},yr),c);return reactExports.createElement(reactExports.Fragment,null,v&&reactExports.createElement(lr,{sideCar:effectCar,removeScrollBar:y,shards:b,noRelative:S,noIsolation:P,inert:R,setCallbacks:u,allowPinchZoom:!!T,lockRef:o,gapMode:dr}),h?reactExports.cloneElement(reactExports.Children.only(p),__assign(__assign({},wr),{ref:br})):reactExports.createElement(or,__assign({},wr,{className:m,ref:br}),p))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=getNonce();return s&&e.setAttribute("nonce",s),e}function injectStyles(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function insertStyleTag(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var stylesheetSingleton=function(){var e=0,s=null;return{add:function(o){e==0&&(s=makeStyleTag())&&(injectStyles(s,o),insertStyleTag(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleHookSingleton=function(){var e=stylesheetSingleton();return function(s,o){reactExports.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&o])}},styleSingleton=function(){var e=styleHookSingleton(),s=function(o){var a=o.styles,c=o.dynamic;return e(a,c),null};return s},zeroGap={left:0,top:0,right:0,gap:0},parse=function(e){return parseInt(e||"",10)||0},getOffset=function(e){var s=window.getComputedStyle(document.body),o=s[e==="padding"?"paddingLeft":"marginLeft"],a=s[e==="padding"?"paddingTop":"marginTop"],c=s[e==="padding"?"paddingRight":"marginRight"];return[parse(o),parse(a),parse(c)]},getGapWidth=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zeroGap;var s=getOffset(e),o=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-o+s[2]-s[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(e,s,o,a){var c=e.left,u=e.top,h=e.right,p=e.gap;return o===void 0&&(o="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),o==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),o==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(p,`px;
  }
`)},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(e)?e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,e.toString())}},[])},RemoveScrollBar=function(e){var s=e.noRelative,o=e.noImportant,a=e.gapMode,c=a===void 0?"margin":a;useLockAttribute();var u=reactExports.useMemo(function(){return getGapWidth(c)},[c]);return reactExports.createElement(Style,{styles:getStyles(u,!s,c,o?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(e){return e.tagName==="TEXTAREA"},elementCanBeScrolled=function(e,s){if(!(e instanceof Element))return!1;var o=window.getComputedStyle(e);return o[s]!=="hidden"&&!(o.overflowY===o.overflowX&&!alwaysContainsScroll(e)&&o[s]==="visible")},elementCouldBeVScrolled=function(e){return elementCanBeScrolled(e,"overflowY")},elementCouldBeHScrolled=function(e){return elementCanBeScrolled(e,"overflowX")},locationCouldBeScrolled=function(e,s){var o=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=elementCouldBeScrolled(e,a);if(c){var u=getScrollVariables(e,a),h=u[1],p=u[2];if(h>p)return!0}a=a.parentNode}while(a&&a!==o.body);return!1},getVScrollVariables=function(e){var s=e.scrollTop,o=e.scrollHeight,a=e.clientHeight;return[s,o,a]},getHScrollVariables=function(e){var s=e.scrollLeft,o=e.scrollWidth,a=e.clientWidth;return[s,o,a]},elementCouldBeScrolled=function(e,s){return e==="v"?elementCouldBeVScrolled(s):elementCouldBeHScrolled(s)},getScrollVariables=function(e,s){return e==="v"?getVScrollVariables(s):getHScrollVariables(s)},getDirectionFactor=function(e,s){return e==="h"&&s==="rtl"?-1:1},handleScroll=function(e,s,o,a,c){var u=getDirectionFactor(e,window.getComputedStyle(s).direction),h=u*a,p=o.target,m=s.contains(p),y=!1,v=h>0,b=0,w=0;do{if(!p)break;var S=getScrollVariables(e,p),P=S[0],R=S[1],T=S[2],k=R-T-u*P;(P||k)&&elementCouldBeScrolled(e,p)&&(b+=k,w+=P);var or=p.parentNode;p=or&&or.nodeType===Node.DOCUMENT_FRAGMENT_NODE?or.host:or}while(!m&&p!==document.body||m&&(s.contains(p)||s===p));return(v&&Math.abs(b)<1||!v&&Math.abs(w)<1)&&(y=!0),y},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},deltaCompare=function(e,s){return e[0]===s[0]&&e[1]===s[1]},generateStyle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(e){var s=reactExports.useRef([]),o=reactExports.useRef([0,0]),a=reactExports.useRef(),c=reactExports.useState(idCounter++)[0],u=reactExports.useState(styleSingleton)[0],h=reactExports.useRef(e);reactExports.useEffect(function(){h.current=e},[e]),reactExports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var R=__spreadArray([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return R.forEach(function(T){return T.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),R.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=reactExports.useCallback(function(R,T){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!h.current.allowPinchZoom;var k=getTouchXY(R),or=o.current,dr="deltaX"in R?R.deltaX:or[0]-k[0],yr="deltaY"in R?R.deltaY:or[1]-k[1],lr,br=R.target,wr=Math.abs(dr)>Math.abs(yr)?"h":"v";if("touches"in R&&wr==="h"&&br.type==="range")return!1;var Sr=locationCouldBeScrolled(wr,br);if(!Sr)return!0;if(Sr?lr=wr:(lr=wr==="v"?"h":"v",Sr=locationCouldBeScrolled(wr,br)),!Sr)return!1;if(!a.current&&"changedTouches"in R&&(dr||yr)&&(a.current=lr),!lr)return!0;var Rr=a.current||lr;return handleScroll(Rr,T,R,Rr==="h"?dr:yr)},[]),m=reactExports.useCallback(function(R){var T=R;if(!(!lockStack.length||lockStack[lockStack.length-1]!==u)){var k="deltaY"in T?getDeltaXY(T):getTouchXY(T),or=s.current.filter(function(lr){return lr.name===T.type&&(lr.target===T.target||T.target===lr.shadowParent)&&deltaCompare(lr.delta,k)})[0];if(or&&or.should){T.cancelable&&T.preventDefault();return}if(!or){var dr=(h.current.shards||[]).map(extractRef).filter(Boolean).filter(function(lr){return lr.contains(T.target)}),yr=dr.length>0?p(T,dr[0]):!h.current.noIsolation;yr&&T.cancelable&&T.preventDefault()}}},[]),y=reactExports.useCallback(function(R,T,k,or){var dr={name:R,delta:T,target:k,should:or,shadowParent:getOutermostShadowParent(k)};s.current.push(dr),setTimeout(function(){s.current=s.current.filter(function(yr){return yr!==dr})},1)},[]),v=reactExports.useCallback(function(R){o.current=getTouchXY(R),a.current=void 0},[]),b=reactExports.useCallback(function(R){y(R.type,getDeltaXY(R),R.target,p(R,e.lockRef.current))},[]),w=reactExports.useCallback(function(R){y(R.type,getTouchXY(R),R.target,p(R,e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(u),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:w}),document.addEventListener("wheel",m,nonPassive),document.addEventListener("touchmove",m,nonPassive),document.addEventListener("touchstart",v,nonPassive),function(){lockStack=lockStack.filter(function(R){return R!==u}),document.removeEventListener("wheel",m,nonPassive),document.removeEventListener("touchmove",m,nonPassive),document.removeEventListener("touchstart",v,nonPassive)}},[]);var S=e.removeScrollBar,P=e.inert;return reactExports.createElement(reactExports.Fragment,null,P?reactExports.createElement(u,{styles:generateStyle(c)}):null,S?reactExports.createElement(RemoveScrollBar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function getOutermostShadowParent(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(e,s){return reactExports.createElement(RemoveScroll,__assign({},e,{ref:s,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope$2,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=e=>{const{__scopeSelect:s,children:o,open:a,defaultOpen:c,onOpenChange:u,value:h,defaultValue:p,onValueChange:m,dir:y,name:v,autoComplete:b,disabled:w,required:S,form:P}=e,R=usePopperScope(s),[T,k]=reactExports.useState(null),[or,dr]=reactExports.useState(null),[yr,lr]=reactExports.useState(!1),br=useDirection(y),[wr,Sr]=useControllableState({prop:a,defaultProp:c??!1,onChange:u,caller:SELECT_NAME}),[Rr,Ir]=useControllableState({prop:h,defaultProp:p,onChange:m,caller:SELECT_NAME}),xr=reactExports.useRef(null),C=T?P||!!T.closest("form"):!0,[B,ur]=reactExports.useState(new Set),er=Array.from(B).map(H=>H.props.value).join(";");return jsxRuntimeExports.jsx(Root2$2,{...R,children:jsxRuntimeExports.jsxs(SelectProvider,{required:S,scope:s,trigger:T,onTriggerChange:k,valueNode:or,onValueNodeChange:dr,valueNodeHasChildren:yr,onValueNodeHasChildrenChange:lr,contentId:useId(),value:Rr,onValueChange:Ir,open:wr,onOpenChange:Sr,dir:br,triggerPointerDownPosRef:xr,disabled:w,children:[jsxRuntimeExports.jsx(Collection$2.Provider,{scope:s,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:e.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(H=>{ur(pr=>new Set(pr).add(H))},[]),onNativeOptionRemove:reactExports.useCallback(H=>{ur(pr=>{const hr=new Set(pr);return hr.delete(H),hr})},[]),children:o})}),C?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:b,value:Rr,onChange:H=>Ir(H.target.value),disabled:w,form:P,children:[Rr===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(B)]},er):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$3="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,disabled:a=!1,...c}=e,u=usePopperScope(o),h=useSelectContext(TRIGGER_NAME$3,o),p=h.disabled||a,m=useComposedRefs(s,h.onTriggerChange),y=useCollection$2(o),v=reactExports.useRef("touch"),[b,w,S]=useTypeaheadSearch(R=>{const T=y().filter(dr=>!dr.disabled),k=T.find(dr=>dr.value===h.value),or=findNextItem(T,R,k);or!==void 0&&h.onValueChange(or.value)}),P=R=>{p||(h.onOpenChange(!0),S()),R&&(h.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...u,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":shouldShowPlaceholder(h.value)?"":void 0,...c,ref:m,onClick:composeEventHandlers(c.onClick,R=>{R.currentTarget.focus(),v.current!=="mouse"&&P(R)}),onPointerDown:composeEventHandlers(c.onPointerDown,R=>{v.current=R.pointerType;const T=R.target;T.hasPointerCapture(R.pointerId)&&T.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(P(R),R.preventDefault())}),onKeyDown:composeEventHandlers(c.onKeyDown,R=>{const T=b.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&w(R.key),!(T&&R.key===" ")&&OPEN_KEYS.includes(R.key)&&(P(),R.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$3;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,className:a,style:c,children:u,placeholder:h="",...p}=e,m=useSelectContext(VALUE_NAME,o),{onValueNodeHasChildrenChange:y}=m,v=u!==void 0,b=useComposedRefs(s,m.onValueNodeChange);return useLayoutEffect2(()=>{y(v)},[y,v]),jsxRuntimeExports.jsx(Primitive.span,{...p,ref:b,style:{pointerEvents:"none"},children:shouldShowPlaceholder(m.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:h}):u})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,children:a,...c}=e;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...c,ref:s,children:a||"▼"})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=e=>jsxRuntimeExports.jsx(Portal$2,{asChild:!0,...e});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$2="SelectContent",SelectContent$1=reactExports.forwardRef((e,s)=>{const o=useSelectContext(CONTENT_NAME$2,e.__scopeSelect),[a,c]=reactExports.useState();if(useLayoutEffect2(()=>{c(new DocumentFragment)},[]),!o.open){const u=a;return u?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:e.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:e.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:e.children})})}),u):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...e,ref:s})});SelectContent$1.displayName=CONTENT_NAME$2;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$2),CONTENT_IMPL_NAME="SelectContentImpl",Slot$1=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,side:p,sideOffset:m,align:y,alignOffset:v,arrowPadding:b,collisionBoundary:w,collisionPadding:S,sticky:P,hideWhenDetached:R,avoidCollisions:T,...k}=e,or=useSelectContext(CONTENT_NAME$2,o),[dr,yr]=reactExports.useState(null),[lr,br]=reactExports.useState(null),wr=useComposedRefs(s,Lr=>yr(Lr)),[Sr,Rr]=reactExports.useState(null),[Ir,xr]=reactExports.useState(null),C=useCollection$2(o),[B,ur]=reactExports.useState(!1),er=reactExports.useRef(!1);reactExports.useEffect(()=>{if(dr)return hideOthers(dr)},[dr]),useFocusGuards();const H=reactExports.useCallback(Lr=>{const[Wr,...Vr]=C().map(Jr=>Jr.ref.current),[Gr]=Vr.slice(-1),un=document.activeElement;for(const Jr of Lr)if(Jr===un||(Jr==null||Jr.scrollIntoView({block:"nearest"}),Jr===Wr&&lr&&(lr.scrollTop=0),Jr===Gr&&lr&&(lr.scrollTop=lr.scrollHeight),Jr==null||Jr.focus(),document.activeElement!==un))return},[C,lr]),pr=reactExports.useCallback(()=>H([Sr,dr]),[H,Sr,dr]);reactExports.useEffect(()=>{B&&pr()},[B,pr]);const{onOpenChange:hr,triggerPointerDownPosRef:mr}=or;reactExports.useEffect(()=>{if(dr){let Lr={x:0,y:0};const Wr=Gr=>{var un,Jr;Lr={x:Math.abs(Math.round(Gr.pageX)-(((un=mr.current)==null?void 0:un.x)??0)),y:Math.abs(Math.round(Gr.pageY)-(((Jr=mr.current)==null?void 0:Jr.y)??0))}},Vr=Gr=>{Lr.x<=10&&Lr.y<=10?Gr.preventDefault():dr.contains(Gr.target)||hr(!1),document.removeEventListener("pointermove",Wr),mr.current=null};return mr.current!==null&&(document.addEventListener("pointermove",Wr),document.addEventListener("pointerup",Vr,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Wr),document.removeEventListener("pointerup",Vr,{capture:!0})}}},[dr,hr,mr]),reactExports.useEffect(()=>{const Lr=()=>hr(!1);return window.addEventListener("blur",Lr),window.addEventListener("resize",Lr),()=>{window.removeEventListener("blur",Lr),window.removeEventListener("resize",Lr)}},[hr]);const[$,fr]=useTypeaheadSearch(Lr=>{const Wr=C().filter(un=>!un.disabled),Vr=Wr.find(un=>un.ref.current===document.activeElement),Gr=findNextItem(Wr,Lr,Vr);Gr&&setTimeout(()=>Gr.ref.current.focus())}),Ar=reactExports.useCallback((Lr,Wr,Vr)=>{const Gr=!er.current&&!Vr;(or.value!==void 0&&or.value===Wr||Gr)&&(Rr(Lr),Gr&&(er.current=!0))},[or.value]),Or=reactExports.useCallback(()=>dr==null?void 0:dr.focus(),[dr]),jr=reactExports.useCallback((Lr,Wr,Vr)=>{const Gr=!er.current&&!Vr;(or.value!==void 0&&or.value===Wr||Gr)&&xr(Lr)},[or.value]),Ur=a==="popper"?SelectPopperPosition:SelectItemAlignedPosition,qr=Ur===SelectPopperPosition?{side:p,sideOffset:m,align:y,alignOffset:v,arrowPadding:b,collisionBoundary:w,collisionPadding:S,sticky:P,hideWhenDetached:R,avoidCollisions:T}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:o,content:dr,viewport:lr,onViewportChange:br,itemRefCallback:Ar,selectedItem:Sr,onItemLeave:Or,itemTextRefCallback:jr,focusSelectedItem:pr,selectedItemText:Ir,position:a,isPositioned:B,searchRef:$,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:or.open,onMountAutoFocus:Lr=>{Lr.preventDefault()},onUnmountAutoFocus:composeEventHandlers(c,Lr=>{var Wr;(Wr=or.trigger)==null||Wr.focus({preventScroll:!0}),Lr.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:Lr=>Lr.preventDefault(),onDismiss:()=>or.onOpenChange(!1),children:jsxRuntimeExports.jsx(Ur,{role:"listbox",id:or.contentId,"data-state":or.open?"open":"closed",dir:or.dir,onContextMenu:Lr=>Lr.preventDefault(),...k,...qr,onPlaced:()=>ur(!0),ref:wr,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:composeEventHandlers(k.onKeyDown,Lr=>{const Wr=Lr.ctrlKey||Lr.altKey||Lr.metaKey;if(Lr.key==="Tab"&&Lr.preventDefault(),!Wr&&Lr.key.length===1&&fr(Lr.key),["ArrowUp","ArrowDown","Home","End"].includes(Lr.key)){let Gr=C().filter(un=>!un.disabled).map(un=>un.ref.current);if(["ArrowUp","End"].includes(Lr.key)&&(Gr=Gr.slice().reverse()),["ArrowUp","ArrowDown"].includes(Lr.key)){const un=Lr.target,Jr=Gr.indexOf(un);Gr=Gr.slice(Jr+1)}setTimeout(()=>H(Gr)),Lr.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,onPlaced:a,...c}=e,u=useSelectContext(CONTENT_NAME$2,o),h=useSelectContentContext(CONTENT_NAME$2,o),[p,m]=reactExports.useState(null),[y,v]=reactExports.useState(null),b=useComposedRefs(s,wr=>v(wr)),w=useCollection$2(o),S=reactExports.useRef(!1),P=reactExports.useRef(!0),{viewport:R,selectedItem:T,selectedItemText:k,focusSelectedItem:or}=h,dr=reactExports.useCallback(()=>{if(u.trigger&&u.valueNode&&p&&y&&R&&T&&k){const wr=u.trigger.getBoundingClientRect(),Sr=y.getBoundingClientRect(),Rr=u.valueNode.getBoundingClientRect(),Ir=k.getBoundingClientRect();if(u.dir!=="rtl"){const un=Ir.left-Sr.left,Jr=Rr.left-un,Qr=wr.left-Jr,vn=wr.width+Qr,hn=Math.max(vn,Sr.width),pn=window.innerWidth-CONTENT_MARGIN,Xn=clamp$1(Jr,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,pn-hn)]);p.style.minWidth=vn+"px",p.style.left=Xn+"px"}else{const un=Sr.right-Ir.right,Jr=window.innerWidth-Rr.right-un,Qr=window.innerWidth-wr.right-Jr,vn=wr.width+Qr,hn=Math.max(vn,Sr.width),pn=window.innerWidth-CONTENT_MARGIN,Xn=clamp$1(Jr,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,pn-hn)]);p.style.minWidth=vn+"px",p.style.right=Xn+"px"}const xr=w(),C=window.innerHeight-CONTENT_MARGIN*2,B=R.scrollHeight,ur=window.getComputedStyle(y),er=parseInt(ur.borderTopWidth,10),H=parseInt(ur.paddingTop,10),pr=parseInt(ur.borderBottomWidth,10),hr=parseInt(ur.paddingBottom,10),mr=er+H+B+hr+pr,$=Math.min(T.offsetHeight*5,mr),fr=window.getComputedStyle(R),Ar=parseInt(fr.paddingTop,10),Or=parseInt(fr.paddingBottom,10),jr=wr.top+wr.height/2-CONTENT_MARGIN,Ur=C-jr,qr=T.offsetHeight/2,Lr=T.offsetTop+qr,Wr=er+H+Lr,Vr=mr-Wr;if(Wr<=jr){const un=xr.length>0&&T===xr[xr.length-1].ref.current;p.style.bottom="0px";const Jr=y.clientHeight-R.offsetTop-R.offsetHeight,Qr=Math.max(Ur,qr+(un?Or:0)+Jr+pr),vn=Wr+Qr;p.style.height=vn+"px"}else{const un=xr.length>0&&T===xr[0].ref.current;p.style.top="0px";const Qr=Math.max(jr,er+R.offsetTop+(un?Ar:0)+qr)+Vr;p.style.height=Qr+"px",R.scrollTop=Wr-jr+R.offsetTop}p.style.margin=`${CONTENT_MARGIN}px 0`,p.style.minHeight=$+"px",p.style.maxHeight=C+"px",a==null||a(),requestAnimationFrame(()=>S.current=!0)}},[w,u.trigger,u.valueNode,p,y,R,T,k,u.dir,a]);useLayoutEffect2(()=>dr(),[dr]);const[yr,lr]=reactExports.useState();useLayoutEffect2(()=>{y&&lr(window.getComputedStyle(y).zIndex)},[y]);const br=reactExports.useCallback(wr=>{wr&&P.current===!0&&(dr(),or==null||or(),P.current=!1)},[dr,or]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:o,contentWrapper:p,shouldExpandOnScrollRef:S,onScrollButtonChange:br,children:jsxRuntimeExports.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:yr},children:jsxRuntimeExports.jsx(Primitive.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,align:a="start",collisionPadding:c=CONTENT_MARGIN,...u}=e,h=usePopperScope(o);return jsxRuntimeExports.jsx(Content$2,{...h,...u,ref:s,align:a,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$2,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,nonce:a,...c}=e,u=useSelectContentContext(VIEWPORT_NAME,o),h=useSelectViewportContext(VIEWPORT_NAME,o),p=useComposedRefs(s,u.onViewportChange),m=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),jsxRuntimeExports.jsx(Collection$2.Slot,{scope:o,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:composeEventHandlers(c.onScroll,y=>{const v=y.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:w}=h;if(w!=null&&w.current&&b){const S=Math.abs(m.current-v.scrollTop);if(S>0){const P=window.innerHeight-CONTENT_MARGIN*2,R=parseFloat(b.style.minHeight),T=parseFloat(b.style.height),k=Math.max(R,T);if(k<P){const or=k+S,dr=Math.min(P,or),yr=or-dr;b.style.height=dr+"px",b.style.bottom==="0px"&&(v.scrollTop=yr>0?yr:0,b.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME$1="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$1),SelectGroup=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,...a}=e,c=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:o,id:c,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":c,...a,ref:s})})});SelectGroup.displayName=GROUP_NAME$1;var LABEL_NAME="SelectLabel",SelectLabel=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,...a}=e,c=useSelectGroupContext(LABEL_NAME,o);return jsxRuntimeExports.jsx(Primitive.div,{id:c.id,...a,ref:s})});SelectLabel.displayName=LABEL_NAME;var ITEM_NAME$1="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$1),SelectItem$1=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,value:a,disabled:c=!1,textValue:u,...h}=e,p=useSelectContext(ITEM_NAME$1,o),m=useSelectContentContext(ITEM_NAME$1,o),y=p.value===a,[v,b]=reactExports.useState(u??""),[w,S]=reactExports.useState(!1),P=useComposedRefs(s,or=>{var dr;return(dr=m.itemRefCallback)==null?void 0:dr.call(m,or,a,c)}),R=useId(),T=reactExports.useRef("touch"),k=()=>{c||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:o,value:a,disabled:c,textId:R,isSelected:y,onItemTextChange:reactExports.useCallback(or=>{b(dr=>dr||((or==null?void 0:or.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:o,value:a,disabled:c,textValue:v,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":R,"data-highlighted":w?"":void 0,"aria-selected":y&&w,"data-state":y?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...h,ref:P,onFocus:composeEventHandlers(h.onFocus,()=>S(!0)),onBlur:composeEventHandlers(h.onBlur,()=>S(!1)),onClick:composeEventHandlers(h.onClick,()=>{T.current!=="mouse"&&k()}),onPointerUp:composeEventHandlers(h.onPointerUp,()=>{T.current==="mouse"&&k()}),onPointerDown:composeEventHandlers(h.onPointerDown,or=>{T.current=or.pointerType}),onPointerMove:composeEventHandlers(h.onPointerMove,or=>{var dr;T.current=or.pointerType,c?(dr=m.onItemLeave)==null||dr.call(m):T.current==="mouse"&&or.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(h.onPointerLeave,or=>{var dr;or.currentTarget===document.activeElement&&((dr=m.onItemLeave)==null||dr.call(m))}),onKeyDown:composeEventHandlers(h.onKeyDown,or=>{var yr;((yr=m.searchRef)==null?void 0:yr.current)!==""&&or.key===" "||(SELECTION_KEYS.includes(or.key)&&k(),or.key===" "&&or.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$1;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,className:a,style:c,...u}=e,h=useSelectContext(ITEM_TEXT_NAME,o),p=useSelectContentContext(ITEM_TEXT_NAME,o),m=useSelectItemContext(ITEM_TEXT_NAME,o),y=useSelectNativeOptionsContext(ITEM_TEXT_NAME,o),[v,b]=reactExports.useState(null),w=useComposedRefs(s,k=>b(k),m.onItemTextChange,k=>{var or;return(or=p.itemTextRefCallback)==null?void 0:or.call(p,k,m.value,m.disabled)}),S=v==null?void 0:v.textContent,P=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:m.value,disabled:m.disabled,children:S},m.value),[m.disabled,m.value,S]),{onNativeOptionAdd:R,onNativeOptionRemove:T}=y;return useLayoutEffect2(()=>(R(P),()=>T(P)),[R,T,P]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:m.textId,...u,ref:w}),m.isSelected&&h.valueNode&&!h.valueNodeHasChildren?reactDomExports.createPortal(u.children,h.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,...a}=e;return useSelectItemContext(ITEM_INDICATOR_NAME,o).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...a,ref:s}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((e,s)=>{const o=useSelectContentContext(SCROLL_UP_BUTTON_NAME,e.__scopeSelect),a=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,e.__scopeSelect),[c,u]=reactExports.useState(!1),h=useComposedRefs(s,a.onScrollButtonChange);return useLayoutEffect2(()=>{if(o.viewport&&o.isPositioned){let p=function(){const y=m.scrollTop>0;u(y)};const m=o.viewport;return p(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[o.viewport,o.isPositioned]),c?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...e,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:m}=o;p&&m&&(p.scrollTop=p.scrollTop-m.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((e,s)=>{const o=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,e.__scopeSelect),a=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,e.__scopeSelect),[c,u]=reactExports.useState(!1),h=useComposedRefs(s,a.onScrollButtonChange);return useLayoutEffect2(()=>{if(o.viewport&&o.isPositioned){let p=function(){const y=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<y;u(v)};const m=o.viewport;return p(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[o.viewport,o.isPositioned]),c?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...e,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:m}=o;p&&m&&(p.scrollTop=p.scrollTop+m.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,onAutoScroll:a,...c}=e,u=useSelectContentContext("SelectScrollButton",o),h=reactExports.useRef(null),p=useCollection$2(o),m=reactExports.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return reactExports.useEffect(()=>()=>m(),[m]),useLayoutEffect2(()=>{var v;const y=p().find(b=>b.ref.current===document.activeElement);(v=y==null?void 0:y.ref.current)==null||v.scrollIntoView({block:"nearest"})},[p]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...c,ref:s,style:{flexShrink:0,...c.style},onPointerDown:composeEventHandlers(c.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(a,50))}),onPointerMove:composeEventHandlers(c.onPointerMove,()=>{var y;(y=u.onItemLeave)==null||y.call(u),h.current===null&&(h.current=window.setInterval(a,50))}),onPointerLeave:composeEventHandlers(c.onPointerLeave,()=>{m()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,...a}=e;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...a,ref:s})});SelectSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((e,s)=>{const{__scopeSelect:o,...a}=e,c=usePopperScope(o),u=useSelectContext(ARROW_NAME,o),h=useSelectContentContext(ARROW_NAME,o);return u.open&&h.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...c,...a,ref:s}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$3="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:e,value:s,...o},a)=>{const c=reactExports.useRef(null),u=useComposedRefs(a,c),h=usePrevious(s);return reactExports.useEffect(()=>{const p=c.current;if(!p)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(h!==s&&v){const b=new Event("change",{bubbles:!0});v.call(p,s),p.dispatchEvent(b)}},[h,s]),jsxRuntimeExports.jsx(Primitive.select,{...o,style:{...VISUALLY_HIDDEN_STYLES,...o.style},ref:u,defaultValue:s})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$3;function shouldShowPlaceholder(e){return e===""||e===void 0}function useTypeaheadSearch(e){const s=useCallbackRef$1(e),o=reactExports.useRef(""),a=reactExports.useRef(0),c=reactExports.useCallback(h=>{const p=o.current+h;s(p),function m(y){o.current=y,window.clearTimeout(a.current),y!==""&&(a.current=window.setTimeout(()=>m(""),1e3))}(p)},[s]),u=reactExports.useCallback(()=>{o.current="",window.clearTimeout(a.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(a.current),[]),[o,c,u]}function findNextItem(e,s,o){const c=s.length>1&&Array.from(s).every(y=>y===s[0])?s[0]:s,u=o?e.indexOf(o):-1;let h=wrapArray$1(e,Math.max(u,0));c.length===1&&(h=h.filter(y=>y!==o));const m=h.find(y=>y.textValue.toLowerCase().startsWith(c.toLowerCase()));return m!==o?m:void 0}function wrapArray$1(e,s){return e.map((o,a)=>e[(s+a)%e.length])}var Root2$1=Select$1,Trigger$2=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$1=SelectPortal,Content2=SelectContent$1,Viewport=SelectViewport,Item$1=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1;function Select({...e}){return jsxRuntimeExports.jsx(Root2$1,{"data-slot":"select",...e})}function SelectValue({...e}){return jsxRuntimeExports.jsx(Value,{"data-slot":"select-value",...e})}function SelectTrigger({className:e,size:s="default",children:o,...a}){return jsxRuntimeExports.jsxs(Trigger$2,{"data-slot":"select-trigger","data-size":s,className:cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[o,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4 opacity-50"})})]})}function SelectContent({className:e,children:s,position:o="popper",...a}){return jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2,{"data-slot":"select-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:o,...a,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport,{className:cn("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})})}function SelectItem({className:e,children:s,...o}){return jsxRuntimeExports.jsxs(Item$1,{"data-slot":"select-item",className:cn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...o,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"size-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:s})]})}function SelectScrollUpButton({className:e,...s}){return jsxRuntimeExports.jsx(ScrollUpButton,{"data-slot":"select-scroll-up-button",className:cn("flex cursor-default items-center justify-center py-1",e),...s,children:jsxRuntimeExports.jsx(ChevronUp,{className:"size-4"})})}function SelectScrollDownButton({className:e,...s}){return jsxRuntimeExports.jsx(ScrollDownButton,{"data-slot":"select-scroll-down-button",className:cn("flex cursor-default items-center justify-center py-1",e),...s,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4"})})}function useStateMachine(e,s){return reactExports.useReducer((o,a)=>s[o][a]??o,e)}var Presence=e=>{const{present:s,children:o}=e,a=usePresence(s),c=typeof o=="function"?o({present:a.isPresent}):reactExports.Children.only(o),u=useComposedRefs(a.ref,getElementRef(c));return typeof o=="function"||a.isPresent?reactExports.cloneElement(c,{ref:u}):null};Presence.displayName="Presence";function usePresence(e){const[s,o]=reactExports.useState(),a=reactExports.useRef(null),c=reactExports.useRef(e),u=reactExports.useRef("none"),h=e?"mounted":"unmounted",[p,m]=useStateMachine(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const y=getAnimationName(a.current);u.current=p==="mounted"?y:"none"},[p]),useLayoutEffect2(()=>{const y=a.current,v=c.current;if(v!==e){const w=u.current,S=getAnimationName(y);e?m("MOUNT"):S==="none"||(y==null?void 0:y.display)==="none"?m("UNMOUNT"):m(v&&w!==S?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,m]),useLayoutEffect2(()=>{if(s){let y;const v=s.ownerDocument.defaultView??window,b=S=>{const R=getAnimationName(a.current).includes(S.animationName);if(S.target===s&&R&&(m("ANIMATION_END"),!c.current)){const T=s.style.animationFillMode;s.style.animationFillMode="forwards",y=v.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=T)})}},w=S=>{S.target===s&&(u.current=getAnimationName(a.current))};return s.addEventListener("animationstart",w),s.addEventListener("animationcancel",b),s.addEventListener("animationend",b),()=>{v.clearTimeout(y),s.removeEventListener("animationstart",w),s.removeEventListener("animationcancel",b),s.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:reactExports.useCallback(y=>{a.current=y?getComputedStyle(y):null,o(y)},[])}}function getAnimationName(e){return(e==null?void 0:e.animationName)||"none"}function getElementRef(e){var a,c;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?e.ref:(s=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=e=>{const{__scopeDialog:s,children:o,open:a,defaultOpen:c,onOpenChange:u,modal:h=!0}=e,p=reactExports.useRef(null),m=reactExports.useRef(null),[y,v]=useControllableState({prop:a,defaultProp:c??!1,onChange:u,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:s,triggerRef:p,contentRef:m,contentId:useId(),titleId:useId(),descriptionId:useId(),open:y,onOpenChange:v,onOpenToggle:reactExports.useCallback(()=>v(b=>!b),[v]),modal:h,children:o})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$2="DialogTrigger",DialogTrigger$1=reactExports.forwardRef((e,s)=>{const{__scopeDialog:o,...a}=e,c=useDialogContext(TRIGGER_NAME$2,o),u=useComposedRefs(s,c.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":getState$2(c.open),...a,ref:u,onClick:composeEventHandlers(e.onClick,c.onOpenToggle)})});DialogTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME,{forceMount:void 0}),DialogPortal$1=e=>{const{__scopeDialog:s,forceMount:o,children:a,container:c}=e,u=useDialogContext(PORTAL_NAME,s);return jsxRuntimeExports.jsx(PortalProvider,{scope:s,forceMount:o,children:reactExports.Children.map(a,h=>jsxRuntimeExports.jsx(Presence,{present:o||u.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:c,children:h})}))})};DialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((e,s)=>{const o=usePortalContext(OVERLAY_NAME,e.__scopeDialog),{forceMount:a=o.forceMount,...c}=e,u=useDialogContext(OVERLAY_NAME,e.__scopeDialog);return u.modal?jsxRuntimeExports.jsx(Presence,{present:a||u.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...c,ref:s})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((e,s)=>{const{__scopeDialog:o,...a}=e,c=useDialogContext(OVERLAY_NAME,o);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[c.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$2(c.open),...a,ref:s,style:{pointerEvents:"auto",...a.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent$1=reactExports.forwardRef((e,s)=>{const o=usePortalContext(CONTENT_NAME$1,e.__scopeDialog),{forceMount:a=o.forceMount,...c}=e,u=useDialogContext(CONTENT_NAME$1,e.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:a||u.open,children:u.modal?jsxRuntimeExports.jsx(DialogContentModal,{...c,ref:s}):jsxRuntimeExports.jsx(DialogContentNonModal,{...c,ref:s})})});DialogContent$1.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((e,s)=>{const o=useDialogContext(CONTENT_NAME$1,e.__scopeDialog),a=reactExports.useRef(null),c=useComposedRefs(s,o.contentRef,a);return reactExports.useEffect(()=>{const u=a.current;if(u)return hideOthers(u)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:c,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(e.onCloseAutoFocus,u=>{var h;u.preventDefault(),(h=o.triggerRef.current)==null||h.focus()}),onPointerDownOutside:composeEventHandlers(e.onPointerDownOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0;(h.button===2||p)&&u.preventDefault()}),onFocusOutside:composeEventHandlers(e.onFocusOutside,u=>u.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((e,s)=>{const o=useDialogContext(CONTENT_NAME$1,e.__scopeDialog),a=reactExports.useRef(!1),c=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{var h,p;(h=e.onCloseAutoFocus)==null||h.call(e,u),u.defaultPrevented||(a.current||(p=o.triggerRef.current)==null||p.focus(),u.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:u=>{var m,y;(m=e.onInteractOutside)==null||m.call(e,u),u.defaultPrevented||(a.current=!0,u.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const h=u.target;((y=o.triggerRef.current)==null?void 0:y.contains(h))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&c.current&&u.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((e,s)=>{const{__scopeDialog:o,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:u,...h}=e,p=useDialogContext(CONTENT_NAME$1,o),m=reactExports.useRef(null),y=useComposedRefs(s,m);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:u,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":getState$2(p.open),...h,ref:y,onDismiss:()=>p.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:p.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:m,descriptionId:p.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((e,s)=>{const{__scopeDialog:o,...a}=e,c=useDialogContext(TITLE_NAME,o);return jsxRuntimeExports.jsx(Primitive.h2,{id:c.titleId,...a,ref:s})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((e,s)=>{const{__scopeDialog:o,...a}=e,c=useDialogContext(DESCRIPTION_NAME,o);return jsxRuntimeExports.jsx(Primitive.p,{id:c.descriptionId,...a,ref:s})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((e,s)=>{const{__scopeDialog:o,...a}=e,c=useDialogContext(CLOSE_NAME,o);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...a,ref:s,onClick:composeEventHandlers(e.onClick,()=>c.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState$2(e){return e?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{const s=useWarningContext(TITLE_WARNING_NAME),o=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return reactExports.useEffect(()=>{e&&(document.getElementById(e)||console.error(o))},[o,e]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:e,descriptionId:s})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var u;const c=(u=e.current)==null?void 0:u.getAttribute("aria-describedby");s&&c&&(document.getElementById(s)||console.warn(a))},[a,e,s]),null},Root$4=Dialog$1,Trigger$1=DialogTrigger$1,Portal=DialogPortal$1,Overlay=DialogOverlay$1,Content$1=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;function Dialog({...e}){return jsxRuntimeExports.jsx(Root$4,{"data-slot":"dialog",...e})}function DialogTrigger({...e}){return jsxRuntimeExports.jsx(Trigger$1,{"data-slot":"dialog-trigger",...e})}function DialogPortal({...e}){return jsxRuntimeExports.jsx(Portal,{"data-slot":"dialog-portal",...e})}function DialogOverlay({className:e,...s}){return jsxRuntimeExports.jsx(Overlay,{"data-slot":"dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function DialogContent({className:e,children:s,...o}){return jsxRuntimeExports.jsxs(DialogPortal,{"data-slot":"dialog-portal",children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{"data-slot":"dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[s,jsxRuntimeExports.jsxs(Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[jsxRuntimeExports.jsx(X,{}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function DialogHeader({className:e,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",e),...s})}function DialogTitle({className:e,...s}){return jsxRuntimeExports.jsx(Title,{"data-slot":"dialog-title",className:cn("text-lg leading-none font-semibold",e),...s})}function DialogDescription({className:e,...s}){return jsxRuntimeExports.jsx(Description,{"data-slot":"dialog-description",className:cn("text-muted-foreground text-sm",e),...s})}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME,[createCollectionScope$1]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((e,s)=>jsxRuntimeExports.jsx(Collection$1.Provider,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...e,ref:s})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:o,orientation:a,loop:c=!1,dir:u,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:m,onEntryFocus:y,preventScrollOnEntryFocus:v=!1,...b}=e,w=reactExports.useRef(null),S=useComposedRefs(s,w),P=useDirection(u),[R,T]=useControllableState({prop:h,defaultProp:p??null,onChange:m,caller:GROUP_NAME}),[k,or]=reactExports.useState(!1),dr=useCallbackRef$1(y),yr=useCollection$1(o),lr=reactExports.useRef(!1),[br,wr]=reactExports.useState(0);return reactExports.useEffect(()=>{const Sr=w.current;if(Sr)return Sr.addEventListener(ENTRY_FOCUS,dr),()=>Sr.removeEventListener(ENTRY_FOCUS,dr)},[dr]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:o,orientation:a,dir:P,loop:c,currentTabStopId:R,onItemFocus:reactExports.useCallback(Sr=>T(Sr),[T]),onItemShiftTab:reactExports.useCallback(()=>or(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>wr(Sr=>Sr+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>wr(Sr=>Sr-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:k||br===0?-1:0,"data-orientation":a,...b,ref:S,style:{outline:"none",...e.style},onMouseDown:composeEventHandlers(e.onMouseDown,()=>{lr.current=!0}),onFocus:composeEventHandlers(e.onFocus,Sr=>{const Rr=!lr.current;if(Sr.target===Sr.currentTarget&&Rr&&!k){const Ir=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(Sr.currentTarget.dispatchEvent(Ir),!Ir.defaultPrevented){const xr=yr().filter(H=>H.focusable),C=xr.find(H=>H.active),B=xr.find(H=>H.id===R),er=[C,B,...xr].filter(Boolean).map(H=>H.ref.current);focusFirst(er,v)}}lr.current=!1}),onBlur:composeEventHandlers(e.onBlur,()=>or(!1))})})}),ITEM_NAME="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:o,focusable:a=!0,active:c=!1,tabStopId:u,children:h,...p}=e,m=useId(),y=u||m,v=useRovingFocusContext(ITEM_NAME,o),b=v.currentTabStopId===y,w=useCollection$1(o),{onFocusableItemAdd:S,onFocusableItemRemove:P,currentTabStopId:R}=v;return reactExports.useEffect(()=>{if(a)return S(),()=>P()},[a,S,P]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:o,id:y,focusable:a,active:c,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:b?0:-1,"data-orientation":v.orientation,...p,ref:s,onMouseDown:composeEventHandlers(e.onMouseDown,T=>{a?v.onItemFocus(y):T.preventDefault()}),onFocus:composeEventHandlers(e.onFocus,()=>v.onItemFocus(y)),onKeyDown:composeEventHandlers(e.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){v.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const k=getFocusIntent(T,v.orientation,v.dir);if(k!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let dr=w().filter(yr=>yr.focusable).map(yr=>yr.ref.current);if(k==="last")dr.reverse();else if(k==="prev"||k==="next"){k==="prev"&&dr.reverse();const yr=dr.indexOf(T.currentTarget);dr=v.loop?wrapArray(dr,yr+1):dr.slice(yr+1)}setTimeout(()=>focusFirst(dr))}}),children:typeof h=="function"?h({isCurrentTabStop:b,hasTabStop:R!=null}):h})})});RovingFocusGroupItem.displayName=ITEM_NAME;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function getFocusIntent(e,s,o){const a=getDirectionAwareKey(e.key,o);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return MAP_KEY_TO_FOCUS_INTENT[a]}function focusFirst(e,s=!1){const o=document.activeElement;for(const a of e)if(a===o||(a.focus({preventScroll:s}),document.activeElement!==o))return}function wrapArray(e,s){return e.map((o,a)=>e[(s+a)%e.length])}var Root$3=RovingFocusGroup,Item=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext,createTabsScope]=createContextScope(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((e,s)=>{const{__scopeTabs:o,value:a,onValueChange:c,defaultValue:u,orientation:h="horizontal",dir:p,activationMode:m="automatic",...y}=e,v=useDirection(p),[b,w]=useControllableState({prop:a,onChange:c,defaultProp:u??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:o,baseId:useId(),value:b,onValueChange:w,orientation:h,dir:v,activationMode:m,children:jsxRuntimeExports.jsx(Primitive.div,{dir:v,"data-orientation":h,...y,ref:s})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((e,s)=>{const{__scopeTabs:o,loop:a=!0,...c}=e,u=useTabsContext(TAB_LIST_NAME,o),h=useRovingFocusGroupScope(o);return jsxRuntimeExports.jsx(Root$3,{asChild:!0,...h,orientation:u.orientation,dir:u.dir,loop:a,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:s})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$1="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((e,s)=>{const{__scopeTabs:o,value:a,disabled:c=!1,...u}=e,h=useTabsContext(TRIGGER_NAME$1,o),p=useRovingFocusGroupScope(o),m=makeTriggerId(h.baseId,a),y=makeContentId(h.baseId,a),v=a===h.value;return jsxRuntimeExports.jsx(Item,{asChild:!0,...p,focusable:!c,active:v,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":y,"data-state":v?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:m,...u,ref:s,onMouseDown:composeEventHandlers(e.onMouseDown,b=>{!c&&b.button===0&&b.ctrlKey===!1?h.onValueChange(a):b.preventDefault()}),onKeyDown:composeEventHandlers(e.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&h.onValueChange(a)}),onFocus:composeEventHandlers(e.onFocus,()=>{const b=h.activationMode!=="manual";!v&&!c&&b&&h.onValueChange(a)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((e,s)=>{const{__scopeTabs:o,value:a,forceMount:c,children:u,...h}=e,p=useTabsContext(CONTENT_NAME,o),m=makeTriggerId(p.baseId,a),y=makeContentId(p.baseId,a),v=a===p.value,b=reactExports.useRef(v);return reactExports.useEffect(()=>{const w=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(w)},[]),jsxRuntimeExports.jsx(Presence,{present:c||v,children:({present:w})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":v?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":m,hidden:!w,id:y,tabIndex:0,...h,ref:s,style:{...e.style,animationDuration:b.current?"0s":void 0},children:w&&u})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(e,s){return`${e}-trigger-${s}`}function makeContentId(e,s){return`${e}-content-${s}`}var Root2=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;function Tabs({className:e,...s}){return jsxRuntimeExports.jsx(Root2,{"data-slot":"tabs",className:cn("flex flex-col gap-2",e),...s})}function TabsList({className:e,...s}){return jsxRuntimeExports.jsx(List,{"data-slot":"tabs-list",className:cn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function TabsTrigger({className:e,...s}){return jsxRuntimeExports.jsx(Trigger,{"data-slot":"tabs-trigger",className:cn("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function TabsContent({className:e,...s}){return jsxRuntimeExports.jsx(Content,{"data-slot":"tabs-content",className:cn("flex-1 outline-none",e),...s})}var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((e,s)=>{const{__scopeSwitch:o,name:a,checked:c,defaultChecked:u,required:h,disabled:p,value:m="on",onCheckedChange:y,form:v,...b}=e,[w,S]=reactExports.useState(null),P=useComposedRefs(s,dr=>S(dr)),R=reactExports.useRef(!1),T=w?v||!!w.closest("form"):!0,[k,or]=useControllableState({prop:c,defaultProp:u??!1,onChange:y,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:o,checked:k,disabled:p,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":k,"aria-required":h,"data-state":getState$1(k),"data-disabled":p?"":void 0,disabled:p,value:m,...b,ref:P,onClick:composeEventHandlers(e.onClick,dr=>{or(yr=>!yr),T&&(R.current=dr.isPropagationStopped(),R.current||dr.stopPropagation())})}),T&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:w,bubbles:!R.current,name:a,value:m,checked:k,required:h,disabled:p,form:v,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME$1="SwitchThumb",SwitchThumb=reactExports.forwardRef((e,s)=>{const{__scopeSwitch:o,...a}=e,c=useSwitchContext(THUMB_NAME$1,o);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(c.checked),"data-disabled":c.disabled?"":void 0,...a,ref:s})});SwitchThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME$2="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:e,control:s,checked:o,bubbles:a=!0,...c},u)=>{const h=reactExports.useRef(null),p=useComposedRefs(h,u),m=usePrevious(o),y=useSize(s);return reactExports.useEffect(()=>{const v=h.current;if(!v)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set;if(m!==o&&S){const P=new Event("click",{bubbles:a});S.call(v,o),v.dispatchEvent(P)}},[m,o,a]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...c,tabIndex:-1,ref:p,style:{...c.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function getState$1(e){return e?"checked":"unchecked"}var Root$2=Switch$1,Thumb$1=SwitchThumb;function Switch({className:e,...s}){return jsxRuntimeExports.jsx(Root$2,{"data-slot":"switch",className:cn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:jsxRuntimeExports.jsx(Thumb$1,{"data-slot":"switch-thumb",className:cn("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var NAME="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((e,s)=>{const{decorative:o,orientation:a=DEFAULT_ORIENTATION,...c}=e,u=isValidOrientation(a)?a:DEFAULT_ORIENTATION,p=o?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":u,...p,...c,ref:s})});Separator$1.displayName=NAME;function isValidOrientation(e){return ORIENTATIONS.includes(e)}var Root$1=Separator$1;function Separator({className:e,orientation:s="horizontal",decorative:o=!0,...a}){return jsxRuntimeExports.jsx(Root$1,{"data-slot":"separator-root",decorative:o,orientation:s,className:cn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}const EnhancedHostDashboard=({user:e})=>{const[s,o]=reactExports.useState({displayName:"AI Meeting Assistant",bio:"AI-powered meeting scheduling assistant with multi-host support",specialties:["AI Consultation","Meeting Scheduling","Automation"],languages:["English"],timezone:"UTC",defaultPrice:"0.01",pricingModel:0,isActive:!0,autoConfirm:!0,instantBooking:!0,verified:!1}),[a,c]=reactExports.useState([{id:"1",startTime:new Date(Date.now()+24*60*60*1e3),endTime:new Date(Date.now()+25*60*60*1e3),price:"0.01",isRecurring:!0,recurringInterval:7,isAvailable:!0,metadata:"Standard consultation slot"},{id:"2",startTime:new Date(Date.now()+48*60*60*1e3),endTime:new Date(Date.now()+49*60*60*1e3),price:"0.015",isRecurring:!1,recurringInterval:0,isAvailable:!0,metadata:"Premium consultation slot"}]),[u,h]=reactExports.useState({totalEarnings:"2.45",totalMeetings:127,averageRating:9.2,responseTime:15,completionRate:98.5,thisWeekBookings:8,thisMonthEarnings:"0.85"}),[p,m]=reactExports.useState([{id:"1",requesterAddress:"0x1234...5678",requesterName:"Alice Johnson",startTime:new Date(Date.now()+2*60*60*1e3),endTime:new Date(Date.now()+3*60*60*1e3),price:"0.01",status:"confirmed",notes:"Blockchain consultation session"},{id:"2",requesterAddress:"0x5678...9012",requesterName:"Bob Smith",startTime:new Date(Date.now()+26*60*60*1e3),endTime:new Date(Date.now()+27*60*60*1e3),price:"0.015",status:"pending",notes:"Smart contract review"}]),[y,v]=reactExports.useState(!1),[b,w]=reactExports.useState(!1),[S,P]=reactExports.useState({startTime:"",endTime:"",price:"0.01",isRecurring:!1,recurringInterval:7,metadata:""}),R=()=>{if(!S.startTime||!S.endTime)return;const lr={id:Date.now().toString(),startTime:new Date(S.startTime),endTime:new Date(S.endTime),price:S.price,isRecurring:S.isRecurring,recurringInterval:S.recurringInterval,isAvailable:!0,metadata:S.metadata};c(br=>[...br,lr]),v(!1),P({startTime:"",endTime:"",price:"0.01",isRecurring:!1,recurringInterval:7,metadata:""})},T=lr=>{c(br=>br.filter(wr=>wr.id!==lr))},k=lr=>{c(br=>br.map(wr=>wr.id===lr?{...wr,isAvailable:!wr.isAvailable}:wr))},or=lr=>lr.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),dr=lr=>{switch(lr){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},yr=lr=>{switch(lr){case 0:return"Fixed";case 1:return"Hourly";case 2:return"Dynamic";case 3:return"Subscription";default:return"Fixed"}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Host Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage your availability, meetings, and earnings"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Badge,{variant:s.isActive?"default":"secondary",children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4 mr-1"}),s.isActive?"Active":"Inactive"]}),s.verified&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 mr-1"}),"Verified"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Earnings"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[u.totalEarnings," ETH"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",u.thisMonthEarnings," ETH this month"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Meetings"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:u.totalMeetings}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",u.thisWeekBookings," this week"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Average Rating"}),jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[u.averageRating,"/10"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.completionRate,"% completion rate"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Response Time"}),jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["~",u.responseTime,"min"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"availability",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"availability",children:"Availability"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"meetings",children:"Meetings"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"profile",children:"Profile"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"analytics",children:"Analytics"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"availability",className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Availability Slots"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage your available time slots for meetings"})]}),jsxRuntimeExports.jsxs(Dialog,{open:y,onOpenChange:v,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Slot"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Add Availability Slot"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Create a new time slot for meetings"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"startTime",children:"Start Time"}),jsxRuntimeExports.jsx(Input,{id:"startTime",type:"datetime-local",value:S.startTime,onChange:lr=>P(br=>({...br,startTime:lr.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"endTime",children:"End Time"}),jsxRuntimeExports.jsx(Input,{id:"endTime",type:"datetime-local",value:S.endTime,onChange:lr=>P(br=>({...br,endTime:lr.target.value}))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"price",children:"Price (ETH)"}),jsxRuntimeExports.jsx(Input,{id:"price",type:"number",step:"0.001",value:S.price,onChange:lr=>P(br=>({...br,price:lr.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"recurring",checked:S.isRecurring,onCheckedChange:lr=>P(br=>({...br,isRecurring:lr}))}),jsxRuntimeExports.jsx(Label,{htmlFor:"recurring",children:"Recurring slot"})]}),S.isRecurring&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"interval",children:"Recurring Interval (days)"}),jsxRuntimeExports.jsxs(Select,{value:S.recurringInterval.toString(),onValueChange:lr=>P(br=>({...br,recurringInterval:parseInt(lr)})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"Daily"}),jsxRuntimeExports.jsx(SelectItem,{value:"7",children:"Weekly"}),jsxRuntimeExports.jsx(SelectItem,{value:"14",children:"Bi-weekly"}),jsxRuntimeExports.jsx(SelectItem,{value:"30",children:"Monthly"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"metadata",children:"Notes (optional)"}),jsxRuntimeExports.jsx(Textarea,{id:"metadata",placeholder:"Add any notes about this slot...",value:S.metadata,onChange:lr=>P(br=>({...br,metadata:lr.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:R,children:"Add Slot"})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:a.map(lr=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[or(lr.startTime)," - ",or(lr.endTime)]}),lr.isRecurring&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:["Recurring (",lr.recurringInterval,"d)"]}),jsxRuntimeExports.jsx(Badge,{variant:lr.isAvailable?"default":"secondary",className:"text-xs",children:lr.isAvailable?"Available":"Unavailable"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[lr.price," ETH"]})]}),lr.metadata&&jsxRuntimeExports.jsx("span",{children:lr.metadata})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>k(lr.id),children:lr.isAvailable?"Disable":"Enable"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>T(lr.id),children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})})},lr.id))})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"meetings",className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Upcoming Meetings"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage your scheduled meetings and bookings"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:p.map(lr=>jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:lr.requesterName}),jsxRuntimeExports.jsx(Badge,{className:`text-xs ${dr(lr.status)}`,children:lr.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:or(lr.startTime)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[lr.price," ETH"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[lr.requesterAddress.slice(0,6),"...",lr.requesterAddress.slice(-4)]})]})]}),lr.notes&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:lr.notes})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[lr.status==="pending"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:"Decline"}),jsxRuntimeExports.jsx(Button,{size:"sm",children:"Confirm"})]}),lr.status==="confirmed"&&jsxRuntimeExports.jsx(Button,{size:"sm",children:"Start Meeting"})]})]})})},lr.id))})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"profile",className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Host Profile"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage your public profile and settings"})]}),jsxRuntimeExports.jsxs(Dialog,{open:b,onOpenChange:w,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Host Profile"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update your public profile information"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"displayName",children:"Display Name"}),jsxRuntimeExports.jsx(Input,{id:"displayName",value:s.displayName,onChange:lr=>o(br=>({...br,displayName:lr.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"timezone",children:"Timezone"}),jsxRuntimeExports.jsxs(Select,{value:s.timezone,onValueChange:lr=>o(br=>({...br,timezone:lr})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"UTC-8",children:"UTC-8 (PST)"}),jsxRuntimeExports.jsx(SelectItem,{value:"UTC-5",children:"UTC-5 (EST)"}),jsxRuntimeExports.jsx(SelectItem,{value:"UTC",children:"UTC"}),jsxRuntimeExports.jsx(SelectItem,{value:"UTC+1",children:"UTC+1 (CET)"}),jsxRuntimeExports.jsx(SelectItem,{value:"UTC+9",children:"UTC+9 (JST)"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"bio",children:"Bio"}),jsxRuntimeExports.jsx(Textarea,{id:"bio",value:s.bio,onChange:lr=>o(br=>({...br,bio:lr.target.value})),rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"defaultPrice",children:"Default Price (ETH)"}),jsxRuntimeExports.jsx(Input,{id:"defaultPrice",type:"number",step:"0.001",value:s.defaultPrice,onChange:lr=>o(br=>({...br,defaultPrice:lr.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"pricingModel",children:"Pricing Model"}),jsxRuntimeExports.jsxs(Select,{value:s.pricingModel.toString(),onValueChange:lr=>o(br=>({...br,pricingModel:parseInt(lr)})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"0",children:"Fixed"}),jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"Hourly"}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:"Dynamic"}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:"Subscription"})]})]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"isActive",children:"Active Status"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new bookings"})]}),jsxRuntimeExports.jsx(Switch,{id:"isActive",checked:s.isActive,onCheckedChange:lr=>o(br=>({...br,isActive:lr}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"autoConfirm",children:"Auto-confirm meetings"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically confirm new bookings"})]}),jsxRuntimeExports.jsx(Switch,{id:"autoConfirm",checked:s.autoConfirm,onCheckedChange:lr=>o(br=>({...br,autoConfirm:lr}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"instantBooking",children:"Instant booking"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow instant bookings without approval"})]}),jsxRuntimeExports.jsx(Switch,{id:"instantBooking",checked:s.instantBooking,onCheckedChange:lr=>o(br=>({...br,instantBooking:lr}))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:()=>w(!1),children:"Save Changes"})]})]})]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:s.displayName.charAt(0)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:s.displayName}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:e.address})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Bio"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:s.bio})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Specialties"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:s.specialties.map(lr=>jsxRuntimeExports.jsx(Badge,{variant:"outline",children:lr},lr))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Languages"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:s.languages.map(lr=>jsxRuntimeExports.jsx(Badge,{variant:"outline",children:lr},lr))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-semibold",children:[s.defaultPrice," ETH"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Default Price"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:yr(s.pricingModel)}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Pricing Model"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:s.timezone}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Timezone"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:s.isActive?"Active":"Inactive"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})]})})})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"analytics",className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Analytics & Insights"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Track your performance and earnings over time"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Earnings Trend"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[u.totalEarnings," ETH"]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Total earnings"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["📈 +",u.thisMonthEarnings," ETH this month"]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Meeting Statistics"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Total Meetings"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:u.totalMeetings})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"This Week"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:u.thisWeekBookings})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Completion Rate"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[u.completionRate,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Average Rating"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[u.averageRating,"/10"]})]})]})})]})]})]})]})]})},EnhancedRequesterDashboard=({user:e,onBookMeeting:s})=>{const[o,a]=reactExports.useState([{id:"1",hostAddress:"0x1234567890123456789012345678901234567890",hostName:"Dr. Sarah Chen",startTime:new Date(Date.now()+72e5),endTime:new Date(Date.now()+108e5),price:"0.05",status:"confirmed",notes:"Blockchain consultation session",specialty:"Blockchain Consulting"},{id:"2",hostAddress:"0x2345678901234567890123456789012345678901",hostName:"Alex Rodriguez",startTime:new Date(Date.now()+936e5),endTime:new Date(Date.now()+972e5),price:"0.03",status:"pending",notes:"Technical support for smart contract deployment",specialty:"Technical Support"},{id:"3",hostAddress:"0x3456789012345678901234567890123456789012",hostName:"Maria Santos",startTime:new Date(Date.now()-864e5),endTime:new Date(Date.now()-828e5),price:"0.08",status:"completed",notes:"Business strategy consultation",specialty:"Business Strategy",rating:9,feedback:"Excellent insights on tokenomics and go-to-market strategy!"}]),[c,u]=reactExports.useState(""),[h,p]=reactExports.useState("all"),[m,y]=reactExports.useState(null),[v,b]=reactExports.useState(!1),[w,S]=reactExports.useState(!1),[P,R]=reactExports.useState({hostAddress:"",hostName:"",startTime:new Date,endTime:new Date,price:"0.01",notes:"",specialty:""}),[T,k]=reactExports.useState(0),[or,dr]=reactExports.useState(""),yr=o.filter(er=>{var hr;const H=er.hostName.toLowerCase().includes(c.toLowerCase())||er.specialty.toLowerCase().includes(c.toLowerCase())||((hr=er.notes)==null?void 0:hr.toLowerCase().includes(c.toLowerCase())),pr=h==="all"||er.status===h;return H&&pr}),lr=yr.filter(er=>er.status==="confirmed"||er.status==="pending"),br=yr.filter(er=>er.status==="completed"||er.status==="cancelled"),wr=er=>er.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Sr=er=>{switch(er){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Rr=er=>{switch(er){case"confirmed":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-600"});case"pending":return jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-yellow-600"});case"completed":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-blue-600"});case"cancelled":return jsxRuntimeExports.jsx(CircleX,{className:"w-4 h-4 text-red-600"});default:return jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-gray-600"})}},Ir=er=>{a(H=>H.map(pr=>pr.id===er?{...pr,status:"cancelled"}:pr))},xr=()=>{m&&(a(er=>er.map(H=>H.id===m.id?{...H,rating:T,feedback:or}:H)),S(!1),k(0),dr(""),y(null))},C=()=>{s&&s(P);const er={id:Date.now().toString(),...P,status:"pending"};a(H=>[...H,er]),b(!1),R({hostAddress:"",hostName:"",startTime:new Date,endTime:new Date,price:"0.01",notes:"",specialty:""})},B=o.filter(er=>er.status==="completed").reduce((er,H)=>er+parseFloat(H.price),0),ur=o.filter(er=>er.rating).reduce((er,H,pr,hr)=>er+(H.rating||0)/hr.length,0);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"My Meetings"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage your meeting bookings and history"})]}),jsxRuntimeExports.jsxs(Dialog,{open:v,onOpenChange:b,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 mr-2"}),"Book Meeting"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Book a New Meeting"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Schedule a meeting with a host"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"hostName",children:"Host Name"}),jsxRuntimeExports.jsx(Input,{id:"hostName",value:P.hostName,onChange:er=>R(H=>({...H,hostName:er.target.value})),placeholder:"Enter host name"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"specialty",children:"Specialty"}),jsxRuntimeExports.jsxs(Select,{value:P.specialty,onValueChange:er=>R(H=>({...H,specialty:er})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select specialty"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Blockchain Consulting",children:"Blockchain Consulting"}),jsxRuntimeExports.jsx(SelectItem,{value:"Technical Support",children:"Technical Support"}),jsxRuntimeExports.jsx(SelectItem,{value:"Business Strategy",children:"Business Strategy"}),jsxRuntimeExports.jsx(SelectItem,{value:"Legal Consultation",children:"Legal Consultation"}),jsxRuntimeExports.jsx(SelectItem,{value:"UI/UX Design",children:"UI/UX Design"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"startTime",children:"Start Time"}),jsxRuntimeExports.jsx(Input,{id:"startTime",type:"datetime-local",value:P.startTime.toISOString().slice(0,16),onChange:er=>R(H=>({...H,startTime:new Date(er.target.value)}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"endTime",children:"End Time"}),jsxRuntimeExports.jsx(Input,{id:"endTime",type:"datetime-local",value:P.endTime.toISOString().slice(0,16),onChange:er=>R(H=>({...H,endTime:new Date(er.target.value)}))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"price",children:"Price (ETH)"}),jsxRuntimeExports.jsx(Input,{id:"price",type:"number",step:"0.001",value:P.price,onChange:er=>R(H=>({...H,price:er.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"notes",children:"Notes"}),jsxRuntimeExports.jsx(Textarea,{id:"notes",value:P.notes,onChange:er=>R(H=>({...H,notes:er.target.value})),placeholder:"Add any notes about the meeting...",rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:C,children:"Book Meeting"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Meetings"}),jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:o.length}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[lr.length," upcoming"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Spent"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[B.toFixed(3)," ETH"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",o.filter(er=>er.status==="completed").length," completed meetings"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Average Rating"}),jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:ur?ur.toFixed(1):"N/A"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",o.filter(er=>er.rating).length," rated meetings"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Success Rate"}),jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[o.length>0?Math.round(o.filter(er=>er.status==="completed").length/o.length*100):0,"%"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion rate"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search meetings by host, specialty, or notes...",value:c,onChange:er=>u(er.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs(Select,{value:h,onValueChange:p,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-40",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filter by status"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Status"}),jsxRuntimeExports.jsx(SelectItem,{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx(SelectItem,{value:"confirmed",children:"Confirmed"}),jsxRuntimeExports.jsx(SelectItem,{value:"completed",children:"Completed"}),jsxRuntimeExports.jsx(SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"upcoming",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"upcoming",children:["Upcoming (",lr.length,")"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"history",children:["History (",br.length,")"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"upcoming",className:"space-y-4",children:lr.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"No upcoming meetings"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Book a meeting with a host to get started"}),jsxRuntimeExports.jsx(Button,{onClick:()=>b(!0),children:"Book Your First Meeting"})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:lr.map(er=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:er.hostName.charAt(0)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:er.hostName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:er.specialty}),jsxRuntimeExports.jsxs(Badge,{className:`text-xs ${Sr(er.status)}`,children:[Rr(er.status),jsxRuntimeExports.jsx("span",{className:"ml-1",children:er.status})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:wr(er.startTime)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[Math.round((er.endTime.getTime()-er.startTime.getTime())/(1e3*60))," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[er.price," ETH"]})]})]}),er.notes&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:er.notes})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[er.status==="pending"&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Ir(er.id),children:"Cancel"}),er.status==="confirmed"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4 mr-1"}),"Chat"]}),jsxRuntimeExports.jsx(Button,{size:"sm",children:"Join Meeting"})]})]})]})})},er.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"history",className:"space-y-4",children:br.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Clock,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"No meeting history"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Your completed and cancelled meetings will appear here"})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:br.map(er=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:er.hostName.charAt(0)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:er.hostName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:er.specialty}),jsxRuntimeExports.jsxs(Badge,{className:`text-xs ${Sr(er.status)}`,children:[Rr(er.status),jsxRuntimeExports.jsx("span",{className:"ml-1",children:er.status})]}),er.rating&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),jsxRuntimeExports.jsxs("span",{className:"text-xs",children:[er.rating,"/10"]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:wr(er.startTime)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[Math.round((er.endTime.getTime()-er.startTime.getTime())/(1e3*60))," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[er.price," ETH"]})]})]}),er.notes&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:er.notes}),er.feedback&&jsxRuntimeExports.jsx("div",{className:"bg-muted p-3 rounded-md",children:jsxRuntimeExports.jsx("p",{className:"text-sm",children:er.feedback})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[er.status==="completed"&&!er.rating&&jsxRuntimeExports.jsxs(Dialog,{open:w,onOpenChange:S,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>y(er),children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 mr-1"}),"Rate"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Rate Your Meeting"}),jsxRuntimeExports.jsxs(DialogDescription,{children:["How was your meeting with ",m==null?void 0:m.hostName,"?"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{children:"Rating (1-10)"}),jsxRuntimeExports.jsx("div",{className:"flex space-x-1",children:[...Array(10)].map((H,pr)=>jsxRuntimeExports.jsx(Button,{variant:T>pr?"default":"outline",size:"sm",onClick:()=>k(pr+1),className:"w-8 h-8 p-0",children:pr+1},pr))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"feedback",children:"Feedback (optional)"}),jsxRuntimeExports.jsx(Textarea,{id:"feedback",value:or,onChange:H=>dr(H.target.value),placeholder:"Share your experience...",rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:xr,disabled:T===0,children:"Submit Rating"})]})]})]})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:"Book Again"})]})]})})},er.id))})})]})]})};var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection,useCollection,createCollectionScope]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope(SLIDER_NAME,[createCollectionScope]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((e,s)=>{const{name:o,min:a=0,max:c=100,step:u=1,orientation:h="horizontal",disabled:p=!1,minStepsBetweenThumbs:m=0,defaultValue:y=[a],value:v,onValueChange:b=()=>{},onValueCommit:w=()=>{},inverted:S=!1,form:P,...R}=e,T=reactExports.useRef(new Set),k=reactExports.useRef(0),dr=h==="horizontal"?SliderHorizontal:SliderVertical,[yr=[],lr]=useControllableState({prop:v,defaultProp:y,onChange:xr=>{var B;(B=[...T.current][k.current])==null||B.focus(),b(xr)}}),br=reactExports.useRef(yr);function wr(xr){const C=getClosestValueIndex(yr,xr);Ir(xr,C)}function Sr(xr){Ir(xr,k.current)}function Rr(){const xr=br.current[k.current];yr[k.current]!==xr&&w(yr)}function Ir(xr,C,{commit:B}={commit:!1}){const ur=getDecimalCount(u),er=roundValue(Math.round((xr-a)/u)*u+a,ur),H=clamp$1(er,[a,c]);lr((pr=[])=>{const hr=getNextSortedValues(pr,H,C);if(hasMinStepsBetweenValues(hr,m*u)){k.current=hr.indexOf(H);const mr=String(hr)!==String(pr);return mr&&B&&w(hr),mr?hr:pr}else return pr})}return jsxRuntimeExports.jsx(SliderProvider,{scope:e.__scopeSlider,name:o,disabled:p,min:a,max:c,valueIndexToChangeRef:k,thumbs:T.current,values:yr,orientation:h,form:P,children:jsxRuntimeExports.jsx(Collection.Provider,{scope:e.__scopeSlider,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:e.__scopeSlider,children:jsxRuntimeExports.jsx(dr,{"aria-disabled":p,"data-disabled":p?"":void 0,...R,ref:s,onPointerDown:composeEventHandlers(R.onPointerDown,()=>{p||(br.current=yr)}),min:a,max:c,inverted:S,onSlideStart:p?void 0:wr,onSlideMove:p?void 0:Sr,onSlideEnd:p?void 0:Rr,onHomeKeyDown:()=>!p&&Ir(a,0,{commit:!0}),onEndKeyDown:()=>!p&&Ir(c,yr.length-1,{commit:!0}),onStepKeyDown:({event:xr,direction:C})=>{if(!p){const er=PAGE_KEYS.includes(xr.key)||xr.shiftKey&&ARROW_KEYS.includes(xr.key)?10:1,H=k.current,pr=yr[H],hr=u*er*C;Ir(pr+hr,H,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((e,s)=>{const{min:o,max:a,dir:c,inverted:u,onSlideStart:h,onSlideMove:p,onSlideEnd:m,onStepKeyDown:y,...v}=e,[b,w]=reactExports.useState(null),S=useComposedRefs(s,dr=>w(dr)),P=reactExports.useRef(void 0),R=useDirection(c),T=R==="ltr",k=T&&!u||!T&&u;function or(dr){const yr=P.current||b.getBoundingClientRect(),lr=[0,yr.width],wr=linearScale(lr,k?[o,a]:[a,o]);return P.current=yr,wr(dr-yr.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:R,"data-orientation":"horizontal",...v,ref:S,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:dr=>{const yr=or(dr.clientX);h==null||h(yr)},onSlideMove:dr=>{const yr=or(dr.clientX);p==null||p(yr)},onSlideEnd:()=>{P.current=void 0,m==null||m()},onStepKeyDown:dr=>{const lr=BACK_KEYS[k?"from-left":"from-right"].includes(dr.key);y==null||y({event:dr,direction:lr?-1:1})}})})}),SliderVertical=reactExports.forwardRef((e,s)=>{const{min:o,max:a,inverted:c,onSlideStart:u,onSlideMove:h,onSlideEnd:p,onStepKeyDown:m,...y}=e,v=reactExports.useRef(null),b=useComposedRefs(s,v),w=reactExports.useRef(void 0),S=!c;function P(R){const T=w.current||v.current.getBoundingClientRect(),k=[0,T.height],dr=linearScale(k,S?[a,o]:[o,a]);return w.current=T,dr(R-T.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...y,ref:b,style:{...y.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:R=>{const T=P(R.clientY);u==null||u(T)},onSlideMove:R=>{const T=P(R.clientY);h==null||h(T)},onSlideEnd:()=>{w.current=void 0,p==null||p()},onStepKeyDown:R=>{const k=BACK_KEYS[S?"from-bottom":"from-top"].includes(R.key);m==null||m({event:R,direction:k?-1:1})}})})}),SliderImpl=reactExports.forwardRef((e,s)=>{const{__scopeSlider:o,onSlideStart:a,onSlideMove:c,onSlideEnd:u,onHomeKeyDown:h,onEndKeyDown:p,onStepKeyDown:m,...y}=e,v=useSliderContext(SLIDER_NAME,o);return jsxRuntimeExports.jsx(Primitive.span,{...y,ref:s,onKeyDown:composeEventHandlers(e.onKeyDown,b=>{b.key==="Home"?(h(b),b.preventDefault()):b.key==="End"?(p(b),b.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(b.key)&&(m(b),b.preventDefault())}),onPointerDown:composeEventHandlers(e.onPointerDown,b=>{const w=b.target;w.setPointerCapture(b.pointerId),b.preventDefault(),v.thumbs.has(w)?w.focus():a(b)}),onPointerMove:composeEventHandlers(e.onPointerMove,b=>{b.target.hasPointerCapture(b.pointerId)&&c(b)}),onPointerUp:composeEventHandlers(e.onPointerUp,b=>{const w=b.target;w.hasPointerCapture(b.pointerId)&&(w.releasePointerCapture(b.pointerId),u(b))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((e,s)=>{const{__scopeSlider:o,...a}=e,c=useSliderContext(TRACK_NAME,o);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation,...a,ref:s})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((e,s)=>{const{__scopeSlider:o,...a}=e,c=useSliderContext(RANGE_NAME,o),u=useSliderOrientationContext(RANGE_NAME,o),h=reactExports.useRef(null),p=useComposedRefs(s,h),m=c.values.length,y=c.values.map(w=>convertValueToPercentage(w,c.min,c.max)),v=m>1?Math.min(...y):0,b=100-Math.max(...y);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,...a,ref:p,style:{...e.style,[u.startEdge]:v+"%",[u.endEdge]:b+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME="SliderThumb",SliderThumb=reactExports.forwardRef((e,s)=>{const o=useCollection(e.__scopeSlider),[a,c]=reactExports.useState(null),u=useComposedRefs(s,p=>c(p)),h=reactExports.useMemo(()=>a?o().findIndex(p=>p.ref.current===a):-1,[o,a]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...e,ref:u,index:h})}),SliderThumbImpl=reactExports.forwardRef((e,s)=>{const{__scopeSlider:o,index:a,name:c,...u}=e,h=useSliderContext(THUMB_NAME,o),p=useSliderOrientationContext(THUMB_NAME,o),[m,y]=reactExports.useState(null),v=useComposedRefs(s,or=>y(or)),b=m?h.form||!!m.closest("form"):!0,w=useSize(m),S=h.values[a],P=S===void 0?0:convertValueToPercentage(S,h.min,h.max),R=getLabel(a,h.values.length),T=w==null?void 0:w[p.size],k=T?getThumbInBoundsOffset(T,P,p.direction):0;return reactExports.useEffect(()=>{if(m)return h.thumbs.add(m),()=>{h.thumbs.delete(m)}},[m,h.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[p.startEdge]:`calc(${P}% + ${k}px)`},children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:e.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":e["aria-label"]||R,"aria-valuemin":h.min,"aria-valuenow":S,"aria-valuemax":h.max,"aria-orientation":h.orientation,"data-orientation":h.orientation,"data-disabled":h.disabled?"":void 0,tabIndex:h.disabled?void 0:0,...u,ref:v,style:S===void 0?{display:"none"}:e.style,onFocus:composeEventHandlers(e.onFocus,()=>{h.valueIndexToChangeRef.current=a})})}),b&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:c??(h.name?h.name+(h.values.length>1?"[]":""):void 0),form:h.form,value:S},a)]})});SliderThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME$1="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:e,value:s,...o},a)=>{const c=reactExports.useRef(null),u=useComposedRefs(c,a),h=usePrevious(s);return reactExports.useEffect(()=>{const p=c.current;if(!p)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(h!==s&&v){const b=new Event("input",{bubbles:!0});v.call(p,s),p.dispatchEvent(b)}},[h,s]),jsxRuntimeExports.jsx(Primitive.input,{style:{display:"none"},...o,ref:u,defaultValue:s})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function getNextSortedValues(e=[],s,o){const a=[...e];return a[o]=s,a.sort((c,u)=>c-u)}function convertValueToPercentage(e,s,o){const u=100/(o-s)*(e-s);return clamp$1(u,[0,100])}function getLabel(e,s){return s>2?`Value ${e+1} of ${s}`:s===2?["Minimum","Maximum"][e]:void 0}function getClosestValueIndex(e,s){if(e.length===1)return 0;const o=e.map(c=>Math.abs(c-s)),a=Math.min(...o);return o.indexOf(a)}function getThumbInBoundsOffset(e,s,o){const a=e/2,u=linearScale([0,50],[0,a]);return(a-u(s)*o)*o}function getStepsBetweenValues(e){return e.slice(0,-1).map((s,o)=>e[o+1]-s)}function hasMinStepsBetweenValues(e,s){if(s>0){const o=getStepsBetweenValues(e);return Math.min(...o)>=s}return!0}function linearScale(e,s){return o=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(e[1]-e[0]);return s[0]+a*(o-e[0])}}function getDecimalCount(e){return(String(e).split(".")[1]||"").length}function roundValue(e,s){const o=Math.pow(10,s);return Math.round(e*o)/o}var Root=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;function Slider({className:e,defaultValue:s,value:o,min:a=0,max:c=100,...u}){const h=reactExports.useMemo(()=>Array.isArray(o)?o:Array.isArray(s)?s:[a,c],[o,s,a,c]);return jsxRuntimeExports.jsxs(Root,{"data-slot":"slider",defaultValue:s,value:o,min:a,max:c,className:cn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...u,children:[jsxRuntimeExports.jsx(Track,{"data-slot":"slider-track",className:cn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:jsxRuntimeExports.jsx(Range,{"data-slot":"slider-range",className:cn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:h.length},(p,m)=>jsxRuntimeExports.jsx(Thumb,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},m))]})}var CHECKBOX_NAME="Checkbox",[createCheckboxContext,createCheckboxScope]=createContextScope(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(e){const{__scopeCheckbox:s,checked:o,children:a,defaultChecked:c,disabled:u,form:h,name:p,onCheckedChange:m,required:y,value:v="on",internal_do_not_use_render:b}=e,[w,S]=useControllableState({prop:o,defaultProp:c??!1,onChange:m,caller:CHECKBOX_NAME}),[P,R]=reactExports.useState(null),[T,k]=reactExports.useState(null),or=reactExports.useRef(!1),dr=P?!!h||!!P.closest("form"):!0,yr={checked:w,disabled:u,setChecked:S,control:P,setControl:R,name:p,form:h,value:v,hasConsumerStoppedPropagationRef:or,required:y,defaultChecked:isIndeterminate(c)?!1:c,isFormControl:dr,bubbleInput:T,setBubbleInput:k};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:s,...yr,children:isFunction(b)?b(yr):a})}var TRIGGER_NAME="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:o,...a},c)=>{const{control:u,value:h,disabled:p,checked:m,required:y,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:P}=useCheckboxContext(TRIGGER_NAME,e),R=useComposedRefs(c,v),T=reactExports.useRef(m);return reactExports.useEffect(()=>{const k=u==null?void 0:u.form;if(k){const or=()=>b(T.current);return k.addEventListener("reset",or),()=>k.removeEventListener("reset",or)}},[u,b]),jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(m)?"mixed":m,"aria-required":y,"data-state":getState(m),"data-disabled":p?"":void 0,disabled:p,value:h,...a,ref:R,onKeyDown:composeEventHandlers(s,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:composeEventHandlers(o,k=>{b(or=>isIndeterminate(or)?!0:!or),P&&S&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME;var Checkbox$1=reactExports.forwardRef((e,s)=>{const{__scopeCheckbox:o,name:a,checked:c,defaultChecked:u,required:h,disabled:p,value:m,onCheckedChange:y,form:v,...b}=e;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:o,checked:c,defaultChecked:u,disabled:p,required:h,onCheckedChange:y,name:a,form:v,value:m,internal_do_not_use_render:({isFormControl:w})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...b,ref:s,__scopeCheckbox:o}),w&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:o})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((e,s)=>{const{__scopeCheckbox:o,forceMount:a,...c}=e,u=useCheckboxContext(INDICATOR_NAME,o);return jsxRuntimeExports.jsx(Presence,{present:a||isIndeterminate(u.checked)||u.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(u.checked),"data-disabled":u.disabled?"":void 0,...c,ref:s,style:{pointerEvents:"none",...e.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME;var BUBBLE_INPUT_NAME="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:e,...s},o)=>{const{control:a,hasConsumerStoppedPropagationRef:c,checked:u,defaultChecked:h,required:p,disabled:m,name:y,value:v,form:b,bubbleInput:w,setBubbleInput:S}=useCheckboxContext(BUBBLE_INPUT_NAME,e),P=useComposedRefs(o,S),R=usePrevious(u),T=useSize(a);reactExports.useEffect(()=>{const or=w;if(!or)return;const dr=window.HTMLInputElement.prototype,lr=Object.getOwnPropertyDescriptor(dr,"checked").set,br=!c.current;if(R!==u&&lr){const wr=new Event("click",{bubbles:br});or.indeterminate=isIndeterminate(u),lr.call(or,isIndeterminate(u)?!1:u),or.dispatchEvent(wr)}},[w,R,u,c]);const k=reactExports.useRef(isIndeterminate(u)?!1:u);return jsxRuntimeExports.jsx(Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??k.current,required:p,disabled:m,name:y,value:v,form:b,...s,tabIndex:-1,ref:P,style:{...s.style,...T,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME;function isFunction(e){return typeof e=="function"}function isIndeterminate(e){return e==="indeterminate"}function getState(e){return isIndeterminate(e)?"indeterminate":e?"checked":"unchecked"}function Checkbox({className:e,...s}){return jsxRuntimeExports.jsx(Checkbox$1,{"data-slot":"checkbox",className:cn("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:jsxRuntimeExports.jsx(CheckboxIndicator,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:jsxRuntimeExports.jsx(Check,{className:"size-3.5"})})})}const HostMarketplace=({user:e,onHostSelect:s,onBookMeeting:o})=>{var Sr,Rr,Ir,xr,C,B,ur,er;const[a,c]=reactExports.useState([]),[u,h]=reactExports.useState([]),[p,m]=reactExports.useState(!1),[y,v]=reactExports.useState(""),[b,w]=reactExports.useState(null),[S,P]=reactExports.useState(!1),[R,T]=reactExports.useState("rating"),[k,or]=reactExports.useState({priceRange:{min:0,max:1},rating:0,specialties:[],verified:!1,instantBooking:!1,premiumOnly:!1}),dr=[{address:"0x1234567890123456789012345678901234567890",displayName:"Dr. Sarah Chen",bio:"Expert blockchain consultant with 10+ years in DeFi and smart contract development. Specialized in tokenomics and protocol design.",profileImageUrl:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",defaultPrice:"0.05",pricingModel:0,totalEarnings:"2.5",totalMeetings:47,rating:9.2,ratingCount:43,isActive:!0,specialties:["Blockchain Consulting","Smart Contracts","DeFi"],languages:["English","Mandarin"],timezone:"UTC-8",responseTime:15,availability:{nextAvailable:new Date(Date.now()+24*60*60*1e3),slotsThisWeek:8,slotsNextWeek:12},metadata:{verified:!0,premiumHost:!0,instantBooking:!0,autoConfirm:!0}},{address:"0x2345678901234567890123456789012345678901",displayName:"Alex Rodriguez",bio:"Full-stack developer and technical mentor. Helping teams build scalable Web3 applications and navigate technical challenges.",profileImageUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",defaultPrice:"0.03",pricingModel:0,totalEarnings:"1.8",totalMeetings:62,rating:8.9,ratingCount:58,isActive:!0,specialties:["Technical Support","Web3 Development","Code Review"],languages:["English","Spanish"],timezone:"UTC-5",responseTime:30,availability:{nextAvailable:new Date(Date.now()+2*60*60*1e3),slotsThisWeek:15,slotsNextWeek:18},metadata:{verified:!0,premiumHost:!1,instantBooking:!0,autoConfirm:!1}},{address:"0x3456789012345678901234567890123456789012",displayName:"Maria Santos",bio:"Business strategist and startup advisor. Specialized in go-to-market strategies for blockchain startups and tokenomics design.",profileImageUrl:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",defaultPrice:"0.08",pricingModel:0,totalEarnings:"3.2",totalMeetings:38,rating:9.5,ratingCount:35,isActive:!0,specialties:["Business Strategy","Tokenomics","Startup Consulting"],languages:["English","Portuguese","Spanish"],timezone:"UTC-3",responseTime:45,availability:{nextAvailable:new Date(Date.now()+48*60*60*1e3),slotsThisWeek:5,slotsNextWeek:8},metadata:{verified:!0,premiumHost:!0,instantBooking:!1,autoConfirm:!0}},{address:"0x4567890123456789012345678901234567890123",displayName:"David Kim",bio:"Legal expert in cryptocurrency and blockchain regulations. Helping projects navigate compliance and regulatory frameworks.",profileImageUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",defaultPrice:"0.12",pricingModel:0,totalEarnings:"4.1",totalMeetings:29,rating:9.7,ratingCount:27,isActive:!0,specialties:["Legal Consultation","Regulatory Compliance","Smart Contract Auditing"],languages:["English","Korean"],timezone:"UTC+9",responseTime:60,availability:{nextAvailable:new Date(Date.now()+72*60*60*1e3),slotsThisWeek:3,slotsNextWeek:6},metadata:{verified:!0,premiumHost:!0,instantBooking:!1,autoConfirm:!1}},{address:"0x5678901234567890123456789012345678901234",displayName:"Emma Thompson",bio:"UX/UI designer specializing in Web3 interfaces. Creating intuitive user experiences for decentralized applications.",profileImageUrl:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=150&h=150&fit=crop&crop=face",defaultPrice:"0.04",pricingModel:0,totalEarnings:"1.2",totalMeetings:31,rating:8.6,ratingCount:28,isActive:!0,specialties:["UI/UX Design","Web3 Design","User Research"],languages:["English"],timezone:"UTC+0",responseTime:20,availability:{nextAvailable:new Date(Date.now()+6*60*60*1e3),slotsThisWeek:12,slotsNextWeek:15},metadata:{verified:!1,premiumHost:!1,instantBooking:!0,autoConfirm:!0}}];reactExports.useEffect(()=>{m(!0),setTimeout(()=>{c(dr),h(dr),m(!1)},1e3)},[]),reactExports.useEffect(()=>{yr()},[a,y,k,R]);const yr=()=>{let H=a.filter(pr=>{if(y){const hr=y.toLowerCase();if(!(pr.displayName.toLowerCase().includes(hr)||pr.bio.toLowerCase().includes(hr)||pr.specialties.some($=>$.toLowerCase().includes(hr))))return!1}if(k.priceRange){const hr=parseFloat(pr.defaultPrice);if(hr<k.priceRange.min||hr>k.priceRange.max)return!1}return!(k.rating&&pr.rating<k.rating||k.specialties&&k.specialties.length>0&&!k.specialties.some(mr=>pr.specialties.includes(mr))||k.verified&&!pr.metadata.verified||k.instantBooking&&!pr.metadata.instantBooking||k.premiumOnly&&!pr.metadata.premiumHost)});H.sort((pr,hr)=>{switch(R){case"rating":return hr.rating-pr.rating;case"price":return parseFloat(pr.defaultPrice)-parseFloat(hr.defaultPrice);case"availability":return hr.availability.slotsThisWeek-pr.availability.slotsThisWeek;case"responseTime":return pr.responseTime-hr.responseTime;default:return 0}}),h(H)},lr=H=>{if(!H)return"Not available";const pr=new Date,hr=Math.round((H.getTime()-pr.getTime())/(1e3*60*60));return hr<24?`Available in ${hr}h`:`Available in ${Math.round(hr/24)}d`},br=H=>{switch(H){case 0:return"Fixed";case 1:return"Hourly";case 2:return"Dynamic";case 3:return"Subscription";default:return"Fixed"}},wr=Array.from(new Set(a.flatMap(H=>H.specialties)));return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Host Marketplace"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Discover and book meetings with verified experts"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 mr-1"}),a.length," Hosts"]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 mr-1"}),(a.reduce((H,pr)=>H+pr.rating,0)/a.length).toFixed(1)," Avg Rating"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search hosts by name, specialty, or expertise...",value:y,onChange:H=>v(H.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Select,{value:R,onValueChange:H=>T(H),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-40",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Sort by"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"rating",children:"Rating"}),jsxRuntimeExports.jsx(SelectItem,{value:"price",children:"Price"}),jsxRuntimeExports.jsx(SelectItem,{value:"availability",children:"Availability"}),jsxRuntimeExports.jsx(SelectItem,{value:"responseTime",children:"Response Time"})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>P(!S),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Funnel,{className:"w-4 h-4"}),"Filters"]})]})]}),S&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Advanced Filters"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Price Range (ETH)"}),jsxRuntimeExports.jsx(Slider,{value:[((Sr=k.priceRange)==null?void 0:Sr.min)||0,((Rr=k.priceRange)==null?void 0:Rr.max)||1],onValueChange:([H,pr])=>or(hr=>({...hr,priceRange:{min:H,max:pr}})),max:1,min:0,step:.01,className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:[(xr=(Ir=k.priceRange)==null?void 0:Ir.min)==null?void 0:xr.toFixed(2)," ETH"]}),jsxRuntimeExports.jsxs("span",{children:[(B=(C=k.priceRange)==null?void 0:C.max)==null?void 0:B.toFixed(2)," ETH"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Minimum Rating"}),jsxRuntimeExports.jsx(Slider,{value:[k.rating||0],onValueChange:([H])=>or(pr=>({...pr,rating:H})),max:10,min:0,step:.1,className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:[((ur=k.rating)==null?void 0:ur.toFixed(1))||"0.0","+ stars"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Specialties"}),jsxRuntimeExports.jsxs(Select,{value:((er=k.specialties)==null?void 0:er[0])||"",onValueChange:H=>or(pr=>({...pr,specialties:H?[H]:[]})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Any specialty"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"",children:"Any specialty"}),wr.map(H=>jsxRuntimeExports.jsx(SelectItem,{value:H,children:H},H))]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"verified",checked:k.verified,onCheckedChange:H=>or(pr=>({...pr,verified:!!H}))}),jsxRuntimeExports.jsx("label",{htmlFor:"verified",className:"text-sm",children:"Verified hosts only"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"instant",checked:k.instantBooking,onCheckedChange:H=>or(pr=>({...pr,instantBooking:!!H}))}),jsxRuntimeExports.jsx("label",{htmlFor:"instant",className:"text-sm",children:"Instant booking"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"premium",checked:k.premiumOnly,onCheckedChange:H=>or(pr=>({...pr,premiumOnly:!!H}))}),jsxRuntimeExports.jsx("label",{htmlFor:"premium",className:"text-sm",children:"Premium hosts only"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:p?"Loading...":`${u.length} hosts found`})}),p?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((H,pr)=>jsxRuntimeExports.jsx(Card,{className:"animate-pulse",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-muted rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-muted rounded w-24"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-muted rounded w-16"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-3 bg-muted rounded"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]})})},pr))}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(H=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:H.profileImageUrl||`https://api.dicebear.com/7.x/avataaars/svg?seed=${H.address}`,alt:H.displayName,className:"w-12 h-12 rounded-full object-cover"}),H.metadata.verified&&jsxRuntimeExports.jsx(BadgeCheck,{className:"absolute -top-1 -right-1 w-5 h-5 text-blue-500 bg-white rounded-full"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold truncate",children:H.displayName}),H.metadata.premiumHost&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Premium"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),jsxRuntimeExports.jsx("span",{children:H.rating.toFixed(1)}),jsxRuntimeExports.jsxs("span",{children:["(",H.ratingCount,")"]})]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:H.bio}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[H.specialties.slice(0,3).map(pr=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:pr},pr)),H.specialties.length>3&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:["+",H.specialties.length-3]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[H.defaultPrice," ETH"]}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:["(",br(H.pricingModel),")"]})]}),H.metadata.instantBooking&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[jsxRuntimeExports.jsx(Zap,{className:"w-3 h-3 mr-1"}),"Instant"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:lr(H.availability.nextAvailable)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:H.timezone})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:[H.availability.slotsThisWeek," slots this week • Responds in ~",H.responseTime,"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Dialog,{children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"flex-1",children:"View Profile"})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:H.profileImageUrl||`https://api.dicebear.com/7.x/avataaars/svg?seed=${H.address}`,alt:H.displayName,className:"w-12 h-12 rounded-full object-cover"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{children:H.displayName}),H.metadata.verified&&jsxRuntimeExports.jsx(BadgeCheck,{className:"w-5 h-5 text-blue-500"}),H.metadata.premiumHost&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Premium"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),jsxRuntimeExports.jsxs("span",{children:[H.rating.toFixed(1)," (",H.ratingCount," reviews)"]})]})]})]}),jsxRuntimeExports.jsx(DialogDescription,{children:H.bio})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"overview",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"availability",children:"Availability"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"reviews",children:"Reviews"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"overview",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Specialties"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:H.specialties.map(pr=>jsxRuntimeExports.jsx(Badge,{variant:"outline",children:pr},pr))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Languages"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:H.languages.map(pr=>jsxRuntimeExports.jsx(Badge,{variant:"outline",children:pr},pr))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:H.totalMeetings}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Meetings"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[H.totalEarnings," ETH"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Earnings"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["~",H.responseTime,"min"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Response Time"})]})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"availability",className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Clock,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"Availability Calendar"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[H.availability.slotsThisWeek," slots available this week"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>o(H,{}),children:"Book a Meeting"})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"reviews",className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Star,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"Reviews & Ratings"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[H.ratingCount," reviews with an average of ",H.rating.toFixed(1)," stars"]})]})})]})]})]}),jsxRuntimeExports.jsx(Button,{size:"sm",className:"flex-1",onClick:()=>o(H,{}),children:"Book Now"})]})]})})},H.address))}),!p&&u.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Search,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"No hosts found"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your search criteria or filters"})]})]})]})};function App(){const{address:e,isConnected:s,chain:o}=useAccount(),{data:a}=useEnsName({address:e}),{connect:c,connectors:u}=useConnect(),{disconnect:h}=useDisconnect(),[p,m]=reactExports.useState("home"),[y,v]=reactExports.useState(!1),b={address:e||"",isConnected:s||y,ensName:a||void 0},w=R=>{console.log("Selected host:",R),m("chat")},S=(R,T)=>{console.log("Booking meeting with:",R,T)};return b.isConnected?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("nav",{className:"bg-white shadow-sm border-b",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between h-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold",children:"AI Scheduler"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex space-x-1",children:[jsxRuntimeExports.jsx(Button,{variant:p==="marketplace"?"default":"ghost",onClick:()=>m("marketplace"),children:"Marketplace"}),jsxRuntimeExports.jsx(Button,{variant:p==="requester"?"default":"ghost",onClick:()=>m("requester"),children:"My Meetings"}),jsxRuntimeExports.jsx(Button,{variant:p==="host"?"default":"ghost",onClick:()=>m("host"),children:"Host Dashboard"}),jsxRuntimeExports.jsx(Button,{variant:p==="chat"?"default":"ghost",onClick:()=>m("chat"),children:"AI Chat"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:b.ensName||`${b.address.slice(0,6)}...${b.address.slice(-4)}`}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>y?v(!1):h(),children:y?"Exit Demo":"Disconnect"})]})]})})}),jsxRuntimeExports.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[p==="marketplace"&&jsxRuntimeExports.jsx(HostMarketplace,{user:b,onHostSelect:w,onBookMeeting:S}),p==="requester"&&jsxRuntimeExports.jsx(EnhancedRequesterDashboard,{user:b,onBookMeeting:S}),p==="host"&&jsxRuntimeExports.jsx(EnhancedHostDashboard,{user:b}),p==="chat"&&jsxRuntimeExports.jsx(ChatInterface,{user:b}),p==="home"&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to AI Meeting Scheduler"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Discover hosts, book meetings, and manage your schedule with AI assistance"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Browse Marketplace"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Discover verified hosts and book meetings"}),jsxRuntimeExports.jsx(Button,{onClick:()=>m("marketplace"),className:"w-full",children:"Explore Hosts"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Manage Meetings"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Track your bookings and meeting history"}),jsxRuntimeExports.jsx(Button,{onClick:()=>m("requester"),className:"w-full",children:"My Meetings"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Become a Host"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Set up your availability and start earning"}),jsxRuntimeExports.jsx(Button,{onClick:()=>m("host"),className:"w-full",children:"Host Dashboard"})]})]})]})]})]}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mx-auto flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Meeting Scheduler"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:"Decentralized meeting scheduling powered by AI and blockchain technology"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Connect Your Wallet"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Connect your Web3 wallet to start scheduling meetings"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:u.map(R=>jsxRuntimeExports.jsxs(Button,{onClick:()=>c({connector:R}),className:"w-full",variant:"outline",children:["Connect ",R.name]},R.uid))}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("span",{className:"w-full border-t"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:jsxRuntimeExports.jsx("span",{className:"bg-white px-2 text-muted-foreground",children:"Or"})})]}),jsxRuntimeExports.jsx(Button,{onClick:()=>v(!0),className:"w-full",variant:"secondary",children:"Try Demo Mode"})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:jsxRuntimeExports.jsx("p",{children:"Supports Base network • XMTP messaging • Smart contract escrow"})})]})})}const queryClient=new QueryClient;clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(WagmiProvider,{config,children:jsxRuntimeExports.jsx(App,{})})})}));export{AbiFunctionSignatureNotFoundError as A,BaseError$5 as B,isHex$1 as C,hexToBytes$3 as D,EventEmitter as E,isBytes as F,abytes as G,HttpRequestError as H,InvalidArrayError as I,bytesToHex$3 as J,concatBytes$4 as K,Hash$1 as L,ahash as M,toBytes$2 as N,clean as O,aexists as P,anumber as Q,randomBytes$1 as R,sha256$3 as S,__vitePreload as _,requireBuffer as a,requireInherits_browser as b,getAugmentedNamespace as c,requireEventemitter3 as d,toFunctionSelector as e,formatAbiItem$1 as f,getDefaultExportFromCjs as g,decodeAbiParameters as h,getAbiItem as i,AbiErrorNotFoundError as j,AbiErrorInputsNotFoundError as k,encodeAbiParameters as l,concatHex$1 as m,AbiFunctionNotFoundError as n,AbiFunctionOutputsNotFoundError as o,batchGatewayAbi as p,solidityError as q,require$$3 as r,slice as s,tslib_es6$1 as t,getUrl as u,stringify as v,decodeErrorResult as w,isAddressEqual$1 as x,call as y,concat$1 as z};
